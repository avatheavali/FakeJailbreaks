/*

 handlebars v4.0.11

 Copyright (C) 2011-2017 by Yehuda Katz

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

*/
if("undefined"!==typeof define&&"undefined"!==typeof define.amd){var amdOriginal=define.amd;define.amd=null}
!function(b,f){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?f(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return f(b)}:f(b)}("undefined"!=typeof window?window:this,function(b,f){function d(a,c,l){var b,d,g=(l=l||O).createElement("script");if(g.text=a,c)for(b in ra)(d=c[b]||c.getAttribute&&c.getAttribute(b))&&g.setAttribute(b,d);l.head.appendChild(g).parentNode.removeChild(g)}function h(a){return null==a?a+"":"object"==
typeof a||"function"==typeof a?Ma[Na.call(a)]||"object":typeof a}function e(a){var c=!!a&&"length"in a&&a.length,l=h(a);return!H(a)&&!ma(a)&&("array"===l||0===c||"number"==typeof c&&0<c&&c-1 in a)}function a(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()}function c(a,c,l){return H(c)?p.grep(a,function(a,R){return!!c.call(a,R,a)!==l}):c.nodeType?p.grep(a,function(a){return a===c!==l}):"string"!=typeof c?p.grep(a,function(a){return-1<Ua.call(c,a)!==l}):p.filter(c,a,l)}function g(a,
c){for(;(a=a[c])&&1!==a.nodeType;);return a}function m(a){return a}function k(a){throw a;}function n(a,c,l,b){var d;try{a&&H(d=a.promise)?d.call(a).done(c).fail(l):a&&H(d=a.then)?d.call(a,c,l):c.apply(void 0,[a].slice(b))}catch(g){l.apply(void 0,[g])}}function q(){O.removeEventListener("DOMContentLoaded",q);b.removeEventListener("load",q);p.ready()}function r(a,c){return c.toUpperCase()}function t(a){return a.replace(Mb,"ms-").replace(Vb,r)}function s(){this.expando=p.expando+s.uid++}function u(a,
c,l){var b,d;if(void 0===l&&1===a.nodeType)if(b="data-"+c.replace(Wb,"-$\x26").toLowerCase(),"string"==typeof(l=a.getAttribute(b))){try{l="true"===(d=l)||"false"!==d&&("null"===d?null:d===+d+""?+d:Xb.test(d)?JSON.parse(d):d)}catch(g){}wa.set(a,c,l)}else l=void 0;return l}function v(a,c,l,b){var d,g,k=20,m=b?function(){return b.cur()}:function(){return p.css(a,c,"")},n=m(),e=l&&l[3]||(p.cssNumber[c]?"":"px"),f=a.nodeType&&(p.cssNumber[c]||"px"!==e&&+n)&&jb.exec(p.css(a,c));if(f&&f[3]!==e){n/=2;e=e||
f[3];for(f=+n||1;k--;)p.style(a,c,f+e),0>=(1-g)*(1-(g=m()/n||.5))&&(k=0),f/=g;f*=2;p.style(a,c,f+e);l=l||[]}return l&&(f=+f||+n||0,d=l[1]?f+(l[1]+1)*l[2]:+l[2],b&&(b.unit=e,b.start=f,b.end=d)),d}function x(a,c){for(var l,b,d,g,k,n,m,e=[],f=0,q=a.length;f<q;f++)(b=a[f]).style&&(l=b.style.display,c?("none"===l&&(e[f]=I.get(b,"display")||null,e[f]||(b.style.display="")),""===b.style.display&&bb(b)&&(e[f]=(m=k=g=void 0,k=(d=b).ownerDocument,n=d.nodeName,(m=Nb[n])||(g=k.body.appendChild(k.createElement(n)),
m=p.css(g,"display"),g.parentNode.removeChild(g),"none"===m&&(m="block"),Nb[n]=m)))):"none"!==l&&(e[f]="none",I.set(b,"display",l)));for(f=0;f<q;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function w(c,l){var b;return b="undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(l||"*"):"undefined"!=typeof c.querySelectorAll?c.querySelectorAll(l||"*"):[],void 0===l||l&&a(c,l)?p.merge([c],b):b}function y(a,c){for(var l=0,b=a.length;l<b;l++)I.set(a[l],"globalEval",!c||I.get(c[l],"globalEval"))}
function z(a,c,l,b,d){for(var g,k,n,m,e=c.createDocumentFragment(),f=[],q=0,s=a.length;q<s;q++)if((g=a[q])||0===g)if("object"===h(g))p.merge(f,g.nodeType?[g]:g);else if(Ab.test(g)){k=k||e.appendChild(c.createElement("div"));n=(Oa.exec(g)||["",""])[1].toLowerCase();n=Aa[n]||Aa._default;k.innerHTML=n[1]+p.htmlPrefilter(g)+n[2];for(n=n[0];n--;)k=k.lastChild;p.merge(f,k.childNodes);(k=e.firstChild).textContent=""}else f.push(c.createTextNode(g));e.textContent="";for(q=0;g=f[q++];)if(b&&-1<p.inArray(g,
b))d&&d.push(g);else if(m=kb(g),k=w(e.appendChild(g),"script"),m&&y(k),l)for(n=0;g=k[n++];)Wa.test(g.type||"")&&l.push(g);return e}function F(){return!0}function K(){return!1}function C(a,c){var l;a:{try{l=O.activeElement;break a}catch(b){}l=void 0}return a===l==("focus"===c)}function L(a,c,l,b,g,d){var k,n;if("object"==typeof c){for(n in"string"!=typeof l&&(b=b||l,l=void 0),c)L(a,n,l,b,c[n],d);return a}if(null==b&&null==g?(g=l,b=l=void 0):null==g&&("string"==typeof l?(g=b,b=void 0):(g=b,b=l,l=void 0)),
!1===g)g=K;else if(!g)return a;return 1===d&&(k=g,(g=function(a){return p().off(a),k.apply(this,arguments)}).guid=k.guid||(k.guid=p.guid++)),a.each(function(){p.event.add(this,c,g,b,l)})}function A(a,c,l){l?(I.set(a,c,!1),p.event.add(a,c,{namespace:!1,handler:function(a){var b,g,R=I.get(this,c);if(1&a.isTrigger&&this[c])if(R.length)(p.event.special[c]||{}).delegateType&&a.stopPropagation();else{if(R=ta.call(arguments),I.set(this,c,R),b=l(this,c),this[c](),R!==(g=I.get(this,c))||b?I.set(this,c,!1):
g={},R!==g)return a.stopImmediatePropagation(),a.preventDefault(),g.value}else R.length&&(I.set(this,c,{value:p.event.trigger(p.extend(R[0],p.Event.prototype),R.slice(1),this)}),a.stopImmediatePropagation())}})):void 0===I.get(a,c)&&p.event.add(a,c,F)}function B(c,l){return a(c,"table")&&a(11!==l.nodeType?l:l.firstChild,"tr")&&p(c).children("tbody")[0]||c}function J(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function P(a){return"true/"===(a.type||"").slice(0,5)?a.type=a.type.slice(5):
a.removeAttribute("type"),a}function M(a,c){var l,b,g,d,k,n;if(1===c.nodeType){if(I.hasData(a)&&(n=I.get(a).events))for(g in I.remove(c,"handle events"),n)for(l=0,b=n[g].length;l<b;l++)p.event.add(c,g,n[g][l]);wa.hasData(a)&&(d=wa.access(a),k=p.extend({},d),wa.set(c,k))}}function ia(a,c,b,g){c=cb(c);var k,n,m,e,f=0,q=a.length,s=q-1,r=c[0],h=H(r);if(h||1<q&&"string"==typeof r&&!l.checkClone&&Yb.test(r))return a.each(function(l){var d=a.eq(l);h&&(c[0]=r.call(this,l,d.html()));ia(d,c,b,g)});if(q&&(n=
(k=z(c,a[0].ownerDocument,!1,a,g)).firstChild,1===k.childNodes.length&&(k=n),n||g)){for(m=(n=p.map(w(k,"script"),J)).length;f<q;f++)e=k,f!==s&&(e=p.clone(e,!0,!0),m&&p.merge(n,w(e,"script"))),b.call(a[f],e,f);if(m)for(k=n[n.length-1].ownerDocument,p.map(n,P),f=0;f<m;f++)e=n[f],Wa.test(e.type||"")&&!I.access(e,"globalEval")&&p.contains(k,e)&&(e.src&&"module"!==(e.type||"").toLowerCase()?p._evalUrl&&!e.noModule&&p._evalUrl(e.src,{nonce:e.nonce||e.getAttribute("nonce")},k):d(e.textContent.replace(hc,
""),e,k))}return a}function aa(a,c,l){for(var b=c?p.filter(c,a):a,g=0;null!=(c=b[g]);g++)l||1!==c.nodeType||p.cleanData(w(c)),c.parentNode&&(l&&kb(c)&&y(w(c,"script")),c.parentNode.removeChild(c));return a}function E(a,c,b){var g,d,k,n,m=a.style;return(b=b||ja(a))&&(""!==(n=b.getPropertyValue(c)||b[c])||kb(a)||(n=p.style(a,c)),!l.pixelBoxStyles()&&db.test(n)&&Bb.test(c)&&(g=m.width,d=m.minWidth,k=m.maxWidth,m.minWidth=m.maxWidth=m.width=n,n=b.width,m.width=g,m.minWidth=d,m.maxWidth=k)),void 0!==n?
n+"":n}function ua(a,c){return{get:function(){if(!a())return(this.get=c).apply(this,arguments);delete this.get}}}function va(a){var c;if(!(c=p.cssProps[a]||Ob[a])){if(!(a in eb)){a:{c=a;for(var l=c[0].toUpperCase()+c.slice(1),b=Cb.length;b--;)if((c=Cb[b]+l)in eb)break a;c=void 0}a=Ob[a]=c||a}c=a}return c}function Ba(a,c,l){return(a=jb.exec(c))?Math.max(0,a[2]-(l||0))+(a[3]||"px"):c}function V(a,c,l,b,g,d){var k="width"===c?1:0,n=0,m=0;if(l===(b?"border":"content"))return 0;for(;4>k;k+=2)"margin"===
l&&(m+=p.css(a,l+Ca[k],!0,g)),b?("content"===l&&(m-=p.css(a,"padding"+Ca[k],!0,g)),"margin"!==l&&(m-=p.css(a,"border"+Ca[k]+"Width",!0,g))):(m+=p.css(a,"padding"+Ca[k],!0,g),"padding"!==l?m+=p.css(a,"border"+Ca[k]+"Width",!0,g):n+=p.css(a,"border"+Ca[k]+"Width",!0,g));return!b&&0<=d&&(m+=Math.max(0,Math.ceil(a["offset"+c[0].toUpperCase()+c.slice(1)]-d-m-n-.5))||0),m}function G(c,b,g){var d=ja(c),k=(!l.boxSizingReliable()||g)&&"border-box"===p.css(c,"boxSizing",!1,d),n=k,m=E(c,b,d),e="offset"+b[0].toUpperCase()+
b.slice(1);if(db.test(m)){if(!g)return m;m="auto"}return(!l.boxSizingReliable()&&k||!l.reliableTrDimensions()&&a(c,"tr")||"auto"===m||!parseFloat(m)&&"inline"===p.css(c,"display",!1,d))&&c.getClientRects().length&&(k="border-box"===p.css(c,"boxSizing",!1,d),(n=e in c)&&(m=c[e])),(m=parseFloat(m)||0)+V(c,b,g||(k?"border":"content"),n,d,m)+"px"}function U(a,c,l,b,g){return new U.prototype.init(a,c,l,b,g)}function ka(){pb&&(!1===O.hidden&&b.requestAnimationFrame?b.requestAnimationFrame(ka):b.setTimeout(ka,
p.fx.interval),p.fx.tick())}function oa(){return b.setTimeout(function(){S=void 0}),S=Date.now()}function Q(a,c){var l,b=0,g={height:a};for(c=c?1:0;4>b;b+=2-c)g["margin"+(l=Ca[b])]=g["padding"+l]=a;return c&&(g.opacity=g.width=a),g}function la(a,c,l){for(var b,g=(ba.tweeners[c]||[]).concat(ba.tweeners["*"]),d=0,k=g.length;d<k;d++)if(b=g[d].call(l,c,a))return b}function ba(a,c,l){var b,g=0,d=ba.prefilters.length,k=p.Deferred().always(function(){delete n.elem}),n=function(){if(b)return!1;for(var c=
S||oa(),c=Math.max(0,m.startTime+m.duration-c),l=1-(c/m.duration||0),g=0,d=m.tweens.length;g<d;g++)m.tweens[g].run(l);return k.notifyWith(a,[m,l,c]),1>l&&d?c:(d||k.notifyWith(a,[m,1,0]),k.resolveWith(a,[m]),!1)},m=k.promise({elem:a,props:p.extend({},c),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},l),originalProperties:c,originalOptions:l,startTime:S||oa(),duration:l.duration,tweens:[],createTween:function(c,l){var b=p.Tween(a,m.opts,c,l,m.opts.specialEasing[c]||m.opts.easing);return m.tweens.push(b),
b},stop:function(c){var l=0,g=c?m.tweens.length:0;if(b)return this;for(b=!0;l<g;l++)m.tweens[l].run(1);return c?(k.notifyWith(a,[m,1,0]),k.resolveWith(a,[m,c])):k.rejectWith(a,[m,c]),this}});l=m.props;!function(a,c){var l,b,g,d,k;for(l in a)if(g=c[b=t(l)],d=a[l],Array.isArray(d)&&(g=d[1],d=a[l]=d[0]),l!==b&&(a[b]=d,delete a[l]),(k=p.cssHooks[b])&&"expand"in k)for(l in d=k.expand(d),delete a[b],d)l in a||(a[l]=d[l],c[l]=g);else c[b]=g}(l,m.opts.specialEasing);for(;g<d;g++)if(c=ba.prefilters[g].call(m,
a,l,m.opts))return H(c.stop)&&(p._queueHooks(m.elem,m.opts.queue).stop=c.stop.bind(c)),c;return p.map(l,la,m),H(m.opts.start)&&m.opts.start.call(a,m),m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always),p.fx.timer(p.extend(n,{elem:a,anim:m,queue:m.opts.queue})),m}function T(a){return(a.match(Da)||[]).join(" ")}function ga(a){return a.getAttribute&&a.getAttribute("class")||""}function Xa(a){return Array.isArray(a)?a:"string"==typeof a&&a.match(Da)||
[]}function Z(a,c,l,b){var g;if(Array.isArray(c))p.each(c,function(c,g){l||pa.test(a)?b(a,g):Z(a+"["+("object"==typeof g&&null!=g?c:"")+"]",g,l,b)});else if(l||"object"!==h(c))b(a,c);else for(g in c)Z(a+"["+g+"]",c[g],l,b)}function Ea(a){return function(c,l){"string"!=typeof c&&(l=c,c="*");var b,g=0,d=c.toLowerCase().match(Da)||[];if(H(l))for(;b=d[g++];)"+"===b[0]?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(l)):(a[b]=a[b]||[]).push(l)}}function X(a,c,l,b){function g(m){var n;return d[m]=!0,p.each(a[m]||
[],function(a,m){var R=m(c,l,b);return"string"!=typeof R||k||d[R]?k?!(n=R):void 0:(c.dataTypes.unshift(R),g(R),!1)}),n}var d={},k=a===Db;return g(c.dataTypes[0])||!d["*"]&&g("*")}function na(a,c){var l,b,g=p.ajaxSettings.flatOptions||{};for(l in c)void 0!==c[l]&&((g[l]?a:b||(b={}))[l]=c[l]);return b&&p.extend(!0,a,b),a}var sa=[],ca=Object.getPrototypeOf,ta=sa.slice,cb=sa.flat?function(a){return sa.flat.call(a)}:function(a){return sa.concat.apply([],a)},Qa=sa.push,Ua=sa.indexOf,Ma={},Na=Ma.toString,
Ra=Ma.hasOwnProperty,Ja=Ra.toString,qb=Ja.call(Object),l={},H=function(a){return"function"==typeof a&&"number"!=typeof a.nodeType},ma=function(a){return null!=a&&a===a.window},O=b.document,ra={type:!0,src:!0,nonce:!0,noModule:!0},p=function(a,c){return new p.fn.init(a,c)};p.fn=p.prototype={jquery:"3.5.1",constructor:p,length:0,toArray:function(){return ta.call(this)},get:function(a){return null==a?ta.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=p.merge(this.constructor(),a);
return a.prevObject=this,a},each:function(a){return p.each(this,a)},map:function(a){return this.pushStack(p.map(this,function(c,l){return a.call(c,l,c)}))},slice:function(){return this.pushStack(ta.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(a,c){return(c+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(a,c){return c%2}))},eq:function(a){var c=this.length;a=+a+(0>a?c:0);
return this.pushStack(0<=a&&a<c?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Qa,sort:sa.sort,splice:sa.splice};p.extend=p.fn.extend=function(){var a,c,l,b,g,d,k=arguments[0]||{},m=1,n=arguments.length,e=!1;"boolean"==typeof k&&(e=k,k=arguments[m]||{},m++);"object"==typeof k||H(k)||(k={});for(m===n&&(k=this,m--);m<n;m++)if(null!=(a=arguments[m]))for(c in a)b=a[c],"__proto__"!==c&&k!==b&&(e&&b&&(p.isPlainObject(b)||(g=Array.isArray(b)))?(l=k[c],d=g&&!Array.isArray(l)?
[]:g||p.isPlainObject(l)?l:{},g=!1,k[c]=p.extend(e,d,b)):void 0!==b&&(k[c]=b));return k};p.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isPlainObject:function(a){var c,l;return!(!a||"[object Object]"!==Na.call(a))&&(!(c=ca(a))||"function"==typeof(l=Ra.call(c,"constructor")&&c.constructor)&&Ja.call(l)===qb)},isEmptyObject:function(a){for(var c in a)return!1;return!0},globalEval:function(a,c,l){d(a,{nonce:c&&c.nonce},
l)},each:function(a,c){var l,b=0;if(e(a))for(l=a.length;b<l&&!1!==c.call(a[b],b,a[b]);b++);else for(b in a)if(!1===c.call(a[b],b,a[b]))break;return a},makeArray:function(a,c){var l=c||[];return null!=a&&(e(Object(a))?p.merge(l,"string"==typeof a?[a]:a):Qa.call(l,a)),l},inArray:function(a,c,l){return null==c?-1:Ua.call(c,a,l)},merge:function(a,c){for(var l=+c.length,b=0,g=a.length;b<l;b++)a[g++]=c[b];return a.length=g,a},grep:function(a,c,l){var b=[],g=0,d=a.length;for(l=!l;g<d;g++)!c(a[g],g)!==l&&
b.push(a[g]);return b},map:function(a,c,l){var b,g,d=0,k=[];if(e(a))for(b=a.length;d<b;d++)null!=(g=c(a[d],d,l))&&k.push(g);else for(d in a)null!=(g=c(a[d],d,l))&&k.push(g);return cb(k)},guid:1,support:l});"function"==typeof Symbol&&(p.fn[Symbol.iterator]=sa[Symbol.iterator]);p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,c){Ma["[object "+c+"]"]=c.toLowerCase()});var ya=function(a){function c(a,l,b,g){var d,k,m,n,e,f=l&&l.ownerDocument;k=l?l.nodeType:
9;if(b=b||[],"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return b;if(!g&&(B(l),l=l||y,N)){if(11!==k&&(e=X.exec(a)))if(d=e[1])if(9===k){if(!(m=l.getElementById(d)))return b;if(m.id===d)return b.push(m),b}else{if(f&&(m=f.getElementById(d))&&V(l,m)&&m.id===d)return b.push(m),b}else{if(e[2])return la.apply(b,l.getElementsByTagName(a)),b;if((d=e[3])&&v.getElementsByClassName&&l.getElementsByClassName)return la.apply(b,l.getElementsByClassName(d)),b}if(!(!v.qsa||G[a+" "]||Y&&Y.test(a)||1===k&&"object"===
l.nodeName.toLowerCase())){if(d=a,f=l,1===k&&(T.test(a)||nb.test(a))){(f=na.test(a)&&q(l.parentNode)||l)===l&&v.scope||((n=l.getAttribute("id"))?n=n.replace(fb,ca):l.setAttribute("id",n=ha));for(k=(d=ma(a)).length;k--;)d[k]=(n?"#"+n:":scope")+" "+r(d[k]);d=d.join(",")}try{return la.apply(b,f.querySelectorAll(d)),b}catch(R){G(a,!0)}finally{n===ha&&l.removeAttribute("id")}}}return x(a.replace(aa,"$1"),l,b,g)}function l(){var a=[];return function tc(c,l){return a.push(c+" ")>F.cacheLength&&delete tc[a.shift()],
tc[c+" "]=l}}function b(a){return a[ha]=!0,a}function g(a){var c=y.createElement("fieldset");try{return!!a(c)}catch(l){return!1}finally{c.parentNode&&c.parentNode.removeChild(c)}}function d(a,c){for(var l=a.split("|"),b=l.length;b--;)F.attrHandle[l[b]]=c}function k(a,c){var l=c&&a,b=l&&1===a.nodeType&&1===c.nodeType&&a.sourceIndex-c.sourceIndex;if(b)return b;if(l)for(;l=l.nextSibling;)if(l===c)return-1;return a?1:-1}function m(a){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===
a}}function n(a){return function(c){var l=c.nodeName.toLowerCase();return("input"===l||"button"===l)&&c.type===a}}function e(a){return function(c){return"form"in c?c.parentNode&&!1===c.disabled?"label"in c?"label"in c.parentNode?c.parentNode.disabled===a:c.disabled===a:c.isDisabled===a||c.isDisabled!==!a&&ja(c)===a:c.disabled===a:"label"in c&&c.disabled===a}}function f(a){return b(function(c){return c=+c,b(function(l,b){for(var g,d=a([],l.length,c),k=d.length;k--;)l[g=d[k]]&&(l[g]=!(b[g]=l[g]))})})}
function q(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function s(){}function r(a){for(var c=0,l=a.length,b="";c<l;c++)b+=a[c].value;return b}function h(a,c,l){var b=c.dir,g=c.next,d=g||b,k=l&&"parentNode"===d,m=va++;return c.first?function(c,l,g){for(;c=c[b];)if(1===c.nodeType||k)return a(c,l,g);return!1}:function(c,l,n){var N,e,f,R=[ra,m];if(n)for(;c=c[b];){if((1===c.nodeType||k)&&a(c,l,n))return!0}else for(;c=c[b];)if(1===c.nodeType||k)if(e=(f=c[ha]||(c[ha]={}))[c.uniqueID]||(f[c.uniqueID]=
{}),g&&g===c.nodeName.toLowerCase())c=c[b]||c;else{if((N=e[d])&&N[0]===ra&&N[1]===m)return R[2]=N[2];if((e[d]=R)[2]=a(c,l,n))return!0}return!1}}function u(a){return 1<a.length?function(c,l,b){for(var g=a.length;g--;)if(!a[g](c,l,b))return!1;return!0}:a[0]}function t(a,c,l,b,g){for(var d,k=[],m=0,n=a.length,N=null!=c;m<n;m++)(d=a[m])&&(l&&!l(d,b,g)||(k.push(d),N&&c.push(m)));return k}function H(a,l,g,d,k,m){return d&&!d[ha]&&(d=H(d)),k&&!k[ha]&&(k=H(k,m)),b(function(b,m,n,N){var e,f,R=[],q=[],s=m.length,
r;if(!(r=b)){r=l||"*";for(var h=n.nodeType?[n]:n,u=[],H=0,z=h.length;H<z;H++)c(r,h[H],u);r=u}r=!a||!b&&l?r:t(r,R,a,n,N);h=g?k||(b?a:s||d)?[]:m:r;if(g&&g(r,h,n,N),d)for(e=t(h,q),d(e,[],n,N),n=e.length;n--;)(f=e[n])&&(h[q[n]]=!(r[q[n]]=f));if(b){if(k||a){if(k){e=[];for(n=h.length;n--;)(f=h[n])&&e.push(r[n]=f);k(null,h=[],e,N)}for(n=h.length;n--;)(f=h[n])&&-1<(e=k?M(b,f):R[n])&&(b[e]=!(m[e]=f))}}else h=t(h===m?h.splice(s,h.length):h),k?k(null,m,h,N):la.apply(m,h)})}function z(a){var c,l,b,g=a.length,
d=F.relative[a[0].type];l=d||F.relative[" "];for(var k=d?1:0,m=h(function(a){return a===c},l,!0),n=h(function(a){return-1<M(c,a)},l,!0),N=[function(a,l,b){a=!d&&(b||l!==L)||((c=l).nodeType?m(a,l,b):n(a,l,b));return c=null,a}];k<g;k++)if(l=F.relative[a[k].type])N=[h(u(N),l)];else{if((l=F.filter[a[k].type].apply(null,a[k].matches))[ha]){for(b=++k;b<g&&!F.relative[a[b].type];b++);return H(1<k&&u(N),1<k&&r(a.slice(0,k-1).concat({value:" "===a[k-2].type?"*":""})).replace(aa,"$1"),l,k<b&&z(a.slice(k,b)),
b<g&&z(a=a.slice(b)),b<g&&r(a))}N.push(l)}return u(N)}var p,v,F,K,C,ma,O,x,L,w,A,B,y,J,N,Y,rb,Zb,V,ha="sizzle"+1*new Date,E=a.document,ra=0,va=0,U=l(),ua=l(),P=l(),G=l(),ya=function(a,c){return a===c&&(A=!0),0},Ba={}.hasOwnProperty,oa=[],Ya=oa.pop,Q=oa.push,la=oa.push,ka=oa.slice,M=function(a,c){for(var l=0,b=a.length;l<b;l++)if(a[l]===c)return l;return-1},ba=RegExp("[\\x20\\t\\r\\n\\f]+","g"),aa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ia=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
nb=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,T=/[\x20\t\r\n\f]|>/,da=/:((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,Eb=
/^(?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+$/,Za={ID:/^#((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)/,CLASS:/^\.((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)/,TAG:/^((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+))|)[\x20\t\r\n\f]*\]/,
PSEUDO:/^:((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},I=/HTML$/i,Fb=/^(?:input|select|textarea|button)$/i,ga=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,na=/[+~]/,za=RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),S=function(a,
c){var l="0x"+a.slice(1)-65536;return c||(0>l?String.fromCharCode(l+65536):String.fromCharCode(l>>10|55296,1023&l|56320))},fb=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,c){return c?"\x00"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},ea=function(){B()},ja=h(function(a){return!0===a.disabled&&"fieldset"===a.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{la.apply(oa=ka.call(E.childNodes),E.childNodes),oa[E.childNodes.length].nodeType}catch(Xa){la=
{apply:oa.length?function(a,c){Q.apply(a,ka.call(c))}:function(a,c){for(var l=a.length,b=0;a[l++]=c[b++];);a.length=l-1}}}for(p in v=c.support={},C=c.isXML=function(a){var c=(a.ownerDocument||a).documentElement;return!I.test(a.namespaceURI||c&&c.nodeName||"HTML")},B=c.setDocument=function(a){var c,l;a=a?a.ownerDocument||a:E;return a!=y&&9===a.nodeType&&a.documentElement&&(J=(y=a).documentElement,N=!C(y),E!=y&&(l=y.defaultView)&&l.top!==l&&(l.addEventListener?l.addEventListener("unload",ea,!1):l.attachEvent&&
l.attachEvent("onunload",ea)),v.scope=g(function(a){return J.appendChild(a).appendChild(y.createElement("div")),"undefined"!=typeof a.querySelectorAll&&!a.querySelectorAll(":scope fieldset div").length}),v.attributes=g(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=g(function(a){return a.appendChild(y.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=Z.test(y.getElementsByClassName),v.getById=g(function(a){return J.appendChild(a).id=
ha,!y.getElementsByName||!y.getElementsByName(ha).length}),v.getById?(F.filter.ID=function(a){var c=a.replace(za,S);return function(a){return a.getAttribute("id")===c}},F.find.ID=function(a,c){if("undefined"!=typeof c.getElementById&&N){var l=c.getElementById(a);return l?[l]:[]}}):(F.filter.ID=function(a){var c=a.replace(za,S);return function(a){return(a="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===c}},F.find.ID=function(a,c){if("undefined"!=typeof c.getElementById&&
N){var l,b,g,d=c.getElementById(a);if(d){if((l=d.getAttributeNode("id"))&&l.value===a)return[d];g=c.getElementsByName(a);for(b=0;d=g[b++];)if((l=d.getAttributeNode("id"))&&l.value===a)return[d]}return[]}}),F.find.TAG=v.getElementsByTagName?function(a,c){return"undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(a):v.qsa?c.querySelectorAll(a):void 0}:function(a,c){var l,b=[],g=0,d=c.getElementsByTagName(a);if("*"===a){for(;l=d[g++];)1===l.nodeType&&b.push(l);return b}return d},F.find.CLASS=
v.getElementsByClassName&&function(a,c){if("undefined"!=typeof c.getElementsByClassName&&N)return c.getElementsByClassName(a)},rb=[],Y=[],(v.qsa=Z.test(y.querySelectorAll))&&(g(function(a){var c;J.appendChild(a).innerHTML="\x3ca id\x3d'"+ha+"'\x3e\x3c/a\x3e\x3cselect id\x3d'"+ha+"-\r\\' msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";a.querySelectorAll("[msallowcapture^\x3d'']").length&&Y.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||
Y.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~\x3d"+ha+"-]").length||Y.push("~\x3d");(c=y.createElement("input")).setAttribute("name","");a.appendChild(c);a.querySelectorAll("[name\x3d'']").length||Y.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll(":checked").length||Y.push(":checked");a.querySelectorAll("a#"+
ha+"+*").length||Y.push(".#.+[+~]");a.querySelectorAll("\\\f");Y.push("[\\r\\n\\f]")}),g(function(a){a.innerHTML="\x3ca href\x3d'' disabled\x3d'disabled'\x3e\x3c/a\x3e\x3cselect disabled\x3d'disabled'\x3e\x3coption/\x3e\x3c/select\x3e";var c=y.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("name","D");a.querySelectorAll("[name\x3dd]").length&&Y.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");2!==a.querySelectorAll(":enabled").length&&Y.push(":enabled",":disabled");
J.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&Y.push(":enabled",":disabled");a.querySelectorAll("*,:x");Y.push(",.*:")})),(v.matchesSelector=Z.test(Zb=J.matches||J.webkitMatchesSelector||J.mozMatchesSelector||J.oMatchesSelector||J.msMatchesSelector))&&g(function(a){v.disconnectedMatch=Zb.call(a,"*");Zb.call(a,"[s!\x3d'']:x");rb.push("!\x3d",":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
Y=Y.length&&new RegExp(Y.join("|")),rb=rb.length&&new RegExp(rb.join("|")),c=Z.test(J.compareDocumentPosition),V=c||Z.test(J.contains)?function(a,c){var l=9===a.nodeType?a.documentElement:a,b=c&&c.parentNode;return a===b||!(!b||1!==b.nodeType||!(l.contains?l.contains(b):a.compareDocumentPosition&&16&a.compareDocumentPosition(b)))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1},ya=c?function(a,c){if(a===c)return A=!0,0;var l=!a.compareDocumentPosition-!c.compareDocumentPosition;
return l||(1&(l=(a.ownerDocument||a)==(c.ownerDocument||c)?a.compareDocumentPosition(c):1)||!v.sortDetached&&c.compareDocumentPosition(a)===l?a==y||a.ownerDocument==E&&V(E,a)?-1:c==y||c.ownerDocument==E&&V(E,c)?1:w?M(w,a)-M(w,c):0:4&l?-1:1)}:function(a,c){if(a===c)return A=!0,0;var l,b=0;l=a.parentNode;var g=c.parentNode,d=[a],m=[c];if(!l||!g)return a==y?-1:c==y?1:l?-1:g?1:w?M(w,a)-M(w,c):0;if(l===g)return k(a,c);for(l=a;l=l.parentNode;)d.unshift(l);for(l=c;l=l.parentNode;)m.unshift(l);for(;d[b]===
m[b];)b++;return b?k(d[b],m[b]):d[b]==E?-1:m[b]==E?1:0}),y},c.matches=function(a,l){return c(a,null,null,l)},c.matchesSelector=function(a,l){if(B(a),!(!v.matchesSelector||!N||G[l+" "]||rb&&rb.test(l)||Y&&Y.test(l)))try{var b=Zb.call(a,l);if(b||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return b}catch(g){G(l,!0)}return 0<c(l,y,null,[a]).length},c.contains=function(a,c){return(a.ownerDocument||a)!=y&&B(a),V(a,c)},c.attr=function(a,c){(a.ownerDocument||a)!=y&&B(a);var l=F.attrHandle[c.toLowerCase()],
l=l&&Ba.call(F.attrHandle,c.toLowerCase())?l(a,c,!N):void 0;return void 0!==l?l:v.attributes||!N?a.getAttribute(c):(l=a.getAttributeNode(c))&&l.specified?l.value:null},c.escape=function(a){return(a+"").replace(fb,ca)},c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);},c.uniqueSort=function(a){var c,l=[],b=0,g=0;if(A=!v.detectDuplicates,w=!v.sortStable&&a.slice(0),a.sort(ya),A){for(;c=a[g++];)c===a[g]&&(b=l.push(g));for(;b--;)a.splice(l[b],1)}return w=null,a},K=c.getText=
function(a){var c,l="",b=0;if(c=a.nodeType)if(1===c||9===c||11===c){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)l+=K(a)}else{if(3===c||4===c)return a.nodeValue}else for(;c=a[b++];)l+=K(c);return l},(F=c.selectors={cacheLength:50,createPseudo:b,match:Za,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(za,
S),a[3]=(a[3]||a[4]||a[5]||"").replace(za,S),"~\x3d"===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,l=!a[6]&&a[2];return Za.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":l&&da.test(l)&&(c=ma(l,!0))&&(c=l.indexOf(")",l.length-c)-l.length)&&(a[0]=a[0].slice(0,c),a[2]=l.slice(0,
c)),a.slice(0,3))}},filter:{TAG:function(a){var c=a.replace(za,S).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===c}},CLASS:function(a){var c=U[a+" "];return c||(c=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&U(a,function(a){return c.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,l,b){return function(g){g=c.attr(g,a);return null==g?
"!\x3d"===l:!l||(g+="","\x3d"===l?g===b:"!\x3d"===l?g!==b:"^\x3d"===l?b&&0===g.indexOf(b):"*\x3d"===l?b&&-1<g.indexOf(b):"$\x3d"===l?b&&g.slice(-b.length)===b:"~\x3d"===l?-1<(" "+g.replace(ba," ")+" ").indexOf(b):"|\x3d"===l&&(g===b||g.slice(0,b.length+1)===b+"-"))}},CHILD:function(a,c,l,b,g){var d="nth"!==a.slice(0,3),k="last"!==a.slice(-4),m="of-type"===c;return 1===b&&0===g?function(a){return!!a.parentNode}:function(c,l,n){var N,e,f,R,q;l=d!==k?"nextSibling":"previousSibling";var s=c.parentNode,
r=m&&c.nodeName.toLowerCase(),h=!n&&!m,u=!1;if(s){if(d){for(;l;){for(f=c;f=f[l];)if(m?f.nodeName.toLowerCase()===r:1===f.nodeType)return!1;q=l="only"===a&&!q&&"nextSibling"}return!0}if(q=[k?s.firstChild:s.lastChild],k&&h)for(u=(R=(N=(n=(e=(f=s)[ha]||(f[ha]={}))[f.uniqueID]||(e[f.uniqueID]={}))[a]||[])[0]===ra&&N[1])&&N[2],f=R&&s.childNodes[R];f=++R&&f&&f[l]||(u=R=0)||q.pop();){if(1===f.nodeType&&++u&&f===c){n[a]=[ra,R,u];break}}else if(h&&(u=R=(N=((e=(f=c)[ha]||(f[ha]={}))[f.uniqueID]||(e[f.uniqueID]=
{}))[a]||[])[0]===ra&&N[1]),!1===u)for(;(f=++R&&f&&f[l]||(u=R=0)||q.pop())&&((m?f.nodeName.toLowerCase()!==r:1!==f.nodeType)||!++u||(h&&((n=(e=f[ha]||(f[ha]={}))[f.uniqueID]||(e[f.uniqueID]={}))[a]=[ra,u]),f!==c)););return(u-=g)===b||0==u%b&&0<=u/b}}},PSEUDO:function(a,l){var g,d=F.pseudos[a]||F.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return d[ha]?d(l):1<d.length?(g=[a,a,"",l],F.setFilters.hasOwnProperty(a.toLowerCase())?b(function(a,c){for(var b,g=d(a,l),k=g.length;k--;)a[b=
M(a,g[k])]=!(c[b]=g[k])}):function(a){return d(a,0,g)}):d}},pseudos:{not:b(function(a){var c=[],l=[],g=O(a.replace(aa,"$1"));return g[ha]?b(function(a,c,l,b){var d;l=g(a,null,b,[]);for(b=a.length;b--;)(d=l[b])&&(a[b]=!(c[b]=d))}):function(a,b,d){return c[0]=a,g(c,null,d,l),c[0]=null,!l.pop()}}),has:b(function(a){return function(l){return 0<c(a,l).length}}),contains:b(function(a){return a=a.replace(za,S),function(c){return-1<(c.textContent||K(c)).indexOf(a)}}),lang:b(function(a){return Eb.test(a||
"")||c.error("unsupported lang: "+a),a=a.replace(za,S).toLowerCase(),function(c){var l;do if(l=N?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return(l=l.toLowerCase())===a||0===l.indexOf(a+"-");while((c=c.parentNode)&&1===c.nodeType);return!1}}),target:function(c){var l=a.location&&a.location.hash;return l&&l.slice(1)===c.id},root:function(a){return a===J},focus:function(a){return a===y.activeElement&&(!y.hasFocus||y.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:e(!1),disabled:e(!0),
checked:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&!!a.checked||"option"===c&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!F.pseudos.empty(a)},header:function(a){return ga.test(a.nodeName)},input:function(a){return Fb.test(a.nodeName)},button:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&"button"===
a.type||"button"===c},text:function(a){var c;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(c=a.getAttribute("type"))||"text"===c.toLowerCase())},first:f(function(){return[0]}),last:f(function(a,c){return[c-1]}),eq:f(function(a,c,l){return[0>l?l+c:l]}),even:f(function(a,c){for(var l=0;l<c;l+=2)a.push(l);return a}),odd:f(function(a,c){for(var l=1;l<c;l+=2)a.push(l);return a}),lt:f(function(a,c,l){for(c=0>l?l+c:c<l?c:l;0<=--c;)a.push(c);return a}),gt:f(function(a,c,l){for(l=0>l?
l+c:l;++l<c;)a.push(l);return a})}}).pseudos.nth=F.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})F.pseudos[p]=m(p);for(p in{submit:!0,reset:!0})F.pseudos[p]=n(p);return s.prototype=F.filters=F.pseudos,F.setFilters=new s,ma=c.tokenize=function(a,l){var b,g,d,k,m,n,N;if(m=ua[a+" "])return l?0:m.slice(0);m=a;n=[];for(N=F.preFilter;m;){for(k in b&&!(g=ia.exec(m))||(g&&(m=m.slice(g[0].length)||m),n.push(d=[])),b=!1,(g=nb.exec(m))&&(b=g.shift(),d.push({value:b,type:g[0].replace(aa," ")}),
m=m.slice(b.length)),F.filter)!(g=Za[k].exec(m))||N[k]&&!(g=N[k](g))||(b=g.shift(),d.push({value:b,type:k,matches:g}),m=m.slice(b.length));if(!b)break}return l?m.length:m?c.error(a):ua(a,n).slice(0)},O=c.compile=function(a,l){var g,d,k,m,n=[],e=[],f=P[a+" "];if(!f){l||(l=ma(a));for(g=l.length;g--;)(f=z(l[g]))[ha]?n.push(f):e.push(f);(f=P(a,(d=0<n.length,k=0<e.length,m=function(a,l,b,g,m){var f,R,q,s=0,r="0",h=a&&[],u=[],H=L,z=a||k&&F.find.TAG("*",m),p=ra+=null==H?1:Math.random()||.1,v=z.length;for(m&&
(L=l==y||l||m);r!==v&&null!=(f=z[r]);r++){if(k&&f){R=0;for(l||f.ownerDocument==y||(B(f),b=!N);q=e[R++];)if(q(f,l||y,b)){g.push(f);break}m&&(ra=p)}d&&((f=!q&&f)&&s--,a&&h.push(f))}if(s+=r,d&&r!==s){for(R=0;q=n[R++];)q(h,u,l,b);if(a){if(0<s)for(;r--;)h[r]||u[r]||(u[r]=Ya.call(g));u=t(u)}la.apply(g,u);m&&!a&&0<u.length&&1<s+n.length&&c.uniqueSort(g)}return m&&(ra=p,L=H),h},d?b(m):m))).selector=a}return f},x=c.select=function(a,c,l,b){var g,d,k,m,n,f="function"==typeof a&&a,e=!b&&ma(a=f.selector||a);
if(l=l||[],1===e.length){if(2<(d=e[0]=e[0].slice(0)).length&&"ID"===(k=d[0]).type&&9===c.nodeType&&N&&F.relative[d[1].type]){if(!(c=(F.find.ID(k.matches[0].replace(za,S),c)||[])[0]))return l;f&&(c=c.parentNode);a=a.slice(d.shift().value.length)}for(g=Za.needsContext.test(a)?0:d.length;g--&&(k=d[g],!F.relative[m=k.type]);)if((n=F.find[m])&&(b=n(k.matches[0].replace(za,S),na.test(d[0].type)&&q(c.parentNode)||c))){if(d.splice(g,1),!(a=b.length&&r(d)))return la.apply(l,b),l;break}}return(f||O(a,e))(b,
c,!N,l,!c||na.test(a)&&q(c.parentNode)||c),l},v.sortStable=ha.split("").sort(ya).join("")===ha,v.detectDuplicates=!!A,B(),v.sortDetached=g(function(a){return 1&a.compareDocumentPosition(y.createElement("fieldset"))}),g(function(a){return a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e","#"===a.firstChild.getAttribute("href")})||d("type|href|height|width",function(a,c,l){if(!l)return a.getAttribute(c,"type"===c.toLowerCase()?1:2)}),v.attributes&&g(function(a){return a.innerHTML="\x3cinput/\x3e",a.firstChild.setAttribute("value",
""),""===a.firstChild.getAttribute("value")})||d("value",function(a,c,l){if(!l&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),g(function(a){return null==a.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,c,l){var b;if(!l)return!0===a[c]?c.toLowerCase():(b=a.getAttributeNode(c))&&b.specified?b.value:null}),c}(b);p.find=ya;p.expr=ya.selectors;p.expr[":"]=p.expr.pseudos;p.uniqueSort=
p.unique=ya.uniqueSort;p.text=ya.getText;p.isXMLDoc=ya.isXML;p.contains=ya.contains;p.escapeSelector=ya.escape;var Ya=function(a,c,l){for(var b=[],g=void 0!==l;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(g&&p(a).is(l))break;b.push(a)}return b},Za=function(a,c){for(var l=[];a;a=a.nextSibling)1===a.nodeType&&a!==c&&l.push(a);return l},Eb=p.expr.match.needsContext,nb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;p.filter=function(a,c,l){var b=c[0];return l&&(a=":not("+a+")"),
1===c.length&&1===b.nodeType?p.find.matchesSelector(b,a)?[b]:[]:p.find.matches(a,p.grep(c,function(a){return 1===a.nodeType}))};p.fn.extend({find:function(a){var c,l,b=this.length,g=this;if("string"!=typeof a)return this.pushStack(p(a).filter(function(){for(c=0;c<b;c++)if(p.contains(g[c],this))return!0}));l=this.pushStack([]);for(c=0;c<b;c++)p.find(a,g[c],l);return 1<b?p.uniqueSort(l):l},filter:function(a){return this.pushStack(c(this,a||[],!1))},not:function(a){return this.pushStack(c(this,a||[],
!0))},is:function(a){return!!c(this,"string"==typeof a&&Eb.test(a)?p(a):a||[],!1).length}});var da,Fb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(p.fn.init=function(a,c,l){var b,g;if(!a)return this;if(l=l||da,"string"==typeof a){if(!(b="\x3c"===a[0]&&"\x3e"===a[a.length-1]&&3<=a.length?[null,a,null]:Fb.exec(a))||!b[1]&&c)return!c||c.jquery?(c||l).find(a):this.constructor(c).find(a);if(b[1]){if(c=c instanceof p?c[0]:c,p.merge(this,p.parseHTML(b[1],c&&c.nodeType?c.ownerDocument||c:O,!0)),nb.test(b[1])&&
p.isPlainObject(c))for(b in c)H(this[b])?this[b](c[b]):this.attr(b,c[b]);return this}return(g=O.getElementById(b[2]))&&(this[0]=g,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):H(a)?void 0!==l.ready?l.ready(a):a(p):p.makeArray(a,this)}).prototype=p.fn;da=p(O);var fb=/^(?:parents|prev(?:Until|All))/,za={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(a){var c=p(a,this),l=c.length;return this.filter(function(){for(var a=0;a<l;a++)if(p.contains(this,c[a]))return!0})},
closest:function(a,c){var l,b=0,g=this.length,d=[],k="string"!=typeof a&&p(a);if(!Eb.test(a))for(;b<g;b++)for(l=this[b];l&&l!==c;l=l.parentNode)if(11>l.nodeType&&(k?-1<k.index(l):1===l.nodeType&&p.find.matchesSelector(l,a))){d.push(l);break}return this.pushStack(1<d.length?p.uniqueSort(d):d)},index:function(a){return a?"string"==typeof a?Ua.call(p(a),this[0]):Ua.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(p.uniqueSort(p.merge(this.get(),
p(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});p.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return Ya(a,"parentNode")},parentsUntil:function(a,c,l){return Ya(a,"parentNode",l)},next:function(a){return g(a,"nextSibling")},prev:function(a){return g(a,"previousSibling")},nextAll:function(a){return Ya(a,"nextSibling")},prevAll:function(a){return Ya(a,"previousSibling")},nextUntil:function(a,c,l){return Ya(a,
"nextSibling",l)},prevUntil:function(a,c,l){return Ya(a,"previousSibling",l)},siblings:function(a){return Za((a.parentNode||{}).firstChild,a)},children:function(a){return Za(a.firstChild)},contents:function(c){return null!=c.contentDocument&&ca(c.contentDocument)?c.contentDocument:(a(c,"template")&&(c=c.content||c),p.merge([],c.childNodes))}},function(a,c){p.fn[a]=function(l,b){var g=p.map(this,c,l);return"Until"!==a.slice(-5)&&(b=l),b&&"string"==typeof b&&(g=p.filter(b,g)),1<this.length&&(za[a]||
p.uniqueSort(g),fb.test(a)&&g.reverse()),this.pushStack(g)}});var Da=/[^\x20\t\r\n\f]+/g;p.Callbacks=function(a){var c,l;a="string"==typeof a?(c=a,l={},p.each(c.match(Da)||[],function(a,c){l[c]=!0}),l):p.extend({},a);var b,g,d,k,m=[],n=[],f=-1,e=function(){k=k||a.once;for(d=b=!0;n.length;f=-1)for(g=n.shift();++f<m.length;)!1===m[f].apply(g[0],g[1])&&a.stopOnFalse&&(f=m.length,g=!1);a.memory||(g=!1);b=!1;k&&(m=g?[]:"")},q={add:function(){return m&&(g&&!b&&(f=m.length-1,n.push(g)),function Pa(c){p.each(c,
function(c,l){H(l)?a.unique&&q.has(l)||m.push(l):l&&l.length&&"string"!==h(l)&&Pa(l)})}(arguments),g&&!b&&e()),this},remove:function(){return p.each(arguments,function(a,c){for(var l;-1<(l=p.inArray(c,m,l));)m.splice(l,1),l<=f&&f--}),this},has:function(a){return a?-1<p.inArray(a,m):0<m.length},empty:function(){return m&&(m=[]),this},disable:function(){return k=n=[],m=g="",this},disabled:function(){return!m},lock:function(){return k=n=[],g||b||(m=g=""),this},locked:function(){return!!k},fireWith:function(a,
c){return k||(c=[a,(c=c||[]).slice?c.slice():c],n.push(c),b||e()),this},fire:function(){return q.fireWith(this,arguments),this},fired:function(){return!!d}};return q};p.extend({Deferred:function(a){var c=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],l="pending",g={state:function(){return l},always:function(){return d.done(arguments).fail(arguments),
this},"catch":function(a){return g.then(null,a)},pipe:function(){var a=arguments;return p.Deferred(function(l){p.each(c,function(c,b){var g=H(a[b[4]])&&a[b[4]];d[b[1]](function(){var a=g&&g.apply(this,arguments);a&&H(a.promise)?a.promise().progress(l.notify).done(l.resolve).fail(l.reject):l[b[0]+"With"](this,g?[a]:arguments)})});a=null}).promise()},then:function(a,l,g){function d(a,c,l,g){return function(){var f=this,e=arguments,q=function(){var b,q;if(!(a<n)){if((b=l.apply(f,e))===c.promise())throw new TypeError("Thenable self-resolution");
q=b&&("object"==typeof b||"function"==typeof b)&&b.then;H(q)?g?q.call(b,d(n,c,m,g),d(n,c,k,g)):(n++,q.call(b,d(n,c,m,g),d(n,c,k,g),d(n,c,m,c.notifyWith))):(l!==m&&(f=void 0,e=[b]),(g||c.resolveWith)(f,e))}},s=g?q:function(){try{q()}catch(b){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(b,s.stackTrace),n<=a+1&&(l!==k&&(f=void 0,e=[b]),c.rejectWith(f,e))}};a?s():(p.Deferred.getStackHook&&(s.stackTrace=p.Deferred.getStackHook()),b.setTimeout(s))}}var n=0;return p.Deferred(function(b){c[0][3].add(d(0,
b,H(g)?g:m,b.notifyWith));c[1][3].add(d(0,b,H(a)?a:m));c[2][3].add(d(0,b,H(l)?l:k))}).promise()},promise:function(a){return null!=a?p.extend(a,g):g}},d={};return p.each(c,function(a,b){var k=b[2],m=b[5];g[b[1]]=k.add;m&&k.add(function(){l=m},c[3-a][2].disable,c[3-a][3].disable,c[0][2].lock,c[0][3].lock);k.add(b[3].fire);d[b[0]]=function(){return d[b[0]+"With"](this===d?void 0:this,arguments),this};d[b[0]+"With"]=k.fireWith}),g.promise(d),a&&a.call(d,d),d},when:function(a){var c=arguments.length,l=
c,b=Array(l),g=ta.call(arguments),d=p.Deferred(),k=function(a){return function(l){b[a]=this;g[a]=1<arguments.length?ta.call(arguments):l;--c||d.resolveWith(b,g)}};if(1>=c&&(n(a,d.done(k(l)).resolve,d.reject,!c),"pending"===d.state()||H(g[l]&&g[l].then)))return d.then();for(;l--;)n(g[l],k(l),d.reject);return d.promise()}});var $b=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(a,c){b.console&&b.console.warn&&a&&$b.test(a.name)&&b.console.warn("jQuery.Deferred exception: "+
a.message,a.stack,c)};p.readyException=function(a){b.setTimeout(function(){throw a;})};var sb=p.Deferred();p.fn.ready=function(a){return sb.then(a)["catch"](function(a){p.readyException(a)}),this};p.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--p.readyWait:p.isReady)||(p.isReady=!0)!==a&&0<--p.readyWait||sb.resolveWith(O,[p])}});p.ready.then=sb.then;"complete"===O.readyState||"loading"!==O.readyState&&!O.documentElement.doScroll?b.setTimeout(p.ready):(O.addEventListener("DOMContentLoaded",
q),b.addEventListener("load",q));var Ka=function(a,c,l,b,g,d,k){var m=0,n=a.length,f=null==l;if("object"===h(l))for(m in g=!0,l)Ka(a,c,m,l[m],!0,d,k);else if(void 0!==b&&(g=!0,H(b)||(k=!0),f&&(k?(c.call(a,b),c=null):(f=c,c=function(a,c,l){return f.call(p(a),l)})),c))for(;m<n;m++)c(a[m],l,k?b:b.call(a[m],m,c(a[m],l)));return g?a:f?c.call(a):n?c(a[0],l):d},Mb=/^-ms-/,Vb=/-([a-z])/g,Fa=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};s.uid=1;s.prototype={cache:function(a){var c=a[this.expando];
return c||(c={},Fa(a)&&(a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,configurable:!0}))),c},set:function(a,c,l){var b;a=this.cache(a);if("string"==typeof c)a[t(c)]=l;else for(b in c)a[t(b)]=c[b];return a},get:function(a,c){return void 0===c?this.cache(a):a[this.expando]&&a[this.expando][t(c)]},access:function(a,c,l){return void 0===c||c&&"string"==typeof c&&void 0===l?this.get(a,c):(this.set(a,c,l),void 0!==l?l:c)},remove:function(a,c){var l,b=a[this.expando];if(void 0!==
b){if(void 0!==c)for(l=(c=Array.isArray(c)?c.map(t):(c=t(c))in b?[c]:c.match(Da)||[]).length;l--;)delete b[c[l]];(void 0===c||p.isEmptyObject(b))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){a=a[this.expando];return void 0!==a&&!p.isEmptyObject(a)}};var I=new s,wa=new s,Xb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Wb=/[A-Z]/g;p.extend({hasData:function(a){return wa.hasData(a)||I.hasData(a)},data:function(a,c,l){return wa.access(a,c,l)},removeData:function(a,c){wa.remove(a,
c)},_data:function(a,c,l){return I.access(a,c,l)},_removeData:function(a,c){I.remove(a,c)}});p.fn.extend({data:function(a,c){var l,b,g,d=this[0],k=d&&d.attributes;if(void 0===a){if(this.length&&(g=wa.get(d),1===d.nodeType&&!I.get(d,"hasDataAttrs"))){for(l=k.length;l--;)k[l]&&0===(b=k[l].name).indexOf("data-")&&(b=t(b.slice(5)),u(d,b,g[b]));I.set(d,"hasDataAttrs",!0)}return g}return"object"==typeof a?this.each(function(){wa.set(this,a)}):Ka(this,function(c){var l;if(d&&void 0===c)return void 0!==(l=
wa.get(d,a))?l:void 0!==(l=u(d,a))?l:void 0;this.each(function(){wa.set(this,a,c)})},null,c,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){wa.remove(this,a)})}});p.extend({queue:function(a,c,l){var b;if(a)return c=(c||"fx")+"queue",b=I.get(a,c),l&&(!b||Array.isArray(l)?b=I.access(a,c,p.makeArray(l)):b.push(l)),b||[]},dequeue:function(a,c){c=c||"fx";var l=p.queue(a,c),b=l.length,g=l.shift(),d=p._queueHooks(a,c);"inprogress"===g&&(g=l.shift(),b--);g&&("fx"===c&&l.unshift("inprogress"),
delete d.stop,g.call(a,function(){p.dequeue(a,c)},d));!b&&d&&d.empty.fire()},_queueHooks:function(a,c){var l=c+"queueHooks";return I.get(a,l)||I.access(a,l,{empty:p.Callbacks("once memory").add(function(){I.remove(a,[c+"queue",l])})})}});p.fn.extend({queue:function(a,c){var l=2;return"string"!=typeof a&&(c=a,a="fx",l--),arguments.length<l?p.queue(this[0],a):void 0===c?this:this.each(function(){var l=p.queue(this,a,c);p._queueHooks(this,a);"fx"===a&&"inprogress"!==l[0]&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,
a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var l,b=1,g=p.Deferred(),d=this,k=this.length,m=function(){--b||g.resolveWith(d,[d])};"string"!=typeof a&&(c=a,a=void 0);for(a=a||"fx";k--;)(l=I.get(d[k],a+"queueHooks"))&&l.empty&&(b++,l.empty.add(m));return m(),g.promise(c)}});var Pb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,jb=new RegExp("^(?:([+-])\x3d|)("+Pb+")([a-z%]*)$","i"),Ca=["Top","Right","Bottom","Left"],$a=O.documentElement,kb=function(a){return p.contains(a.ownerDocument,
a)},ac={composed:!0};$a.getRootNode&&(kb=function(a){return p.contains(a.ownerDocument,a)||a.getRootNode(ac)===a.ownerDocument});var bb=function(a,c){return"none"===(a=c||a).style.display||""===a.style.display&&kb(a)&&"none"===p.css(a,"display")},Nb={};p.fn.extend({show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){bb(this)?p(this).show():p(this).hide()})}});var Sa,tb,ob=/^(?:checkbox|radio)$/i,
Oa=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Wa=/^$|^module$|\/(?:java|ecma)script/i;Sa=O.createDocumentFragment().appendChild(O.createElement("div"));(tb=O.createElement("input")).setAttribute("type","radio");tb.setAttribute("checked","checked");tb.setAttribute("name","t");Sa.appendChild(tb);l.checkClone=Sa.cloneNode(!0).cloneNode(!0).lastChild.checked;Sa.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e";l.noCloneChecked=!!Sa.cloneNode(!0).lastChild.defaultValue;Sa.innerHTML="\x3coption\x3e\x3c/option\x3e";
l.option=!!Sa.lastChild;var Aa={thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:[0,"",""]};Aa.tbody=Aa.tfoot=Aa.colgroup=Aa.caption=Aa.thead;Aa.th=Aa.td;l.option||(Aa.optgroup=Aa.option=[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"]);var Ab=/<|&#?\w+;/,
bc=/^key/,jc=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Gb=/^([^.]*)(?:\.(.+)|)/;p.event={global:{},add:function(a,c,l,b,g){var d,k,m,n,f,e,q,s,r,h;f=I.get(a);if(Fa(a))for(l.handler&&(l=(d=l).handler,g=d.selector),g&&p.find.matchesSelector($a,g),l.guid||(l.guid=p.guid++),(n=f.events)||(n=f.events=Object.create(null)),(k=f.handle)||(k=f.handle=function(c){return"undefined"!=typeof p&&p.event.triggered!==c.type?p.event.dispatch.apply(a,arguments):void 0}),f=(c=(c||"").match(Da)||[""]).length;f--;)r=
h=(m=Gb.exec(c[f])||[])[1],m=(m[2]||"").split(".").sort(),r&&(q=p.event.special[r]||{},r=(g?q.delegateType:q.bindType)||r,q=p.event.special[r]||{},e=p.extend({type:r,origType:h,data:b,handler:l,guid:l.guid,selector:g,needsContext:g&&p.expr.match.needsContext.test(g),namespace:m.join(".")},d),(s=n[r])||((s=n[r]=[]).delegateCount=0,q.setup&&!1!==q.setup.call(a,b,m,k)||a.addEventListener&&a.addEventListener(r,k)),q.add&&(q.add.call(a,e),e.handler.guid||(e.handler.guid=l.guid)),g?s.splice(s.delegateCount++,
0,e):s.push(e),p.event.global[r]=!0)},remove:function(a,c,l,b,g){var d,k,m,n,f,e,q,s,r,h,u,t=I.hasData(a)&&I.get(a);if(t&&(n=t.events)){for(f=(c=(c||"").match(Da)||[""]).length;f--;)if(r=u=(m=Gb.exec(c[f])||[])[1],h=(m[2]||"").split(".").sort(),r){q=p.event.special[r]||{};s=n[r=(b?q.delegateType:q.bindType)||r]||[];m=m[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)");for(k=d=s.length;d--;)e=s[d],!g&&u!==e.origType||l&&l.guid!==e.guid||m&&!m.test(e.namespace)||b&&b!==e.selector&&("**"!==
b||!e.selector)||(s.splice(d,1),e.selector&&s.delegateCount--,q.remove&&q.remove.call(a,e));k&&!s.length&&(q.teardown&&!1!==q.teardown.call(a,h,t.handle)||p.removeEvent(a,r,t.handle),delete n[r])}else for(r in n)p.event.remove(a,r+c[f],l,b,!0);p.isEmptyObject(n)&&I.remove(a,"handle events")}},dispatch:function(a){var c,l,b,g,d,k,m=Array(arguments.length),n=p.event.fix(a);l=(I.get(this,"events")||Object.create(null))[n.type]||[];var f=p.event.special[n.type]||{};m[0]=n;for(c=1;c<arguments.length;c++)m[c]=
arguments[c];if(n.delegateTarget=this,!f.preDispatch||!1!==f.preDispatch.call(this,n)){k=p.event.handlers.call(this,n,l);for(c=0;(g=k[c++])&&!n.isPropagationStopped();)for(n.currentTarget=g.elem,l=0;(d=g.handlers[l++])&&!n.isImmediatePropagationStopped();)n.rnamespace&&!1!==d.namespace&&!n.rnamespace.test(d.namespace)||(n.handleObj=d,n.data=d.data,void 0!==(b=((p.event.special[d.origType]||{}).handle||d.handler).apply(g.elem,m))&&!1===(n.result=b)&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&
f.postDispatch.call(this,n),n.result}},handlers:function(a,c){var l,b,g,d,k,m=[],n=c.delegateCount,f=a.target;if(n&&f.nodeType&&!("click"===a.type&&1<=a.button))for(;f!==this;f=f.parentNode||this)if(1===f.nodeType&&("click"!==a.type||!0!==f.disabled)){d=[];k={};for(l=0;l<n;l++)void 0===k[g=(b=c[l]).selector+" "]&&(k[g]=b.needsContext?-1<p(g,this).index(f):p.find(g,this,null,[f]).length),k[g]&&d.push(b);d.length&&m.push({elem:f,handlers:d})}return f=this,n<c.length&&m.push({elem:f,handlers:c.slice(n)}),
m},addProp:function(a,c){Object.defineProperty(p.Event.prototype,a,{enumerable:!0,configurable:!0,get:H(c)?function(){if(this.originalEvent)return c(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(c){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:c})}})},fix:function(a){return a[p.expando]?a:new p.Event(a)},special:{load:{noBubble:!0},click:{setup:function(c){c=this||c;return ob.test(c.type)&&c.click&&a(c,"input")&&A(c,
"click",F),!1},trigger:function(c){c=this||c;return ob.test(c.type)&&c.click&&a(c,"input")&&A(c,"click"),!0},_default:function(c){c=c.target;return ob.test(c.type)&&c.click&&a(c,"input")&&I.get(c,"click")||a(c,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};p.removeEvent=function(a,c,l){a.removeEventListener&&a.removeEventListener(c,l)};p.Event=function(a,c){if(!(this instanceof p.Event))return new p.Event(a,c);a&&a.type?
(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?F:K,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a;c&&p.extend(this,c);this.timeStamp=a&&a.timeStamp||Date.now();this[p.expando]=!0};p.Event.prototype={constructor:p.Event,isDefaultPrevented:K,isPropagationStopped:K,isImmediatePropagationStopped:K,isSimulated:!1,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=F;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=F;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=F;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,
metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var c=a.button;return null==a.which&&bc.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==c&&jc.test(a.type)?1&c?1:2&c?3:4&c?2:0:a.which}},p.event.addProp);p.each({focus:"focusin",blur:"focusout"},function(a,c){p.event.special[a]=
{setup:function(){return A(this,a,C),!1},trigger:function(){return A(this,a),!0},delegateType:c}});p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,c){p.event.special[a]={delegateType:c,bindType:c,handle:function(a){var l,b=a.relatedTarget,g=a.handleObj;return b&&(b===this||p.contains(this,b))||(a.type=g.origType,l=g.handler.apply(this,arguments),a.type=c),l}}});p.fn.extend({on:function(a,c,l,b){return L(this,a,c,l,b)},one:function(a,
c,l,b){return L(this,a,c,l,b,1)},off:function(a,c,l){var b,g;if(a&&a.preventDefault&&a.handleObj)return b=a.handleObj,p(a.delegateTarget).off(b.namespace?b.origType+"."+b.namespace:b.origType,b.selector,b.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return!1!==c&&"function"!=typeof c||(l=c,c=void 0),!1===l&&(l=K),this.each(function(){p.event.remove(this,a,l,c)})}});var Qb=/<script|<style|<link/i,Yb=/checked\s*(?:[^=]|=\s*.checked.)/i,hc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
p.extend({htmlPrefilter:function(a){return a},clone:function(a,c,b){var g,d,k,m,n,f,e,q=a.cloneNode(!0),s=kb(a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||p.isXMLDoc(a)))for(m=w(q),g=0,d=(k=w(a)).length;g<d;g++)n=k[g],f=m[g],void 0,"input"===(e=f.nodeName.toLowerCase())&&ob.test(n.type)?f.checked=n.checked:"input"!==e&&"textarea"!==e||(f.defaultValue=n.defaultValue);if(c)if(b)for(k=k||w(a),m=m||w(q),g=0,d=k.length;g<d;g++)M(k[g],m[g]);else M(a,q);return 0<(m=w(q,"script")).length&&y(m,
!s&&w(a,"script")),q},cleanData:function(a){for(var c,l,b,g=p.event.special,d=0;void 0!==(l=a[d]);d++)if(Fa(l)){if(c=l[I.expando]){if(c.events)for(b in c.events)g[b]?p.event.remove(l,b):p.removeEvent(l,b,c.handle);l[I.expando]=void 0}l[wa.expando]&&(l[wa.expando]=void 0)}}});p.fn.extend({detach:function(a){return aa(this,a,!0)},remove:function(a){return aa(this,a)},text:function(a){return Ka(this,function(a){return void 0===a?p.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&
9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ia(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||B(this,a).appendChild(a)})},prepend:function(){return ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=B(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ia(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,c=0;null!=(a=this[c]);c++)1===a.nodeType&&(p.cleanData(w(a,!1)),a.textContent="");return this},clone:function(a,c){return a=null!=a&&a,c=null==c?a:c,this.map(function(){return p.clone(this,a,c)})},html:function(a){return Ka(this,function(a){var c=this[0]||{},l=0,b=this.length;if(void 0===a&&1===c.nodeType)return c.innerHTML;if("string"==typeof a&&!Qb.test(a)&&!Aa[(Oa.exec(a)||["",
""])[1].toLowerCase()]){a=p.htmlPrefilter(a);try{for(;l<b;l++)1===(c=this[l]||{}).nodeType&&(p.cleanData(w(c,!1)),c.innerHTML=a);c=0}catch(g){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ia(this,arguments,function(c){var l=this.parentNode;0>p.inArray(this,a)&&(p.cleanData(w(this)),l&&l.replaceChild(c,this))},a)}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){p.fn[a]=
function(a){for(var l=[],b=p(a),g=b.length-1,d=0;d<=g;d++)a=d===g?this:this.clone(!0),p(b[d])[c](a),Qa.apply(l,a.get());return this.pushStack(l)}});var db=new RegExp("^("+Pb+")(?!px)[a-z%]+$","i"),ja=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=b),c.getComputedStyle(a)},Rb=function(a,c,l){var b,g={};for(b in c)g[b]=a.style[b],a.style[b]=c[b];for(b in l=l.call(a),c)a.style[b]=g[b];return l},Bb=new RegExp(Ca.join("|"),"i");!function(){function a(){if(e){f.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";
e.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";$a.appendChild(f).appendChild(e);var l=b.getComputedStyle(e);c="1%"!==l.top;n=12===Math.round(parseFloat(l.marginLeft));e.style.right="60%";k=36===Math.round(parseFloat(l.right));g=36===Math.round(parseFloat(l.width));e.style.position="absolute";d=12===Math.round(parseFloat(e.offsetWidth/3));$a.removeChild(f);e=null}}var c,g,d,k,m,n,f=O.createElement("div"),e=
O.createElement("div");e.style&&(e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===e.style.backgroundClip,p.extend(l,{boxSizingReliable:function(){return a(),g},pixelBoxStyles:function(){return a(),k},pixelPosition:function(){return a(),c},reliableMarginLeft:function(){return a(),n},scrollboxSize:function(){return a(),d},reliableTrDimensions:function(){var a,c,l,g;return null==m&&(a=O.createElement("table"),c=O.createElement("tr"),l=O.createElement("div"),
a.style.cssText="position:absolute;left:-11111px",c.style.height="1px",l.style.height="9px",$a.appendChild(a).appendChild(c).appendChild(l),g=b.getComputedStyle(c),m=3<parseInt(g.height),$a.removeChild(a)),m}}))}();var Cb=["Webkit","Moz","ms"],eb=O.createElement("div").style,Ob={},Ga=/^(none|table(?!-c[ea]).+)/,Sb=/^--/,Tb={position:"absolute",visibility:"hidden",display:"block"},ub={letterSpacing:"0",fontWeight:"400"};p.extend({cssHooks:{opacity:{get:function(a,c){if(c){var l=E(a,"opacity");return""===
l?"1":l}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(a,c,b,g){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var d,k,m,n=t(c),f=Sb.test(c),e=a.style;if(f||(c=va(n)),m=p.cssHooks[c]||p.cssHooks[n],void 0===b)return m&&"get"in m&&void 0!==
(d=m.get(a,!1,g))?d:e[c];"string"===(k=typeof b)&&(d=jb.exec(b))&&d[1]&&(b=v(a,c,d),k="number");null!=b&&b==b&&("number"!==k||f||(b+=d&&d[3]||(p.cssNumber[n]?"":"px")),l.clearCloneStyle||""!==b||0!==c.indexOf("background")||(e[c]="inherit"),m&&"set"in m&&void 0===(b=m.set(a,b,g))||(f?e.setProperty(c,b):e[c]=b))}},css:function(a,c,l,b){var g,d,k,m=t(c);return Sb.test(c)||(c=va(m)),(k=p.cssHooks[c]||p.cssHooks[m])&&"get"in k&&(g=k.get(a,!0,l)),void 0===g&&(g=E(a,c,b)),"normal"===g&&c in ub&&(g=ub[c]),
""===l||l?(d=parseFloat(g),!0===l||isFinite(d)?d||0:g):g}});p.each(["height","width"],function(a,c){p.cssHooks[c]={get:function(a,l,b){if(l)return!Ga.test(p.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?G(a,c,b):Rb(a,Tb,function(){return G(a,c,b)})},set:function(a,b,g){var d,k=ja(a),m=!l.scrollboxSize()&&"absolute"===k.position,n=(m||g)&&"border-box"===p.css(a,"boxSizing",!1,k);g=g?V(a,c,g,n,k):0;return n&&m&&(g-=Math.ceil(a["offset"+c[0].toUpperCase()+c.slice(1)]-
parseFloat(k[c])-V(a,c,"border",!1,k)-.5)),g&&(d=jb.exec(b))&&"px"!==(d[3]||"px")&&(a.style[c]=b,b=p.css(a,c)),Ba(0,b,g)}}});p.cssHooks.marginLeft=ua(l.reliableMarginLeft,function(a,c){if(c)return(parseFloat(E(a,"marginLeft"))||a.getBoundingClientRect().left-Rb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});p.each({margin:"",padding:"",border:"Width"},function(a,c){p.cssHooks[a+c]={expand:function(l){var b=0,g={};for(l="string"==typeof l?l.split(" "):[l];4>b;b++)g[a+Ca[b]+
c]=l[b]||l[b-2]||l[0];return g}};"margin"!==a&&(p.cssHooks[a+c].set=Ba)});p.fn.extend({css:function(a,c){return Ka(this,function(a,c,l){var b,g={},d=0;if(Array.isArray(c)){l=ja(a);for(b=c.length;d<b;d++)g[c[d]]=p.css(a,c[d],!1,l);return g}return void 0!==l?p.style(a,c,l):p.css(a,c)},a,c,1<arguments.length)}});((p.Tween=U).prototype={constructor:U,init:function(a,c,l,b,g,d){this.elem=a;this.prop=l;this.easing=g||p.easing._default;this.options=c;this.start=this.now=this.cur();this.end=b;this.unit=d||
(p.cssNumber[l]?"":"px")},cur:function(){var a=U.propHooks[this.prop];return a&&a.get?a.get(this):U.propHooks._default.get(this)},run:function(a){var c,l=U.propHooks[this.prop];return this.options.duration?this.pos=c=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=c=a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),l&&l.set?l.set(this):U.propHooks._default.set(this),this}}).init.prototype=U.prototype;
(U.propHooks={_default:{get:function(a){var c;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(c=p.css(a.elem,a.prop,""))&&"auto"!==c?c:0},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):1!==a.elem.nodeType||!p.cssHooks[a.prop]&&null==a.elem.style[va(a.prop)]?a.elem[a.prop]=a.now:p.style(a.elem,a.prop,a.now+a.unit)}}}).scrollTop=U.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};p.easing={linear:function(a){return a},
swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};p.fx=U.prototype.init;p.fx.step={};var S,pb,gb,vb,Ub=/^(?:toggle|show|hide)$/,Hb=/queueHooks$/;p.Animation=p.extend(ba,{tweeners:{"*":[function(a,c){var l=this.createTween(a,c);return v(l.elem,a,jb.exec(c),l),l}]},tweener:function(a,c){H(a)?(c=a,a=["*"]):a=a.match(Da);for(var l,b=0,g=a.length;b<g;b++)l=a[b],ba.tweeners[l]=ba.tweeners[l]||[],ba.tweeners[l].unshift(c)},prefilters:[function(a,c,l){var b,g,d,k,m,n,f,e="width"in c||"height"in
c,q=this,s={},r=a.style,h=a.nodeType&&bb(a),u=I.get(a,"fxshow");for(b in l.queue||(null==(k=p._queueHooks(a,"fx")).unqueued&&(k.unqueued=0,m=k.empty.fire,k.empty.fire=function(){k.unqueued||m()}),k.unqueued++,q.always(function(){q.always(function(){k.unqueued--;p.queue(a,"fx").length||k.empty.fire()})})),c)if(g=c[b],Ub.test(g)){if(delete c[b],d=d||"toggle"===g,g===(h?"hide":"show")){if("show"!==g||!u||void 0===u[b])continue;h=!0}s[b]=u&&u[b]||p.style(a,b)}if((c=!p.isEmptyObject(c))||!p.isEmptyObject(s))for(b in e&&
1===a.nodeType&&(l.overflow=[r.overflow,r.overflowX,r.overflowY],null==(n=u&&u.display)&&(n=I.get(a,"display")),"none"===(f=p.css(a,"display"))&&(n?f=n:(x([a],!0),n=a.style.display||n,f=p.css(a,"display"),x([a]))),("inline"===f||"inline-block"===f&&null!=n)&&"none"===p.css(a,"float")&&(c||(q.done(function(){r.display=n}),null==n&&(f=r.display,n="none"===f?"":f)),r.display="inline-block")),l.overflow&&(r.overflow="hidden",q.always(function(){r.overflow=l.overflow[0];r.overflowX=l.overflow[1];r.overflowY=
l.overflow[2]})),c=!1,s)c||(u?"hidden"in u&&(h=u.hidden):u=I.access(a,"fxshow",{display:n}),d&&(u.hidden=!h),h&&x([a],!0),q.done(function(){for(b in h||x([a]),I.remove(a,"fxshow"),s)p.style(a,b,s[b])})),c=la(h?u[b]:0,b,q),b in u||(u[b]=c.start,h&&(c.end=c.start,c.start=0))}],prefilter:function(a,c){c?ba.prefilters.unshift(a):ba.prefilters.push(a)}});p.speed=function(a,c,l){var b=a&&"object"==typeof a?p.extend({},a):{complete:l||!l&&c||H(a)&&a,duration:a,easing:l&&c||c&&!H(c)&&c};return p.fx.off?b.duration=
0:"number"!=typeof b.duration&&(b.duration in p.fx.speeds?b.duration=p.fx.speeds[b.duration]:b.duration=p.fx.speeds._default),null!=b.queue&&!0!==b.queue||(b.queue="fx"),b.old=b.complete,b.complete=function(){H(b.old)&&b.old.call(this);b.queue&&p.dequeue(this,b.queue)},b};p.fn.extend({fadeTo:function(a,c,l,b){return this.filter(bb).css("opacity",0).show().end().animate({opacity:c},a,l,b)},animate:function(a,c,l,b){var g=p.isEmptyObject(a),d=p.speed(c,l,b);c=function(){var c=ba(this,p.extend({},a),
d);(g||I.get(this,"finish"))&&c.stop(!0)};return c.finish=c,g||!1===d.queue?this.each(c):this.queue(d.queue,c)},stop:function(a,c,l){var b=function(a){var c=a.stop;delete a.stop;c(l)};return"string"!=typeof a&&(l=c,c=a,a=void 0),c&&this.queue(a||"fx",[]),this.each(function(){var c=!0,g=null!=a&&a+"queueHooks",d=p.timers,k=I.get(this);if(g)k[g]&&k[g].stop&&b(k[g]);else for(g in k)k[g]&&k[g].stop&&Hb.test(g)&&b(k[g]);for(g=d.length;g--;)d[g].elem!==this||null!=a&&d[g].queue!==a||(d[g].anim.stop(l),
c=!1,d.splice(g,1));!c&&l||p.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var c,l=I.get(this),b=l[a+"queue"];c=l[a+"queueHooks"];var g=p.timers,d=b?b.length:0;l.finish=!0;p.queue(this,a,[]);c&&c.stop&&c.stop.call(this,!0);for(c=g.length;c--;)g[c].elem===this&&g[c].queue===a&&(g[c].anim.stop(!0),g.splice(c,1));for(c=0;c<d;c++)b[c]&&b[c].finish&&b[c].finish.call(this);delete l.finish})}});p.each(["toggle","show","hide"],function(a,c){var l=p.fn[c];p.fn[c]=function(a,
b,g){return null==a||"boolean"==typeof a?l.apply(this,arguments):this.animate(Q(c,!0),a,b,g)}});p.each({slideDown:Q("show"),slideUp:Q("hide"),slideToggle:Q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,c){p.fn[a]=function(a,l,b){return this.animate(c,a,l,b)}});p.timers=[];p.fx.tick=function(){var a,c=0,l=p.timers;for(S=Date.now();c<l.length;c++)(a=l[c])()||l[c]!==a||l.splice(c--,1);l.length||p.fx.stop();S=void 0};p.fx.timer=function(a){p.timers.push(a);
p.fx.start()};p.fx.interval=13;p.fx.start=function(){pb||(pb=!0,ka())};p.fx.stop=function(){pb=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fn.delay=function(a,c){return a=p.fx&&p.fx.speeds[a]||a,c=c||"fx",this.queue(c,function(c,l){var g=b.setTimeout(c,a);l.stop=function(){b.clearTimeout(g)}})};gb=O.createElement("input");vb=O.createElement("select").appendChild(O.createElement("option"));gb.type="checkbox";l.checkOn=""!==gb.value;l.optSelected=vb.selected;(gb=O.createElement("input")).value=
"t";gb.type="radio";l.radioValue="t"===gb.value;var cc,ab=p.expr.attrHandle;p.fn.extend({attr:function(a,c){return Ka(this,p.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})}});p.extend({attr:function(a,c,l){var b,g,d=a.nodeType;if(3!==d&&8!==d&&2!==d)return"undefined"==typeof a.getAttribute?p.prop(a,c,l):(1===d&&p.isXMLDoc(a)||(g=p.attrHooks[c.toLowerCase()]||(p.expr.match.bool.test(c)?cc:void 0)),void 0!==l?null===l?void p.removeAttr(a,c):g&&
"set"in g&&void 0!==(b=g.set(a,l,c))?b:(a.setAttribute(c,l+""),l):g&&"get"in g&&null!==(b=g.get(a,c))?b:null==(b=p.find.attr(a,c))?void 0:b)},attrHooks:{type:{set:function(c,b){if(!l.radioValue&&"radio"===b&&a(c,"input")){var g=c.value;return c.setAttribute("type",b),g&&(c.value=g),b}}}},removeAttr:function(a,c){var l,b=0,g=c&&c.match(Da);if(g&&1===a.nodeType)for(;l=g[b++];)a.removeAttribute(l)}});cc={set:function(a,c,l){return!1===c?p.removeAttr(a,l):a.setAttribute(l,l),l}};p.each(p.expr.match.bool.source.match(/\w+/g),
function(a,c){var l=ab[c]||p.find.attr;ab[c]=function(a,c,b){var g,d,k=c.toLowerCase();return b||(d=ab[k],ab[k]=g,g=null!=l(a,c,b)?k:null,ab[k]=d),g}});var kc=/^(?:input|select|textarea|button)$/i,Ib=/^(?:a|area)$/i;p.fn.extend({prop:function(a,c){return Ka(this,p.prop,a,c,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[p.propFix[a]||a]})}});p.extend({prop:function(a,c,l){var b,g,d=a.nodeType;if(3!==d&&8!==d&&2!==d)return 1===d&&p.isXMLDoc(a)||(c=p.propFix[c]||
c,g=p.propHooks[c]),void 0!==l?g&&"set"in g&&void 0!==(b=g.set(a,l,c))?b:a[c]=l:g&&"get"in g&&null!==(b=g.get(a,c))?b:a[c]},propHooks:{tabIndex:{get:function(a){var c=p.find.attr(a,"tabindex");return c?parseInt(c,10):kc.test(a.nodeName)||Ib.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});l.optSelected||(p.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&
a.parentNode.selectedIndex)}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){p.propFix[this.toLowerCase()]=this});p.fn.extend({addClass:function(a){var c,l,b,g,d,k,m,n=0;if(H(a))return this.each(function(c){p(this).addClass(a.call(this,c,ga(this)))});if((c=Xa(a)).length)for(;l=this[n++];)if(g=ga(l),b=1===l.nodeType&&" "+T(g)+" "){for(k=0;d=c[k++];)0>b.indexOf(" "+d+" ")&&(b+=d+" ");g!==(m=T(b))&&l.setAttribute("class",
m)}return this},removeClass:function(a){var c,l,b,g,d,k,m,n=0;if(H(a))return this.each(function(c){p(this).removeClass(a.call(this,c,ga(this)))});if(!arguments.length)return this.attr("class","");if((c=Xa(a)).length)for(;l=this[n++];)if(g=ga(l),b=1===l.nodeType&&" "+T(g)+" "){for(k=0;d=c[k++];)for(;-1<b.indexOf(" "+d+" ");)b=b.replace(" "+d+" "," ");g!==(m=T(b))&&l.setAttribute("class",m)}return this},toggleClass:function(a,c){var l=typeof a,b="string"===l||Array.isArray(a);return"boolean"==typeof c&&
b?c?this.addClass(a):this.removeClass(a):H(a)?this.each(function(l){p(this).toggleClass(a.call(this,l,ga(this),c),c)}):this.each(function(){var c,g,d,k;if(b)for(g=0,d=p(this),k=Xa(a);c=k[g++];)d.hasClass(c)?d.removeClass(c):d.addClass(c);else void 0!==a&&"boolean"!==l||((c=ga(this))&&I.set(this,"__className__",c),this.setAttribute&&this.setAttribute("class",c||!1===a?"":I.get(this,"__className__")||""))})},hasClass:function(a){var c,l=0;for(a=" "+a+" ";c=this[l++];)if(1===c.nodeType&&-1<(" "+T(ga(c))+
" ").indexOf(a))return!0;return!1}});var wb=/\r/g;p.fn.extend({val:function(a){var c,l,b,g=this[0];return arguments.length?(b=H(a),this.each(function(l){var g;1===this.nodeType&&(null==(g=b?a.call(this,l,p(this).val()):a)?g="":"number"==typeof g?g+="":Array.isArray(g)&&(g=p.map(g,function(a){return null==a?"":a+""})),(c=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in c&&void 0!==c.set(this,g,"value")||(this.value=g))})):g?(c=p.valHooks[g.type]||p.valHooks[g.nodeName.toLowerCase()])&&
"get"in c&&void 0!==(l=c.get(g,"value"))?l:"string"==typeof(l=g.value)?l.replace(wb,""):null==l?"":l:void 0}});p.extend({valHooks:{option:{get:function(a){var c=p.find.attr(a,"value");return null!=c?c:T(p.text(a))}},select:{get:function(c){var l,b,g=c.options,d=c.selectedIndex,k="select-one"===c.type,m=k?null:[],n=k?d+1:g.length;for(b=0>d?n:k?d:0;b<n;b++)if(!(!(l=g[b]).selected&&b!==d||l.disabled||l.parentNode.disabled&&a(l.parentNode,"optgroup"))){if(c=p(l).val(),k)return c;m.push(c)}return m},set:function(a,
c){for(var l,b,g=a.options,d=p.makeArray(c),k=g.length;k--;)((b=g[k]).selected=-1<p.inArray(p.valHooks.option.get(b),d))&&(l=!0);return l||(a.selectedIndex=-1),d}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(a,c){if(Array.isArray(c))return a.checked=-1<p.inArray(p(a).val(),c)}};l.checkOn||(p.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});l.focusin="onfocusin"in b;var Jb=/^(?:focusinfocus|focusoutblur)$/,Kb=function(a){a.stopPropagation()};
p.extend(p.event,{trigger:function(a,c,l,g){var d,k,m,n,f,e,q,s,r=[l||O],h=Ra.call(a,"type")?a.type:a;d=Ra.call(a,"namespace")?a.namespace.split("."):[];if(k=s=m=l=l||O,3!==l.nodeType&&8!==l.nodeType&&!Jb.test(h+p.event.triggered)&&(-1<h.indexOf(".")&&(h=(d=h.split(".")).shift(),d.sort()),f=0>h.indexOf(":")&&"on"+h,(a=a[p.expando]?a:new p.Event(h,"object"==typeof a&&a)).isTrigger=g?2:3,a.namespace=d.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=
void 0,a.target||(a.target=l),c=null==c?[a]:p.makeArray(c,[a]),q=p.event.special[h]||{},g||!q.trigger||!1!==q.trigger.apply(l,c))){if(!g&&!q.noBubble&&!ma(l)){n=q.delegateType||h;for(Jb.test(n+h)||(k=k.parentNode);k;k=k.parentNode)r.push(k),m=k;m===(l.ownerDocument||O)&&r.push(m.defaultView||m.parentWindow||b)}for(d=0;(k=r[d++])&&!a.isPropagationStopped();)s=k,a.type=1<d?n:q.bindType||h,(e=(I.get(k,"events")||Object.create(null))[a.type]&&I.get(k,"handle"))&&e.apply(k,c),(e=f&&k[f])&&e.apply&&Fa(k)&&
(a.result=e.apply(k,c),!1===a.result&&a.preventDefault());return a.type=h,g||a.isDefaultPrevented()||q._default&&!1!==q._default.apply(r.pop(),c)||!Fa(l)||f&&H(l[h])&&!ma(l)&&((m=l[f])&&(l[f]=null),p.event.triggered=h,a.isPropagationStopped()&&s.addEventListener(h,Kb),l[h](),a.isPropagationStopped()&&s.removeEventListener(h,Kb),p.event.triggered=void 0,m&&(l[f]=m)),a.result}},simulate:function(a,c,l){a=p.extend(new p.Event,l,{type:a,isSimulated:!0});p.event.trigger(a,null,c)}});p.fn.extend({trigger:function(a,
c){return this.each(function(){p.event.trigger(a,c,this)})},triggerHandler:function(a,c){var l=this[0];if(l)return p.event.trigger(a,c,l,!0)}});l.focusin||p.each({focus:"focusin",blur:"focusout"},function(a,c){var l=function(a){p.event.simulate(c,a.target,p.event.fix(a))};p.event.special[c]={setup:function(){var b=this.ownerDocument||this.document||this,g=I.access(b,c);g||b.addEventListener(a,l,!0);I.access(b,c,(g||0)+1)},teardown:function(){var b=this.ownerDocument||this.document||this,g=I.access(b,
c)-1;g?I.access(b,c,g):(b.removeEventListener(a,l,!0),I.remove(b,c))}}});var xa=b.location,La=Date.now(),Ha=/\?/;p.parseXML=function(a){var c;if(!a||"string"!=typeof a)return null;try{c=(new b.DOMParser).parseFromString(a,"text/xml")}catch(l){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+a),c};var pa=/\[\]$/,Ia=/\r?\n/g,Ta=/^(?:submit|button|image|reset|file)$/i,hb=/^(?:input|select|textarea|keygen)/i;p.param=function(a,c){var l,b=[],g=function(a,c){var l=
H(c)?c():c;b[b.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(null==l?"":l)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){g(this.name,this.value)});else for(l in a)Z(l,a[l],c,g);return b.join("\x26")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=p.prop(this,"elements");return a?p.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!p(this).is(":disabled")&&
hb.test(this.nodeName)&&!Ta.test(a)&&(this.checked||!ob.test(a))}).map(function(a,c){var l=p(this).val();return null==l?null:Array.isArray(l)?p.map(l,function(a){return{name:c.name,value:a.replace(Ia,"\r\n")}}):{name:c.name,value:l.replace(Ia,"\r\n")}}).get()}});var lc=/%20/g,mc=/#.*$/,qa=/([?&])_=[^&]*/,dc=/^(.*?):[ \t]*([^\r\n]*)$/gm,ec=/^(?:GET|HEAD)$/,Lb=/^\/\//,fc={},Db={},ea="*/".concat("*"),ib=O.createElement("a");ib.href=xa.href;p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xa.href,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":ea,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,
"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?na(na(a,p.ajaxSettings),c):na(p.ajaxSettings,a)},ajaxPrefilter:Ea(fc),ajaxTransport:Ea(Db),ajax:function(a,c){function l(a,c,m,f){var s,r,F,K,N,Y=c;e||(e=!0,n&&b.clearTimeout(n),g=void 0,k=f||"",C.readyState=0<a?4:0,s=200<=a&&300>a||304===a,m&&(K=function(a,c,l){for(var b,g,d,k,m=a.contents,n=a.dataTypes;"*"===n[0];)n.shift(),void 0===b&&(b=a.mimeType||c.getResponseHeader("Content-Type"));if(b)for(g in m)if(m[g]&&
m[g].test(b)){n.unshift(g);break}if(n[0]in l)d=n[0];else{for(g in l){if(!n[0]||a.converters[g+" "+n[0]]){d=g;break}k||(k=g)}d=d||k}if(d)return d!==n[0]&&n.unshift(d),l[d]}(h,C,m)),!s&&-1<p.inArray("script",h.dataTypes)&&(h.converters["text script"]=function(){}),K=function(a,c,l,b){var g,d,k,m,n,f={},e=a.dataTypes.slice();if(e[1])for(k in a.converters)f[k.toLowerCase()]=a.converters[k];for(d=e.shift();d;)if(a.responseFields[d]&&(l[a.responseFields[d]]=c),!n&&b&&a.dataFilter&&(c=a.dataFilter(c,a.dataType)),
n=d,d=e.shift())if("*"===d)d=n;else if("*"!==n&&n!==d){if(!(k=f[n+" "+d]||f["* "+d]))for(g in f)if((m=g.split(" "))[1]===d&&(k=f[n+" "+m[0]]||f["* "+m[0]])){!0===k?k=f[g]:!0!==f[g]&&(d=m[0],e.unshift(m[1]));break}if(!0!==k)if(k&&a["throws"])c=k(c);else try{c=k(c)}catch(N){return{state:"parsererror",error:k?N:"No conversion from "+n+" to "+d}}}return{state:"success",data:c}}(h,K,C,s),s?(h.ifModified&&((N=C.getResponseHeader("Last-Modified"))&&(p.lastModified[d]=N),(N=C.getResponseHeader("etag"))&&
(p.etag[d]=N)),204===a||"HEAD"===h.type?Y="nocontent":304===a?Y="notmodified":(Y=K.state,r=K.data,s=!(F=K.error))):(F=Y,!a&&Y||(Y="error",0>a&&(a=0))),C.status=a,C.statusText=(c||Y)+"",s?H.resolveWith(u,[r,Y,C]):H.rejectWith(u,[C,Y,F]),C.statusCode(v),v=void 0,q&&t.trigger(s?"ajaxSuccess":"ajaxError",[C,h,s?r:F]),z.fireWith(u,[C,Y]),q&&(t.trigger("ajaxComplete",[C,h]),--p.active||p.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=void 0);c=c||{};var g,d,k,m,n,f,e,q,s,r,h=p.ajaxSetup({},c),u=
h.context||h,t=h.context&&(u.nodeType||u.jquery)?p(u):p.event,H=p.Deferred(),z=p.Callbacks("once memory"),v=h.statusCode||{},F={},K={},ma="canceled",C={readyState:0,getResponseHeader:function(a){var c;if(e){if(!m)for(m={};c=dc.exec(k);)m[c[1].toLowerCase()+" "]=(m[c[1].toLowerCase()+" "]||[]).concat(c[2]);c=m[a.toLowerCase()+" "]}return null==c?null:c.join(", ")},getAllResponseHeaders:function(){return e?k:null},setRequestHeader:function(a,c){return null==e&&(a=K[a.toLowerCase()]=K[a.toLowerCase()]||
a,F[a]=c),this},overrideMimeType:function(a){return null==e&&(h.mimeType=a),this},statusCode:function(a){var c;if(a)if(e)C.always(a[C.status]);else for(c in a)v[c]=[v[c],a[c]];return this},abort:function(a){a=a||ma;return g&&g.abort(a),l(0,a),this}};if(H.promise(C),h.url=((a||h.url||xa.href)+"").replace(Lb,xa.protocol+"//"),h.type=c.method||c.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Da)||[""],null==h.crossDomain){f=O.createElement("a");try{f.href=h.url,f.href=f.href,
h.crossDomain=ib.protocol+"//"+ib.host!=f.protocol+"//"+f.host}catch(x){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=p.param(h.data,h.traditional)),X(fc,h,c,C),e)return C;for(s in(q=p.event&&h.global)&&0==p.active++&&p.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ec.test(h.type),d=h.url.replace(mc,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(lc,"+")):(r=h.url.slice(d.length),
h.data&&(h.processData||"string"==typeof h.data)&&(d+=(Ha.test(d)?"\x26":"?")+h.data,delete h.data),!1===h.cache&&(d=d.replace(qa,"$1"),r=(Ha.test(d)?"\x26":"?")+"_\x3d"+La++ +r),h.url=d+r),h.ifModified&&(p.lastModified[d]&&C.setRequestHeader("If-Modified-Since",p.lastModified[d]),p.etag[d]&&C.setRequestHeader("If-None-Match",p.etag[d])),(h.data&&h.hasContent&&!1!==h.contentType||c.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?
h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ea+"; q\x3d0.01":""):h.accepts["*"]),h.headers)C.setRequestHeader(s,h.headers[s]);if(h.beforeSend&&(!1===h.beforeSend.call(u,C,h)||e))return C.abort();if(ma="abort",z.add(h.complete),C.done(h.success),C.fail(h.error),g=X(Db,h,c,C)){if(C.readyState=1,q&&t.trigger("ajaxSend",[C,h]),e)return C;h.async&&0<h.timeout&&(n=b.setTimeout(function(){C.abort("timeout")},h.timeout));try{e=!1,g.send(F,l)}catch(L){if(e)throw L;l(-1,L)}}else l(-1,"No Transport");
return C},getJSON:function(a,c,l){return p.get(a,c,l,"json")},getScript:function(a,c){return p.get(a,void 0,c,"script")}});p.each(["get","post"],function(a,c){p[c]=function(a,l,b,g){return H(l)&&(g=g||b,b=l,l=void 0),p.ajax(p.extend({url:a,type:c,dataType:g,data:l,success:b},p.isPlainObject(a)&&a))}});p.ajaxPrefilter(function(a){for(var c in a.headers)"content-type"===c.toLowerCase()&&(a.contentType=a.headers[c]||"")});p._evalUrl=function(a,c,l){return p.ajax({url:a,type:"GET",dataType:"script",cache:!0,
async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){p.globalEval(a,c,l)}})};p.fn.extend({wrapAll:function(a){var c;return this[0]&&(H(a)&&(a=a.call(this[0])),c=p(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return H(a)?this.each(function(c){p(this).wrapInner(a.call(this,c))}):this.each(function(){var c=
p(this),l=c.contents();l.length?l.wrapAll(a):c.append(a)})},wrap:function(a){var c=H(a);return this.each(function(l){p(this).wrapAll(c?a.call(this,l):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}});p.expr.pseudos.hidden=function(a){return!p.expr.pseudos.visible(a)};p.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};p.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(a){}};
var nc={0:200,1223:204},xb=p.ajaxSettings.xhr();l.cors=!!xb&&"withCredentials"in xb;l.ajax=xb=!!xb;p.ajaxTransport(function(a){var c,g;if(l.cors||xb&&!a.crossDomain)return{send:function(l,d){var k,m=a.xhr();if(m.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(k in a.xhrFields)m[k]=a.xhrFields[k];for(k in a.mimeType&&m.overrideMimeType&&m.overrideMimeType(a.mimeType),a.crossDomain||l["X-Requested-With"]||(l["X-Requested-With"]="XMLHttpRequest"),l)m.setRequestHeader(k,l[k]);c=function(a){return function(){c&&
(c=g=m.onload=m.onerror=m.onabort=m.ontimeout=m.onreadystatechange=null,"abort"===a?m.abort():"error"===a?"number"!=typeof m.status?d(0,"error"):d(m.status,m.statusText):d(nc[m.status]||m.status,m.statusText,"text"!==(m.responseType||"text")||"string"!=typeof m.responseText?{binary:m.response}:{text:m.responseText},m.getAllResponseHeaders()))}};m.onload=c();g=m.onerror=m.ontimeout=c("error");void 0!==m.onabort?m.onabort=g:m.onreadystatechange=function(){4===m.readyState&&b.setTimeout(function(){c&&
g()})};c=c("abort");try{m.send(a.hasContent&&a.data||null)}catch(n){if(c)throw n;}},abort:function(){c&&c()}}});p.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return p.globalEval(a),a}}});p.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type=
"GET")});p.ajaxTransport("script",function(a){var c,l;if(a.crossDomain||a.scriptAttrs)return{send:function(b,g){c=p("\x3cscript\x3e").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",l=function(a){c.remove();l=null;a&&g("error"===a.type?404:200,a.type)});O.head.appendChild(c[0])},abort:function(){l&&l()}}});var gc,yb=[],zb=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=yb.pop()||p.expando+"_"+La++;return this[a]=!0,a}});p.ajaxPrefilter("json jsonp",
function(a,c,l){var g,d,k,m=!1!==a.jsonp&&(zb.test(a.url)?"url":"string"==typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&zb.test(a.data)&&"data");if(m||"jsonp"===a.dataTypes[0])return g=a.jsonpCallback=H(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,m?a[m]=a[m].replace(zb,"$1"+g):!1!==a.jsonp&&(a.url+=(Ha.test(a.url)?"\x26":"?")+a.jsonp+"\x3d"+g),a.converters["script json"]=function(){return k||p.error(g+" was not called"),k[0]},a.dataTypes[0]="json",d=b[g],
b[g]=function(){k=arguments},l.always(function(){void 0===d?p(b).removeProp(g):b[g]=d;a[g]&&(a.jsonpCallback=c.jsonpCallback,yb.push(g));k&&H(d)&&d(k[0]);k=d=void 0}),"script"});l.createHTMLDocument=((gc=O.implementation.createHTMLDocument("").body).innerHTML="\x3cform\x3e\x3c/form\x3e\x3cform\x3e\x3c/form\x3e",2===gc.childNodes.length);p.parseHTML=function(a,c,b){return"string"!=typeof a?[]:("boolean"==typeof c&&(b=c,c=!1),c||(l.createHTMLDocument?((g=(c=O.implementation.createHTMLDocument("")).createElement("base")).href=
O.location.href,c.head.appendChild(g)):c=O),k=!b&&[],(d=nb.exec(a))?[c.createElement(d[1])]:(d=z([a],c,k),k&&k.length&&p(k).remove(),p.merge([],d.childNodes)));var g,d,k};p.fn.load=function(a,c,l){var b,g,d,k=this,m=a.indexOf(" ");return-1<m&&(b=T(a.slice(m)),a=a.slice(0,m)),H(c)?(l=c,c=void 0):c&&"object"==typeof c&&(g="POST"),0<k.length&&p.ajax({url:a,type:g||"GET",dataType:"html",data:c}).done(function(a){d=arguments;k.html(b?p("\x3cdiv\x3e").append(p.parseHTML(a)).find(b):a)}).always(l&&function(a,
c){k.each(function(){l.apply(this,d||[a.responseText,c,a])})}),this};p.expr.pseudos.animated=function(a){return p.grep(p.timers,function(c){return a===c.elem}).length};p.offset={setOffset:function(a,c,l){var b,g,d,k,m,n,f=p.css(a,"position"),e=p(a),q={};"static"===f&&(a.style.position="relative");m=e.offset();d=p.css(a,"top");n=p.css(a,"left");("absolute"===f||"fixed"===f)&&-1<(d+n).indexOf("auto")?(k=(b=e.position()).top,g=b.left):(k=parseFloat(d)||0,g=parseFloat(n)||0);H(c)&&(c=c.call(a,l,p.extend({},
m)));null!=c.top&&(q.top=c.top-m.top+k);null!=c.left&&(q.left=c.left-m.left+g);"using"in c?c.using.call(a,q):("number"==typeof q.top&&(q.top+="px"),"number"==typeof q.left&&(q.left+="px"),e.css(q))}};p.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(c){p.offset.setOffset(this,a,c)});var c,l,b=this[0];return b?b.getClientRects().length?(c=b.getBoundingClientRect(),l=b.ownerDocument.defaultView,{top:c.top+l.pageYOffset,left:c.left+l.pageXOffset}):{top:0,left:0}:
void 0},position:function(){if(this[0]){var a,c,l,b=this[0],g={top:0,left:0};if("fixed"===p.css(b,"position"))c=b.getBoundingClientRect();else{c=this.offset();l=b.ownerDocument;for(a=b.offsetParent||l.documentElement;a&&(a===l.body||a===l.documentElement)&&"static"===p.css(a,"position");)a=a.parentNode;a&&a!==b&&1===a.nodeType&&((g=p(a).offset()).top+=p.css(a,"borderTopWidth",!0),g.left+=p.css(a,"borderLeftWidth",!0))}return{top:c.top-g.top-p.css(b,"marginTop",!0),left:c.left-g.left-p.css(b,"marginLeft",
!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===p.css(a,"position");)a=a.offsetParent;return a||$a})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var l="pageYOffset"===c;p.fn[a]=function(b){return Ka(this,function(a,b,g){var d;if(ma(a)?d=a:9===a.nodeType&&(d=a.defaultView),void 0===g)return d?d[c]:a[b];d?d.scrollTo(l?d.pageXOffset:g,l?g:d.pageYOffset):a[b]=g},a,b,arguments.length)}});p.each(["top","left"],function(a,
c){p.cssHooks[c]=ua(l.pixelPosition,function(a,l){if(l)return l=E(a,c),db.test(l)?p(a).position()[c]+"px":l})});p.each({Height:"height",Width:"width"},function(a,c){p.each({padding:"inner"+a,content:c,"":"outer"+a},function(l,b){p.fn[b]=function(g,d){var k=arguments.length&&(l||"boolean"!=typeof g),m=l||(!0===g||!0===d?"margin":"border");return Ka(this,function(c,l,g){var d;return ma(c)?0===b.indexOf("outer")?c["inner"+a]:c.document.documentElement["client"+a]:9===c.nodeType?(d=c.documentElement,
Math.max(c.body["scroll"+a],d["scroll"+a],c.body["offset"+a],d["offset"+a],d["client"+a])):void 0===g?p.css(c,l,m):p.style(c,l,g,m)},c,k?g:void 0,k)}})});p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,c){p.fn[c]=function(a){return this.on(c,a)}});p.fn.extend({bind:function(a,c,l){return this.on(a,null,c,l)},unbind:function(a,c){return this.off(a,null,c)},delegate:function(a,c,l,b){return this.on(c,a,l,b)},undelegate:function(a,c,l){return 1===arguments.length?
this.off(a,"**"):this.off(c,a||"**",l)},hover:function(a,c){return this.mouseenter(a).mouseleave(c||a)}});p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,c){p.fn[c]=function(a,l){return 0<arguments.length?this.on(c,null,a,l):this.trigger(c)}});var oc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;p.proxy=function(a,c){var l,b,g;if("string"==typeof c&&
(l=a[c],c=a,a=l),H(a))return b=ta.call(arguments,2),(g=function(){return a.apply(c||this,b.concat(ta.call(arguments)))}).guid=a.guid=a.guid||p.guid++,g};p.holdReady=function(a){a?p.readyWait++:p.ready(!0)};p.isArray=Array.isArray;p.parseJSON=JSON.parse;p.nodeName=a;p.isFunction=H;p.isWindow=ma;p.camelCase=t;p.type=h;p.now=Date.now;p.isNumeric=function(a){var c=p.type(a);return("number"===c||"string"===c)&&!isNaN(a-parseFloat(a))};p.trim=function(a){return null==a?"":(a+"").replace(oc,"")};"function"==
typeof define&&define.amd&&define("jquery",[],function(){return p});var pc=b.jQuery,qc=b.$;return p.noConflict=function(a){return b.$===p&&(b.$=qc),a&&b.jQuery===p&&(b.jQuery=pc),p},"undefined"==typeof f&&(b.jQuery=b.$=p),p});"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);
!function(b,f){"object"==typeof exports&&"object"==typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):"object"==typeof exports?exports.Handlebars=f():b.Handlebars=f()}(this,function(){return function(b){function f(h){if(d[h])return d[h].exports;var e=d[h]={exports:{},id:h,loaded:!1};return b[h].call(e.exports,e,e.exports,f),e.loaded=!0,e.exports}var d={};return f.m=b,f.c=d,f.p="",f(0)}([function(b,f,d){function h(){var a=q();return a.compile=function(c,b){return k.compile(c,
b,a)},a.precompile=function(c,b){return k.precompile(c,b,a)},a.AST=g["default"],a.Compiler=k.Compiler,a.JavaScriptCompiler=n["default"],a.Parser=m.parser,a.parse=m.parse,a}var e=d(1)["default"];f.__esModule=!0;var a=d(2),a=e(a),c=d(35),g=e(c),m=d(36),k=d(41),c=d(42),n=e(c),c=d(39),c=e(c);d=d(34);var e=e(d),q=a["default"].create,a=h();a.create=h;e["default"](a);a.Visitor=c["default"];a["default"]=a;f["default"]=a;b.exports=f["default"]},function(b,f){f["default"]=function(b){return b&&b.__esModule?
b:{"default":b}};f.__esModule=!0},function(b,f,d){function h(){var a=new g.HandlebarsEnvironment;return n.extend(a,g),a.SafeString=m["default"],a.Exception=k["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=q,a.template=function(c){return q.template(c,a)},a}var e=d(3)["default"],a=d(1)["default"];f.__esModule=!0;var c=d(4),g=e(c),c=d(21),m=a(c),c=d(6),k=a(c),c=d(5),n=e(c),c=d(22),q=e(c);d=d(34);a=a(d);d=h();d.create=h;a["default"](d);d["default"]=d;f["default"]=d;b.exports=f["default"]},
function(b,f){f["default"]=function(b){if(b&&b.__esModule)return b;var f={};if(null!=b)for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f[e]=b[e]);return f["default"]=b,f};f.__esModule=!0},function(b,f,d){function h(a,c,b){this.helpers=a||{};this.partials=c||{};this.decorators=b||{};g.registerDefaultHelpers(this);m.registerDefaultDecorators(this)}b=d(1)["default"];f.__esModule=!0;f.HandlebarsEnvironment=h;var e=d(5),a=d(6),c=b(a),g=d(10),m=d(18);d=d(20);d=b(d);f.VERSION="4.0.11";f.COMPILER_REVISION=
7;f.REVISION_CHANGES={1:"\x3c\x3d 1.0.rc.2",2:"\x3d\x3d 1.0.0-rc.3",3:"\x3d\x3d 1.0.0-rc.4",4:"\x3d\x3d 1.x.x",5:"\x3d\x3d 2.0.0-alpha.x",6:"\x3e\x3d 2.0.0-beta.1",7:"\x3e\x3d 4.0.0"};h.prototype={constructor:h,logger:d["default"],log:d["default"].log,registerHelper:function(a,b){if("[object Object]"===e.toString.call(a)){if(b)throw new c["default"]("Arg not supported with multiple helpers");e.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,
b){if("[object Object]"===e.toString.call(a))e.extend(this.partials,a);else{if("undefined"==typeof b)throw new c["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if("[object Object]"===e.toString.call(a)){if(b)throw new c["default"]("Arg not supported with multiple decorators");e.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};
f.log=d["default"].log;f.createFrame=e.createFrame;f.logger=d["default"]},function(b,f){function d(a){return e[a]}function h(a){for(var c=1;c<arguments.length;c++)for(var b in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],b)&&(a[b]=arguments[c][b]);return a}f.__esModule=!0;f.extend=h;f.indexOf=function(a,c){for(var b=0,g=a.length;b<g;b++)if(a[b]===c)return b;return-1};f.escapeExpression=function(b){if("string"!=typeof b){if(b&&b.toHTML)return b.toHTML();if(null==b)return"";if(!b)return b+
"";b=""+b}return c.test(b)?b.replace(a,d):b};f.isEmpty=function(a){return!a&&0!==a||!(!k(a)||0!==a.length)};f.createFrame=function(a){var c=h({},a);return c._parent=a,c};f.blockParams=function(a,c){return a.path=c,a};f.appendContextPath=function(a,c){return(a?a+".":"")+c};var e={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","`":"\x26#x60;","\x3d":"\x26#x3D;"},a=/[&<>"'`=]/g,c=/[&<>"'`=]/,g=Object.prototype.toString;f.toString=g;var m=function(a){return"function"==
typeof a};m(/x/)&&(f.isFunction=m=function(a){return"function"==typeof a&&"[object Function]"===g.call(a)});f.isFunction=m;var k=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===g.call(a)};f.isArray=k},function(b,f,d){function h(c,b){var d=b&&b.loc,k=void 0,n=void 0;d&&(k=d.start.line,n=d.start.column,c+=" - "+k+":"+n);for(var f=Error.prototype.constructor.call(this,c),r=0;r<a.length;r++)this[a[r]]=f[a[r]];Error.captureStackTrace&&Error.captureStackTrace(this,h);try{d&&
(this.lineNumber=k,e?Object.defineProperty(this,"column",{value:n,enumerable:!0}):this.column=n)}catch(t){}}var e=d(7)["default"];f.__esModule=!0;var a="description fileName lineNumber message name number stack".split(" ");h.prototype=Error();f["default"]=h;b.exports=f["default"]},function(b,f,d){b.exports={"default":d(8),__esModule:!0}},function(b,f,d){var h=d(9);b.exports=function(b,a,c){return h.setDesc(b,a,c)}},function(b,f){var d=Object;b.exports={create:d.create,getProto:d.getPrototypeOf,isEnum:{}.propertyIsEnumerable,
getDesc:d.getOwnPropertyDescriptor,setDesc:d.defineProperty,setDescs:d.defineProperties,getKeys:d.keys,getNames:d.getOwnPropertyNames,getSymbols:d.getOwnPropertySymbols,each:[].forEach}},function(b,f,d){b=d(1)["default"];f.__esModule=!0;f.registerDefaultHelpers=function(b){h["default"](b);e["default"](b);a["default"](b);c["default"](b);g["default"](b);m["default"](b);k["default"](b)};f=d(11);var h=b(f);f=d(12);var e=b(f);f=d(13);var a=b(f);f=d(14);var c=b(f);f=d(15);var g=b(f);f=d(16);var m=b(f);
d=d(17);var k=b(d)},function(b,f,d){f.__esModule=!0;var h=d(5);f["default"]=function(b){b.registerHelper("blockHelperMissing",function(a,c){var g=c.inverse,d=c.fn;if(!0===a)return d(this);if(!1===a||null==a)return g(this);if(h.isArray(a))return 0<a.length?(c.ids&&(c.ids=[c.name]),b.helpers.each(a,c)):g(this);c.data&&c.ids&&(g=h.createFrame(c.data),g.contextPath=h.appendContextPath(c.data.contextPath,c.name),c={data:g});return d(a,c)})};b.exports=f["default"]},function(b,f,d){var h=d(1)["default"];
f.__esModule=!0;var e=d(5);d=d(6);var a=h(d);f["default"]=function(c){c.registerHelper("each",function(c,b){function d(a,b,k){s&&(s.key=a,s.index=b,s.first=0===b,s.last=!!k,u&&(s.contextPath=u+a));t+=f(c[a],{data:s,blockParams:e.blockParams([c[a],a],[u+a,null])})}if(!b)throw new a["default"]("Must pass iterator to #each");var f=b.fn,q=b.inverse,h=0,t="",s=void 0,u=void 0;if(b.data&&b.ids&&(u=e.appendContextPath(b.data.contextPath,b.ids[0])+"."),e.isFunction(c)&&(c=c.call(this)),b.data&&(s=e.createFrame(b.data)),
c&&"object"==typeof c)if(e.isArray(c))for(var v=c.length;h<v;h++)h in c&&d(h,h,h===c.length-1);else{var v=void 0,x;for(x in c)c.hasOwnProperty(x)&&(void 0!==v&&d(v,h-1),v=x,h++);void 0!==v&&d(v,h-1,!0)}return 0===h&&(t=q(this)),t})};b.exports=f["default"]},function(b,f,d){var h=d(1)["default"];f.__esModule=!0;d=d(6);var e=h(d);f["default"]=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new e["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');
})};b.exports=f["default"]},function(b,f,d){f.__esModule=!0;var h=d(5);f["default"]=function(b){b.registerHelper("if",function(a,c){return h.isFunction(a)&&(a=a.call(this)),!c.hash.includeZero&&!a||h.isEmpty(a)?c.inverse(this):c.fn(this)});b.registerHelper("unless",function(a,c){return b.helpers["if"].call(this,a,{fn:c.inverse,inverse:c.fn,hash:c.hash})})};b.exports=f["default"]},function(b,f){f.__esModule=!0;f["default"]=function(b){b.registerHelper("log",function(){for(var f=[void 0],e=arguments[arguments.length-
1],a=0;a<arguments.length-1;a++)f.push(arguments[a]);a=1;null!=e.hash.level?a=e.hash.level:e.data&&null!=e.data.level&&(a=e.data.level);f[0]=a;b.log.apply(b,f)})};b.exports=f["default"]},function(b,f){f.__esModule=!0;f["default"]=function(b){b.registerHelper("lookup",function(b,d){return b&&b[d]})};b.exports=f["default"]},function(b,f,d){f.__esModule=!0;var h=d(5);f["default"]=function(b){b.registerHelper("with",function(a,c){h.isFunction(a)&&(a=a.call(this));var b=c.fn;if(h.isEmpty(a))return c.inverse(this);
var d=c.data;return c.data&&c.ids&&(d=h.createFrame(c.data),d.contextPath=h.appendContextPath(c.data.contextPath,c.ids[0])),b(a,{data:d,blockParams:h.blockParams([a],[d&&d.contextPath])})})};b.exports=f["default"]},function(b,f,d){b=d(1)["default"];f.__esModule=!0;f.registerDefaultDecorators=function(b){h["default"](b)};f=d(19);var h=b(f)},function(b,f,d){f.__esModule=!0;var h=d(5);f["default"]=function(b){b.registerDecorator("inline",function(a,c,b,d){var k=a;return c.partials||(c.partials={},k=
function(d,k){var m=b.partials;b.partials=h.extend({},m,c.partials);var f=a(d,k);return b.partials=m,f}),c.partials[d.args[0]]=d.fn,k})};b.exports=f["default"]},function(b,f,d){f.__esModule=!0;var h=d(5),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var c=h.indexOf(e.methodMap,a.toLowerCase());a=0<=c?c:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var c=e.methodMap[a];
console[c]||(c="log");for(var b=arguments.length,d=Array(1<b?b-1:0),k=1;k<b;k++)d[k-1]=arguments[k];console[c].apply(console,d)}}};f["default"]=e;b.exports=f["default"]},function(b,f){function d(b){this.string=b}f.__esModule=!0;d.prototype.toString=d.prototype.toHTML=function(){return""+this.string};f["default"]=d;b.exports=f["default"]},function(b,f,d){function h(a,b,g,d,k,m,f){function n(c){var b=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],k=f;return!f||c==f[0]||c===a.nullContext&&
null===f[0]||(k=[c].concat(f)),g(a,c,a.helpers,a.partials,b.data||d,m&&[b.blockParams].concat(m),k)}return n=c(g,n,a,f,d,m),n.program=b,n.depth=f?f.length:0,n.blockParams=k||0,n}function e(){return""}function a(a,c){return c&&"root"in c||(c=c?q.createFrame(c):{},c.root=a),c}function c(a,c,b,g,d,m){if(a.decorator){var f={};c=a.decorator(c,f,b,g&&g[0],d,m,g);k.extend(c,f)}return c}var g=d(23)["default"],m=d(3)["default"];b=d(1)["default"];f.__esModule=!0;f.checkRevision=function(a){var c=a&&a[0]||1,
b=q.COMPILER_REVISION;if(c!==b){if(c<b)throw new n["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+q.REVISION_CHANGES[b]+") or downgrade your runtime to an older version ("+q.REVISION_CHANGES[c]+").");throw new n["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").");}};f.template=function(b,d){function m(g){function d(a){return""+
b.main(f,a,f.helpers,f.partials,n,q,e)}var k=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],n=k.data;m._setup(k);!k.partial&&b.useData&&(n=a(g,n));var e=void 0,q=b.useBlockParams?[]:void 0;return b.useDepths&&(e=k.depths?g!=k.depths[0]?[g].concat(k.depths):k.depths:[g]),(d=c(b.main,d,f,k.depths||[],n,q))(g,k)}if(!d)throw new n["default"]("No environment passed to template");if(!b||!b.main)throw new n["default"]("Unknown template object: "+typeof b);b.main.decorator=b.main_d;d.VM.checkRevision(b.compiler);
var f={strict:function(a,c){if(!(c in a))throw new n["default"]('"'+c+'" not defined in '+a);return a[c]},lookup:function(a,c){for(var b=a.length,g=0;g<b;g++)if(a[g]&&null!=a[g][c])return a[g][c]},lambda:function(a,c){return"function"==typeof a?a.call(c):a},escapeExpression:k.escapeExpression,invokePartial:function(a,c,g){g.hash&&(c=k.extend({},c,g.hash),g.ids&&(g.ids[0]=!0));a=d.VM.resolvePartial.call(this,a,c,g);var m=d.VM.invokePartial.call(this,a,c,g);if(null==m&&d.compile&&(g.partials[g.name]=
d.compile(a,b.compilerOptions,d),m=g.partials[g.name](c,g)),null!=m){if(g.indent){a=m.split("\n");c=0;for(m=a.length;c<m&&(a[c]||c+1!==m);c++)a[c]=g.indent+a[c];m=a.join("\n")}return m}throw new n["default"]("The partial "+g.name+" could not be compiled when running in runtime-only mode");},fn:function(a){var c=b[a];return c.decorator=b[a+"_d"],c},programs:[],program:function(a,c,b,g,d){var k=this.programs[a],m=this.fn(a);return c||d||g||b?k=h(this,a,m,c,b,g,d):k||(k=this.programs[a]=h(this,a,m)),
k},data:function(a,c){for(;a&&c--;)a=a._parent;return a},merge:function(a,c){var b=a||c;return a&&c&&a!==c&&(b=k.extend({},c,a)),b},nullContext:g({}),noop:d.VM.noop,compilerInfo:b.compiler};return m.isTop=!0,m._setup=function(a){a.partial?(f.helpers=a.helpers,f.partials=a.partials,f.decorators=a.decorators):(f.helpers=f.merge(a.helpers,d.helpers),b.usePartial&&(f.partials=f.merge(a.partials,d.partials)),(b.usePartial||b.useDecorators)&&(f.decorators=f.merge(a.decorators,d.decorators)))},m._child=
function(a,c,g,d){if(b.useBlockParams&&!g)throw new n["default"]("must pass block params");if(b.useDepths&&!d)throw new n["default"]("must pass parent depths");return h(f,a,b[a],c,0,g,d)},m};f.wrapProgram=h;f.resolvePartial=function(a,c,b){return a?a.call||b.name||(b.name=a,a=b.partials[a]):a="@partial-block"===b.name?b.data["partial-block"]:b.partials[b.name],a};f.invokePartial=function(a,c,b){var g=b.data&&b.data["partial-block"];b.partial=!0;b.ids&&(b.data.contextPath=b.ids[0]||b.data.contextPath);
var d=void 0;if(b.fn&&b.fn!==e&&!function(){b.data=q.createFrame(b.data);var a=b.fn;d=b.data["partial-block"]=function(c){var b=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];return b.data=q.createFrame(b.data),b.data["partial-block"]=g,a(c,b)};a.partials&&(b.partials=k.extend({},b.partials,a.partials))}(),void 0===a&&d&&(a=d),void 0===a)throw new n["default"]("The partial "+b.name+" could not be found");if(a instanceof Function)return a(c,b)};f.noop=e;f=d(5);var k=m(f);f=d(6);var n=b(f),
q=d(4)},function(b,f,d){b.exports={"default":d(24),__esModule:!0}},function(b,f,d){d(25);b.exports=d(30).Object.seal},function(b,f,d){var h=d(26);d(27)("seal",function(b){return function(a){return b&&h(a)?b(a):a}})},function(b,f){b.exports=function(b){return"object"==typeof b?null!==b:"function"==typeof b}},function(b,f,d){var h=d(28),e=d(30),a=d(33);b.exports=function(c,b){var d=(e.Object||{})[c]||Object[c],k={};k[c]=b(d);h(h.S+h.F*a(function(){d(1)}),"Object",k)}},function(b,f,d){var h=d(29),e=
d(30),a=d(31),c=function(b,d,k){var f,q,r=b&c.F,t=b&c.G,s=b&c.S,u=b&c.P,v=b&c.B;b&=c.W;var x=t?e:e[d]||(e[d]={}),s=t?h:s?h[d]:(h[d]||{}).prototype;t&&(k=d);for(f in k)(d=!r&&s&&f in s)&&f in x||(q=d?s[f]:k[f],x[f]=t&&"function"!=typeof s[f]?k[f]:v&&d?a(q,h):b&&s[f]==q?function(a){var c=function(c){return this instanceof a?new a(c):a(c)};return c.prototype=a.prototype,c}(q):u&&"function"==typeof q?a(Function.call,q):q,u&&((x.prototype||(x.prototype={}))[f]=q))};c.F=1;c.G=2;c.S=4;c.P=8;c.B=16;c.W=32;
b.exports=c},function(b,f){var d=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(b,f){var d=b.exports={version:"1.2.6"};"number"==typeof __e&&(__e=d)},function(b,f,d){var h=d(32);b.exports=function(b,a,c){if(h(b),void 0===a)return b;switch(c){case 1:return function(c){return b.call(a,c)};case 2:return function(c,d){return b.call(a,c,d)};case 3:return function(c,d,k){return b.call(a,
c,d,k)}}return function(){return b.apply(a,arguments)}}},function(b,f){b.exports=function(b){if("function"!=typeof b)throw TypeError(b+" is not a function!");return b}},function(b,f){b.exports=function(b){try{return!!b()}catch(f){return!0}}},function(b,f){(function(d){f.__esModule=!0;f["default"]=function(b){var f="undefined"!=typeof d?d:window,a=f.Handlebars;b.noConflict=function(){return f.Handlebars===b&&(f.Handlebars=a),b}};b.exports=f["default"]}).call(f,function(){return this}())},function(b,
f){f.__esModule=!0;var d={helpers:{helperExpression:function(b){return"SubExpression"===b.type||("MustacheStatement"===b.type||"BlockStatement"===b.type)&&!!(b.params&&b.params.length||b.hash)},scopedId:function(b){return/^\.|this\b/.test(b.original)},simpleId:function(b){return 1===b.parts.length&&!d.helpers.scopedId(b)&&!b.depth}}};f["default"]=d;b.exports=f["default"]},function(b,f,d){var h=d(1)["default"];b=d(3)["default"];f.__esModule=!0;f.parse=function(b,d){if("Program"===b.type)return b;a["default"].yy=
g;g.locInfo=function(a){return new g.SourceLocation(d&&d.srcName,a)};return(new c["default"](d)).accept(a["default"].parse(b))};var e=d(37),a=h(e),e=d(38),c=h(e),h=d(40);b=b(h);d=d(5);f.parser=a["default"];var g={};d.extend(g,b)},function(b,f){f.__esModule=!0;var d=function(){function b(){this.yy={}}var d={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,
rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,
openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,
hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",
51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,
1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,d,k,
f,e,h){a=e.length-1;switch(f){case 1:return e[a-1];case 2:this.$=k.prepareProgram(e[a]);break;case 3:this.$=e[a];break;case 4:this.$=e[a];break;case 5:this.$=e[a];break;case 6:this.$=e[a];break;case 7:this.$=e[a];break;case 8:this.$=e[a];break;case 9:this.$={type:"CommentStatement",value:k.stripComment(e[a]),strip:k.stripFlags(e[a],e[a]),loc:k.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:e[a],value:e[a],loc:k.locInfo(this._$)};break;case 11:this.$=k.prepareRawBlock(e[a-
2],e[a-1],e[a],this._$);break;case 12:this.$={path:e[a-3],params:e[a-2],hash:e[a-1]};break;case 13:this.$=k.prepareBlock(e[a-3],e[a-2],e[a-1],e[a],!1,this._$);break;case 14:this.$=k.prepareBlock(e[a-3],e[a-2],e[a-1],e[a],!0,this._$);break;case 15:this.$={open:e[a-5],path:e[a-4],params:e[a-3],hash:e[a-2],blockParams:e[a-1],strip:k.stripFlags(e[a-5],e[a])};break;case 16:this.$={path:e[a-4],params:e[a-3],hash:e[a-2],blockParams:e[a-1],strip:k.stripFlags(e[a-5],e[a])};break;case 17:this.$={path:e[a-4],
params:e[a-3],hash:e[a-2],blockParams:e[a-1],strip:k.stripFlags(e[a-5],e[a])};break;case 18:this.$={strip:k.stripFlags(e[a-1],e[a-1]),program:e[a]};break;case 19:f=k.prepareBlock(e[a-2],e[a-1],e[a],e[a],!1,this._$);k=k.prepareProgram([f],e[a-1].loc);k.chained=!0;this.$={strip:e[a-2].strip,program:k,chain:!0};break;case 20:this.$=e[a];break;case 21:this.$={path:e[a-1],strip:k.stripFlags(e[a-2],e[a])};break;case 22:this.$=k.prepareMustache(e[a-3],e[a-2],e[a-1],e[a-4],k.stripFlags(e[a-4],e[a]),this._$);
break;case 23:this.$=k.prepareMustache(e[a-3],e[a-2],e[a-1],e[a-4],k.stripFlags(e[a-4],e[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:e[a-3],params:e[a-2],hash:e[a-1],indent:"",strip:k.stripFlags(e[a-4],e[a]),loc:k.locInfo(this._$)};break;case 25:this.$=k.preparePartialBlock(e[a-2],e[a-1],e[a],this._$);break;case 26:this.$={path:e[a-3],params:e[a-2],hash:e[a-1],strip:k.stripFlags(e[a-4],e[a])};break;case 27:this.$=e[a];break;case 28:this.$=e[a];break;case 29:this.$={type:"SubExpression",
path:e[a-3],params:e[a-2],hash:e[a-1],loc:k.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:e[a],loc:k.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:k.id(e[a-2]),value:e[a],loc:k.locInfo(this._$)};break;case 32:this.$=k.id(e[a-1]);break;case 33:this.$=e[a];break;case 34:this.$=e[a];break;case 35:this.$={type:"StringLiteral",value:e[a],original:e[a],loc:k.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(e[a]),original:Number(e[a]),loc:k.locInfo(this._$)};
break;case 37:this.$={type:"BooleanLiteral",value:"true"===e[a],original:"true"===e[a],loc:k.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:k.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:k.locInfo(this._$)};break;case 40:this.$=e[a];break;case 41:this.$=e[a];break;case 42:this.$=k.preparePath(!0,e[a],this._$);break;case 43:this.$=k.preparePath(!1,e[a],this._$);break;case 44:e[a-2].push({part:k.id(e[a]),original:e[a],
separator:e[a-1]});this.$=e[a-2];break;case 45:this.$=[{part:k.id(e[a]),original:e[a]}];break;case 46:this.$=[];break;case 47:e[a-1].push(e[a]);break;case 48:this.$=[e[a]];break;case 49:e[a-1].push(e[a]);break;case 50:this.$=[];break;case 51:e[a-1].push(e[a]);break;case 58:this.$=[];break;case 59:e[a-1].push(e[a]);break;case 64:this.$=[];break;case 65:e[a-1].push(e[a]);break;case 70:this.$=[];break;case 71:e[a-1].push(e[a]);break;case 78:this.$=[];break;case 79:e[a-1].push(e[a]);break;case 82:this.$=
[];break;case 83:e[a-1].push(e[a]);break;case 86:this.$=[];break;case 87:e[a-1].push(e[a]);break;case 90:this.$=[];break;case 91:e[a-1].push(e[a]);break;case 94:this.$=[];break;case 95:e[a-1].push(e[a]);break;case 98:this.$=[e[a]];break;case 99:e[a-1].push(e[a]);break;case 100:this.$=[e[a]];break;case 101:e[a-1].push(e[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,
13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,
4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],
14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],
47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],
83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,
33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],
65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,
51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},
{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],
85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],
87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],
48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],
19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],
85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,
27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],
33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,
70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,
121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],
85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},
{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],
48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,
29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,
17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){throw Error(a);},parse:function(a){var b=[0],d=[null],k=[],e=this.table,f="",h=0,t=0,s=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc=
{});a=this.lexer.yylloc;k.push(a);var u=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var v,x,w,y,z,F,K,C,L={};;){w=b[b.length-1];if(this.defaultActions[w])y=this.defaultActions[w];else{if(null===v||"undefined"==typeof v)y=void 0,v=(y=this.lexer.lex()||1,"number"!=typeof y&&(y=this.symbols_[y]||y),y);y=e[w]&&e[w][v]}if("undefined"==typeof y||!y.length||!y[0]){var A="";if(!s){C=[];for(F in e[w])this.terminals_[F]&&2<F&&
C.push("'"+this.terminals_[F]+"'");A=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'");this.parseError(A,{text:this.lexer.match,token:this.terminals_[v]||v,line:this.lexer.yylineno,loc:a,expected:C})}}if(y[0]instanceof Array&&1<y.length)throw Error("Parse Error: multiple actions possible at state: "+
w+", token: "+v);switch(y[0]){case 1:b.push(v);d.push(this.lexer.yytext);k.push(this.lexer.yylloc);b.push(y[1]);v=null;x?(v=x,x=null):(t=this.lexer.yyleng,f=this.lexer.yytext,h=this.lexer.yylineno,a=this.lexer.yylloc,0<s&&s--);break;case 2:if(K=this.productions_[y[1]][1],L.$=d[d.length-K],L._$={first_line:k[k.length-(K||1)].first_line,last_line:k[k.length-1].last_line,first_column:k[k.length-(K||1)].first_column,last_column:k[k.length-1].last_column},u&&(L._$.range=[k[k.length-(K||1)].range[0],k[k.length-
1].range[1]]),z=this.performAction.call(L,f,t,h,this.yy,y[1],d,k),"undefined"!=typeof z)return z;K&&(b=b.slice(0,-2*K),d=d.slice(0,-1*K),k=k.slice(0,-1*K));b.push(this.productions_[y[1]][0]);d.push(L.$);k.push(L._$);w=e[b[b.length-2]][b[b.length-1]];b.push(w);break;case 3:return!0}}}},a=function(){var a={EOF:1,parseError:function(a,c){if(!this.yy.parser)throw Error(a);this.yy.parser.parseError(a,c)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=
0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;return a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},
unput:function(a){var c=a.length,b=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-c-1);this.offset-=c;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);b.length-1&&(this.yylineno-=b.length-1);var d=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?(b.length===
a.length?this.yylloc.first_column:0)+a[a.length-b.length].length-b[0].length:this.yylloc.first_column-c},this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-c]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return 20>a.length&&(a+=this._input.substr(0,
20-a.length)),(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),c=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,c,b,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),h=0;h<f.length&&(b=this._input.match(this.rules[f[h]]),!b||c&&!(b[0].length>c[0].length)||(c=b,d=h,this.options.flex));h++);return c?(e=c[0].match(/(?:\r\n?|\n).*/g),
e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],a=this.performAction.call(this,
this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-
1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,c,b,d){function e(a,b){return c.yytext=c.yytext.substr(a,c.yyleng-b)}switch(b){case 0:if("\\\\"===c.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===c.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),c.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),
"raw"===this.conditionStack[this.conditionStack.length-1]?15:(c.yytext=c.yytext.substr(5,c.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(c.yytext);
this.popState();this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return c.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return c.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;
case 42:return c.yytext=c.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,
/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,
/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return d.lexer=a,b.prototype=d,d.Parser=b,new b}();f["default"]=d;b.exports=f["default"]},function(b,f,
d){function h(){this.options=0>=arguments.length||void 0===arguments[0]?{}:arguments[0]}function e(a,c,b){void 0===c&&(c=a.length);var g=a[c-1];a=a[c-2];return g?"ContentStatement"===g.type?(a||!b?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(g.original):void 0:b}function a(a,c,b){void 0===c&&(c=-1);var g=a[c+1];a=a[c+2];return g?"ContentStatement"===g.type?(a||!b?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(g.original):void 0:b}function c(a,c,b){!(a=a[null==c?0:c+1])||"ContentStatement"!==a.type||!b&&a.rightStripped||
(c=a.value,a.value=a.value.replace(b?/^\s+/:/^[ \t]*\r?\n?/,""),a.rightStripped=a.value!==c)}function g(a,c,b){if((a=a[null==c?a.length-1:c-1])&&"ContentStatement"===a.type&&(b||!a.leftStripped))return c=a.value,a.value=a.value.replace(b?/\s+$/:/[ \t]+$/,""),a.leftStripped=a.value!==c,a.leftStripped}var m=d(1)["default"];f.__esModule=!0;d=d(39);m=m(d);h.prototype=new m["default"];h.prototype.Program=function(b){var d=!this.options.ignoreStandalone,m=!this.isRootSeen;this.isRootSeen=!0;for(var f=b.body,
h=0,s=f.length;h<s;h++){var u=f[h],v=this.accept(u);if(v){var x=e(f,h,m),w=a(f,h,m),y=v.openStandalone&&x,z=v.closeStandalone&&w,x=v.inlineStandalone&&x&&w;v.close&&c(f,h,!0);v.open&&g(f,h,!0);d&&x&&(c(f,h),g(f,h)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(f[h-1].original)[1]));d&&y&&(c((u.program||u.inverse).body),g(f,h));d&&z&&(c(f,h),g((u.inverse||u.program).body))}}return b};h.prototype.BlockStatement=h.prototype.DecoratorBlock=h.prototype.PartialBlockStatement=function(b){this.accept(b.program);
this.accept(b.inverse);var d=b.program||b.inverse,m=b.program&&b.inverse,f=m,h=m;if(m&&m.chained)for(f=m.body[0].program;h.chained;)h=h.body[h.body.length-1].program;var s={open:b.openStrip.open,close:b.closeStrip.close,openStandalone:a(d.body),closeStandalone:e((f||d).body)};(b.openStrip.close&&c(d.body,null,!0),m)?(m=b.inverseStrip,m.open&&g(d.body,null,!0),m.close&&c(f.body,null,!0),b.closeStrip.open&&g(h.body,null,!0),!this.options.ignoreStandalone&&e(d.body)&&a(f.body)&&(g(d.body),c(f.body))):
b.closeStrip.open&&g(d.body,null,!0);return s};h.prototype.Decorator=h.prototype.MustacheStatement=function(a){return a.strip};h.prototype.PartialStatement=h.prototype.CommentStatement=function(a){a=a.strip||{};return{inlineStandalone:!0,open:a.open,close:a.close}};f["default"]=h;b.exports=f["default"]},function(b,f,d){function h(){this.parents=[]}function e(a){this.acceptRequired(a,"path");this.acceptArray(a.params);this.acceptKey(a,"hash")}function a(a){e.call(this,a);this.acceptKey(a,"program");
this.acceptKey(a,"inverse")}function c(a){this.acceptRequired(a,"name");this.acceptArray(a.params);this.acceptKey(a,"hash")}var g=d(1)["default"];f.__esModule=!0;d=d(6);var m=g(d);h.prototype={constructor:h,mutating:!1,acceptKey:function(a,c){var b=this.accept(a[c]);if(this.mutating){if(b&&!h.prototype[b.type])throw new m["default"]('Unexpected node type "'+b.type+'" found when accepting '+c+" on "+a.type);a[c]=b}},acceptRequired:function(a,c){if(this.acceptKey(a,c),!a[c])throw new m["default"](a.type+
" requires "+c);},acceptArray:function(a){for(var c=0,b=a.length;c<b;c++)this.acceptKey(a,c),a[c]||(a.splice(c,1),c--,b--)},accept:function(a){if(a){if(!this[a.type])throw new m["default"]("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current);this.current=a;var c=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||c?c:!1!==c?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:e,Decorator:e,BlockStatement:a,DecoratorBlock:a,PartialStatement:c,
PartialBlockStatement:function(a){c.call(this,a);this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:e,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}};f["default"]=h;b.exports=f["default"]},function(b,f,d){function h(a,c){if(c=c.path?c.path.original:
c,a.path.original!==c)throw new e["default"](a.path.original+" doesn't match "+c,{loc:a.path.loc});}b=d(1)["default"];f.__esModule=!0;f.SourceLocation=function(a,c){this.source=a;this.start={line:c.first_line,column:c.first_column};this.end={line:c.last_line,column:c.last_column}};f.id=function(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a};f.stripFlags=function(a,c){return{open:"~"===a.charAt(2),close:"~"===c.charAt(c.length-3)}};f.stripComment=function(a){return a.replace(/^\{\{~?\!-?-?/,
"").replace(/-?-?~?\}\}$/,"")};f.preparePath=function(a,c,b){b=this.locInfo(b);for(var d=a?"@":"",k=[],f=0,h=0,r=c.length;h<r;h++){var t=c[h].part,s=c[h].original!==t;if(d+=(c[h].separator||"")+t,s||".."!==t&&"."!==t&&"this"!==t)k.push(t);else{if(0<k.length)throw new e["default"]("Invalid path: "+d,{loc:b});".."===t&&f++}}return{type:"PathExpression",data:a,depth:f,parts:k,original:d,loc:b}};f.prepareMustache=function(a,c,b,d,k,e){var f=d.charAt(3)||d.charAt(2),f="{"!==f&&"\x26"!==f;return{type:/\*/.test(d)?
"Decorator":"MustacheStatement",path:a,params:c,hash:b,escaped:f,strip:k,loc:this.locInfo(e)}};f.prepareRawBlock=function(a,c,b,d){h(a,b);d=this.locInfo(d);return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:{type:"Program",body:c,strip:{},loc:d},openStrip:{},inverseStrip:{},closeStrip:{},loc:d}};f.prepareBlock=function(a,c,b,d,k,f){d&&d.path&&h(a,d);var q=/\*/.test(a.open);c.blockParams=a.blockParams;var r=void 0,t=void 0;if(b){if(q)throw new e["default"]("Unexpected inverse block on decorator",
b);b.chain&&(b.program.body[0].closeStrip=d.strip);t=b.strip;r=b.program}return k&&(k=r,r=c,c=k),{type:q?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:c,inverse:r,openStrip:a.strip,inverseStrip:t,closeStrip:d&&d.strip,loc:this.locInfo(f)}};f.prepareProgram=function(a,c){if(!c&&a.length){var b=a[0].loc,d=a[a.length-1].loc;b&&d&&(c={source:b.source,start:{line:b.start.line,column:b.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,
strip:{},loc:c}};f.preparePartialBlock=function(a,c,b,d){return h(a,b),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:c,openStrip:a.strip,closeStrip:b&&b.strip,loc:this.locInfo(d)}};f=d(6);var e=b(f)},function(b,f,d){function h(){}function e(a,c){if(a===c)return!0;if(g.isArray(a)&&g.isArray(c)&&a.length===c.length){for(var b=0;b<a.length;b++)if(!e(a[b],c[b]))return!1;return!0}}function a(a){if(!a.path.parts){var c=a.path;a.path={type:"PathExpression",data:!1,depth:0,
parts:[c.original+""],original:c.original+"",loc:c.loc}}}b=d(1)["default"];f.__esModule=!0;f.Compiler=h;f.precompile=function(a,b,d){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{};"data"in b||(b.data=!0);b.compat&&(b.useDepths=!0);a=d.parse(a,b);a=(new d.Compiler).compile(a,b);return(new d.JavaScriptCompiler).compile(a,b)};f.compile=function(a,b,d){function k(){var c=d.parse(a,b),
c=(new d.Compiler).compile(c,b),c=(new d.JavaScriptCompiler).compile(c,b,void 0,!0);return d.template(c)}function f(a,c){return e||(e=k()),e.call(this,a,c)}if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=g.extend({},b);"data"in b||(b.data=!0);b.compat&&(b.useDepths=!0);var e=void 0;return f._setup=function(a){return e||(e=k()),e._setup(a)},f._child=function(a,c,b,d){return e||
(e=k()),e._child(a,c,b,d)},f};f=d(6);var c=b(f),g=d(5);d=d(35);var m=b(d),k=[].slice;h.prototype={compiler:h,equals:function(a){var c=this.opcodes.length;if(a.opcodes.length!==c)return!1;for(var b=0;b<c;b++){var d=this.opcodes[b],g=a.opcodes[b];if(d.opcode!==g.opcode||!e(d.args,g.args))return!1}c=this.children.length;for(b=0;b<c;b++)if(!this.children[b].equals(a.children[b]))return!1;return!0},guid:0,compile:function(a,c){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=c;this.stringParams=
c.stringParams;this.trackIds=c.trackIds;c.blockParams=c.blockParams||[];var b=c.knownHelpers;if(c.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},b)for(var d in b)d in b&&(this.options.knownHelpers[d]=b[d]);return this.accept(a)},compileProgram:function(a){a=(new this.compiler).compile(a,this.options);var c=this.guid++;return this.usePartial=this.usePartial||a.usePartial,this.children[c]=a,this.useDepths=this.useDepths||a.useDepths,c},accept:function(a){if(!this[a.type])throw new c["default"]("Unknown type: "+
a.type,a);this.sourceNode.unshift(a);a=this[a.type](a);return this.sourceNode.shift(),a},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var c=a.body,b=c.length,d=0;d<b;d++)this.accept(c[d]);return this.options.blockParams.shift(),this.isSimple=1===b,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(c){a(c);var b=c.program,d=c.inverse,b=b&&this.compileProgram(b),d=d&&this.compileProgram(d),g=this.classifySexpr(c);"helper"===g?this.helperSexpr(c,
b,d):"simple"===g?(this.simpleSexpr(c),this.opcode("pushProgram",b),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue",c.path.original)):(this.ambiguousSexpr(c,b,d),this.opcode("pushProgram",b),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},DecoratorBlock:function(a){var c=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,c,void 0);a=a.path;this.useDecorators=!0;this.opcode("registerDecorator",
c.length,a.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var d=a.params;if(1<d.length)throw new c["default"]("Unsupported number of partial arguments: "+d.length,a);d.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):d.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,g="SubExpression"===a.name.type;g&&this.accept(a.name);this.setupFullMustacheParams(a,b,void 0,!0);a=a.indent||
"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a="");this.opcode("invokePartial",g,d,a);this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a);a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(c){a(c);
var b=this.classifySexpr(c);"simple"===b?this.simpleSexpr(c):"helper"===b?this.helperSexpr(c):this.ambiguousSexpr(c)},ambiguousSexpr:function(a,c,b){a=a.path;var d=a.parts[0],g=null!=c||null!=b;this.opcode("getContext",a.depth);this.opcode("pushProgram",c);this.opcode("pushProgram",b);a.strict=!0;this.accept(a);this.opcode("invokeAmbiguous",d,g)},simpleSexpr:function(a){a=a.path;a.strict=!0;this.accept(a);this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,d){b=this.setupFullMustacheParams(a,
b,d);d=a.path;var g=d.parts[0];if(this.options.knownHelpers[g])this.opcode("invokeKnownHelper",b.length,g);else{if(this.options.knownHelpersOnly)throw new c["default"]("You specified knownHelpersOnly, but used the unknown helper "+g,a);d.strict=!0;d.falsy=!0;this.accept(d);this.opcode("invokeHelper",b.length,d.original,m["default"].helpers.simpleId(d))}},PathExpression:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);var c=a.parts[0],b=m["default"].helpers.scopedId(a),d=!a.depth&&
!b&&this.blockParamIndex(c);d?this.opcode("lookupBlockParam",d,a.parts):c?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,b):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral",
"null")},Hash:function(a){a=a.pairs;var c=0,b=a.length;for(this.opcode("pushHash");c<b;c++)this.pushParam(a[c].value);for(;c--;)this.opcode("assignToHash",a[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:k.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var c=m["default"].helpers.simpleId(a.path),b=c&&!!this.blockParamIndex(a.path.parts[0]),d=!b&&m["default"].helpers.helperExpression(a);(c=
!b&&(d||c))&&!d&&(b=this.options,b.knownHelpers[a.path.parts[0]]?d=!0:b.knownHelpersOnly&&(c=!1));return d?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var c=0,b=a.length;c<b;c++)this.pushParam(a[c])},pushParam:function(a){var c=null!=a.value?a.value:a.original||"";if(this.stringParams)c.replace&&(c=c.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",c,a.type),"SubExpression"===a.type&&this.accept(a);
else{if(this.trackIds){var b=void 0;(!a.parts||m["default"].helpers.scopedId(a)||a.depth||(b=this.blockParamIndex(a.parts[0])),b)?(c=a.parts.slice(1).join("."),this.opcode("pushId","BlockParam",b,c)):(c=a.original||c,c.replace&&(c=c.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,c))}this.accept(a)}},setupFullMustacheParams:function(a,c,b,d){var g=a.params;return this.pushParams(g),this.opcode("pushProgram",c),this.opcode("pushProgram",b),a.hash?this.accept(a.hash):
this.opcode("emptyHash",d),g},blockParamIndex:function(a){for(var c=0,b=this.options.blockParams.length;c<b;c++){var d=this.options.blockParams[c],k=d&&g.indexOf(d,a);if(d&&0<=k)return[c,k]}}}},function(b,f,d){function h(a){this.value=a}function e(){}function a(a,c,b,d){var g=c.popStack(),k=0,e=b.length;for(a&&e--;k<e;k++)g=c.nameLookup(g,b[k],d);return a?[c.aliasable("container.strict"),"(",g,", ",c.quotedString(b[k]),")"]:g}var c=d(1)["default"];f.__esModule=!0;var g=d(4),m=d(6),k=c(m),n=d(5);d=
d(43);var q=c(d);e.prototype={nameLookup:function(a,c){return e.isValidJavaScriptVariableName(c)?[a,".",c]:[a,"[",JSON.stringify(c),"]"]},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=g.COMPILER_REVISION;return[a,g.REVISION_CHANGES[a]]},appendToBuffer:function(a,c,b){return n.isArray(a)||(a=[a]),a=this.source.wrap(a,c),this.environment.isSimple?["return ",a,";"]:b?["buffer +\x3d ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},
compile:function(a,c,b,d){this.environment=a;this.options=c;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!d;this.name=this.environment.name;this.isChild=!!b;this.context=b||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(a,c);this.useDepths=this.useDepths||a.useDepths||
a.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||a.useBlockParams;var g=a.opcodes,e=void 0,f=void 0;b=a=void 0;a=0;for(b=g.length;a<b;a++)e=g[a],this.source.currentLocation=e.loc,f=f||e.loc,this[e.opcode].apply(this,e.args);if(this.source.currentLocation=f,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new k["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=
!0,this.decorators.prepend("var decorators \x3d container.decorators;\n"),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));a=this.createFunctionContext(d);if(this.isChild)return a;g={compiler:this.compilerInfo(),main:a};
this.decorators&&(g.main_d=this.decorators,g.useDecorators=!0);a=this.context;e=a.programs;f=a.decorators;a=0;for(b=e.length;a<b;a++)e[a]&&(g[a]=e[a],f[a]&&(g[a+"_d"]=f[a],g.useDecorators=!0));return this.environment.usePartial&&(g.usePartial=!0),this.options.data&&(g.useData=!0),this.useDepths&&(g.useDepths=!0),this.useBlockParams&&(g.useBlockParams=!0),this.options.compat&&(g.compat=!0),d?g.compilerOptions=this.options:(g.compiler=JSON.stringify(g.compiler),this.source.currentLocation={start:{line:1,
column:0}},g=this.objectLiteral(g),c.srcName?(g=g.toStringWithSourceMap({file:c.destName}),g.map=g.map&&g.map.toString()):g=g.toString()),g},preamble:function(){this.lastContext=0;this.source=new q["default"](this.options.srcName);this.decorators=new q["default"](this.options.srcName)},createFunctionContext:function(a){var c="",b=this.stackVars.concat(this.registers.list);0<b.length&&(c+=", "+b.join(", "));var b=0,d;for(d in this.aliases){var g=this.aliases[d];this.aliases.hasOwnProperty(d)&&g.children&&
1<g.referenceCount&&(c+=", alias"+ ++b+"\x3d"+d,g.children[0]="alias"+b)}d=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&d.push("blockParams");this.useDepths&&d.push("depths");c=this.mergeSource(c);return a?(d.push(c),Function.apply(this,d)):this.source.wrap(["function(",d.join(","),") {\n  ",c,"}"])},mergeSource:function(a){var c=this.environment.isSimple,b=!this.forceBuffer,d=void 0,g=void 0,k=void 0,e=void 0;return this.source.each(function(a){a.appendToBuffer?
(k?a.prepend("  + "):k=a,e=a):(k&&(g?k.prepend("buffer +\x3d "):d=!0,e.add(";"),k=e=void 0),g=!0,c||(b=!1))}),b?k?(k.prepend("return "),e.add(";")):g||this.source.push('return "";'):(a+=", buffer \x3d "+(d?"":this.initializeBuffer()),k?(k.prepend("return buffer + "),e.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},blockValue:function(a){var c=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs(a,
0,b);a=this.popStack();b.splice(1,0,a);this.push(this.source.functionCall(c,"call",b))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs("",0,c,!0);this.flushInline();var b=this.topStack();c.splice(1,0,b);this.pushSource(["if (!",this.lastHelper,") { ",b," \x3d ",this.source.functionCall(a,"call",c),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation;
this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" !\x3d null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," !\x3d null) { ",this.appendToBuffer(a,void 0,!0)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",
this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,c,b,d){var g=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[g++]));this.resolvePath("context",a,g,c,b)},lookupBlockParam:function(a,c){this.useBlockParams=!0;this.push(["blockParams[",a[0],"][",a[1],"]"]);this.resolvePath("context",c,1)},lookupData:function(a,c,b){a?this.pushStackLiteral("container.data(data, "+
a+")"):this.pushStackLiteral("data");this.resolvePath("data",c,0,!0,b)},resolvePath:function(c,b,d,g,k){var e=this;if(this.options.strict||this.options.assumeObjects)return void this.push(a(this.options.strict&&k,this,b,c));for(k=b.length;d<k;d++)this.replaceStack(function(a){var k=e.nameLookup(a,b[d],c);return g?[" \x26\x26 ",k]:[" !\x3d null ? ",k," : ",a]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,
c){this.pushContext();this.pushString(c);"SubExpression"!==c&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}");this.stringParams&&(this.push("{}"),this.push("{}"));this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(a.ids));
this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types)));this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,c){var b=this.nameLookup("decorators",c,"decorator"),d=this.setupHelperArgs(c,a);this.decorators.push(["fn \x3d ",
this.decorators.functionCall(b,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,c,b){var d=this.popStack();a=this.setupHelper(a,c);b=["("].concat(b?[a.name," || "]:"",d);this.options.strict||b.push(" || ",this.aliasable("helpers.helperMissing"));b.push(")");this.push(this.source.functionCall(b,"call",a.callParams))},invokeKnownHelper:function(a,c){var b=this.setupHelper(a,c);this.push(this.source.functionCall(b.name,"call",b.callParams))},invokeAmbiguous:function(a,c){this.useRegister("helper");
var b=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,c),b=["(","(helper \x3d ",this.lastHelper=this.nameLookup("helpers",a,"helper")," || ",b,")"];this.options.strict||(b[0]="(helper \x3d ",b.push(" !\x3d null ? helper : ",this.aliasable("helpers.helperMissing")));this.push(["(",b,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper \x3d\x3d\x3d ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,c,
b){var d=[],g=this.setupParams(c,1,d);a&&(c=this.popStack(),delete g.name);b&&(g.indent=JSON.stringify(b));g.helpers="helpers";g.partials="partials";g.decorators="container.decorators";a?d.unshift(c):d.unshift(this.nameLookup("partials",c,"partial"));this.options.compat&&(g.depths="depths");g=this.objectLiteral(g);d.push(g);this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var c=this.popStack(),b=void 0,d=void 0,g=void 0;this.trackIds&&(g=this.popStack());
this.stringParams&&(d=this.popStack(),b=this.popStack());var k=this.hash;b&&(k.contexts[a]=b);d&&(k.types[a]=d);g&&(k.ids[a]=g);k.values[a]=c},pushId:function(a,c,b){"BlockParam"===a?this.pushStackLiteral("blockParams["+c[0]+"].path["+c[1]+"]"+(b?" + "+JSON.stringify("."+b):"")):"PathExpression"===a?this.pushString(c):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:e,compileChildren:function(a,c){for(var b=a.children,d=void 0,g=void 0,k=0,e=b.length;k<e;k++){var d=
b[k],g=new this.compiler,f=this.matchExistingProgram(d);null==f?(this.context.programs.push(""),f=this.context.programs.length,d.index=f,d.name="program"+f,this.context.programs[f]=g.compile(d,c,this.context,!this.precompile),this.context.decorators[f]=g.decorators,this.context.environments[f]=d,this.useDepths=this.useDepths||g.useDepths,this.useBlockParams=this.useBlockParams||g.useBlockParams,d.useDepths=this.useDepths,d.useBlockParams=this.useBlockParams):(d.index=f.index,d.name="program"+f.index,
this.useDepths=this.useDepths||f.useDepths,this.useBlockParams=this.useBlockParams||f.useBlockParams)}},matchExistingProgram:function(a){for(var c=0,b=this.context.environments.length;c<b;c++){var d=this.context.environments[c];if(d&&d.equals(a))return d}},programExpression:function(a){a=this.environment.children[a];a=[a.index,"data",a.blockParams];return(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths"),"container.program("+a.join(", ")+")"},useRegister:function(a){this.registers[a]||
(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof h||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new h(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0);a&&this.source.push(a)},replaceStack:function(a){var c=["("],b=void 0,d=void 0,g=void 0;if(!this.isInline())throw new k["default"]("replaceStack on non-inline");
c=this.popStack(!0);c instanceof h?(b=[c.value],c=["(",b],g=!0):(d=!0,b=this.incrStack(),c=["((",this.push(b)," \x3d ",c,")"],b=this.topStack());a=a.call(this,b);g||this.popStack();d&&this.stackSlot--;this.push(c.concat(a,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var c=
0,b=a.length;c<b;c++){var d=a[c];if(d instanceof h)this.compileStack.push(d);else{var g=this.incrStack();this.pushSource([g," \x3d ",d,";"]);this.compileStack.push(g)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var c=this.isInline(),b=(c?this.inlineStack:this.compileStack).pop();if(!a&&b instanceof h)return b.value;if(!c){if(!this.stackSlot)throw new k["default"]("Invalid stack pop");this.stackSlot--}return b},topStack:function(){var a=this.isInline()?this.inlineStack:
this.compileStack,a=a[a.length-1];return a instanceof h?a.value:a},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var c=this.aliases[a];return c?(c.referenceCount++,c):(c=this.aliases[a]=this.source.wrap(a),c.aliasable=!0,c.referenceCount=1,c)},setupHelper:function(a,c,b){var d=[];a=this.setupHelperArgs(c,a,d,b);c=this.nameLookup("helpers",
c,"helper");b=this.aliasable(this.contextName(0)+" !\x3d null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:d,paramsInit:a,name:c,callParams:[b].concat(d)}},setupParams:function(a,c,b){var d={},g=[],k=[],e=[],f=!b,m=void 0;f&&(b=[]);d.name=this.quotedString(a);d.hash=this.popStack();this.trackIds&&(d.hashIds=this.popStack());this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());m=this.popStack();for(((a=this.popStack())||m)&&(d.fn=a||"container.noop",
d.inverse=m||"container.noop");c--;)m=this.popStack(),b[c]=m,this.trackIds&&(e[c]=this.popStack()),this.stringParams&&(k[c]=this.popStack(),g[c]=this.popStack());return f&&(d.args=this.source.generateArray(b)),this.trackIds&&(d.ids=this.source.generateArray(e)),this.stringParams&&(d.types=this.source.generateArray(k),d.contexts=this.source.generateArray(g)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,c,b,d){a=this.setupParams(a,
c,b);return a=this.objectLiteral(a),d?(this.useRegister("options"),b.push("options"),["options\x3d",a]):b?(b.push(a),""):a}};(function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),
c=e.RESERVED_WORDS={},b=0,d=a.length;b<d;b++)c[a[b]]=!0})();e.isValidJavaScriptVariableName=function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)};f["default"]=e;b.exports=f["default"]},function(b,f,d){function h(c,b,d){if(a.isArray(c)){for(var e=[],f=0,h=c.length;f<h;f++)e.push(b.wrap(c[f],d));return e}return"boolean"==typeof c||"number"==typeof c?c+"":c}function e(a){this.srcFile=a;this.source=[]}f.__esModule=!0;var a=d(5),c=void 0,c=function(a,c,b,d){this.src="";d&&this.add(d)};
c.prototype={add:function(c){a.isArray(c)&&(c=c.join(""));this.src+=c},prepend:function(c){a.isArray(c)&&(c=c.join(""));this.src=c+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}};e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,c){this.source.unshift(this.wrap(a,c))},push:function(a,c){this.source.push(this.wrap(a,c))},merge:function(){var a=this.empty();return this.each(function(c){a.add(["  ",c,"\n"])}),
a},each:function(a){for(var c=0,b=this.source.length;c<b;c++)a(this.source[c])},empty:function(){var a=this.currentLocation||{start:{}};return new c(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=1>=arguments.length||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof c?a:(a=h(a,this,b),new c(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,c,b){return b=this.generateList(b),this.wrap([a,c?"."+c+"(":"(",b,")"])},quotedString:function(a){return'"'+
(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var c=[],b;for(b in a)if(a.hasOwnProperty(b)){var d=h(a[b],this);"undefined"!==d&&c.push([this.quotedString(b),":",d])}a=this.generateList(c);return a.prepend("{"),a.add("}"),a},generateList:function(a){for(var c=this.empty(),b=0,d=a.length;b<d;b++)b&&c.add(","),c.add(h(a[b],this));return c},generateArray:function(a){a=
this.generateList(a);return a.prepend("["),a.add("]"),a}};f["default"]=e;b.exports=f["default"]}])});"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);window.io&&(window.previous_io=window.io);
!function(b){var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self);f.io=b()}(function(){return function f(d,h,e){function a(g,k){if(!h[g]){if(!d[g]){var n="function"==typeof require&&require;if(!k&&n)return n(g,!0);if(c)return c(g,!0);throw Error("Cannot find module '"+g+"'");}n=h[g]={exports:{}};d[g][0].call(n.exports,function(c){var k=d[g][1][c];return a(k?k:c)},n,n.exports,f,d,h,e)}return h[g].exports}for(var c="function"==typeof require&&
require,g=0;g<e.length;g++)a(e[g]);return a}({1:[function(f,d,h){d.exports=f("./lib/")},{"./lib/":2}],2:[function(f,d,h){function e(c,d){"object"==typeof c&&(d=c,c=void 0);d=d||{};var e=a(c),f=e.source,h=e.id,u=e.path,u=k[h]&&k[h].nsps[u]&&u==k[h].nsps[u].nsp;d.forceNew||d["force new connection"]||!1===d.multiplex||u?(m("ignoring socket cache for %s",f),f=g(f,d)):(k[h]||(m("new io instance for %s",f),k[h]=g(f,d)),f=k[h]);return f.socket(e.path)}var a=f("./url"),c=f("socket.io-parser"),g=f("./manager"),
m=f("debug")("socket.io-client");d.exports=h=e;var k=h.managers={};h.protocol=c.protocol;h.connect=e;h.Manager=f("./manager");h.Socket=f("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":44}],3:[function(f,d,h){function e(a,c){if(!(this instanceof e))return new e(a,c);a&&"object"==typeof a&&(c=a,a=void 0);c=c||{};c.path=c.path||"/socket.io";this.nsps={};this.subs=[];this.opts=c;this.reconnection(!1!==c.reconnection);this.reconnectionAttempts(c.reconnectionAttempts||Infinity);
this.reconnectionDelay(c.reconnectionDelay||1E3);this.reconnectionDelayMax(c.reconnectionDelayMax||5E3);this.randomizationFactor(c.randomizationFactor||.5);this.backoff=new r({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==c.timeout?2E4:c.timeout);this.readyState="closed";this.uri=a;this.connected=[];this.encoding=!1;this.packetBuffer=[];this.encoder=new g.Encoder;this.decoder=new g.Decoder;(this.autoConnect=!1!==c.autoConnect)&&
this.open()}f("./url");var a=f("engine.io-client"),c=f("./socket");h=f("component-emitter");var g=f("socket.io-parser"),m=f("./on"),k=f("component-bind");f("object-component");var n=f("debug")("socket.io-client:manager"),q=f("indexof"),r=f("backo2");d.exports=e;e.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};e.prototype.updateSocketIds=function(){for(var a in this.nsps)this.nsps[a].id=this.engine.id};h(e.prototype);
e.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};e.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};e.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;this.backoff&&this.backoff.setMin(a);return this};e.prototype.randomizationFactor=function(a){if(!arguments.length)return this._randomizationFactor;
this._randomizationFactor=a;this.backoff&&this.backoff.setJitter(a);return this};e.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;this.backoff&&this.backoff.setMax(a);return this};e.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};e.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()};e.prototype.open=
e.prototype.connect=function(c){n("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;n("opening %s",this.uri);var d=this.engine=a(this.uri,this.opts),g=this;this.readyState="opening";this.skipReconnect=!1;var k=m(d,"open",function(){g.onopen();c&&c()}),e=m(d,"error",function(a){n("connect_error");g.cleanup();g.readyState="closed";g.emitAll("connect_error",a);if(c){var d=Error("Connection error");d.data=a;c(d)}else g.maybeReconnectOnOpen()});if(!1!==this._timeout){var f=
this._timeout;n("connect attempt will timeout after %d",f);var h=setTimeout(function(){n("connect attempt timed out after %d",f);k.destroy();d.close();d.emit("error","timeout");g.emitAll("connect_timeout",f)},f);this.subs.push({destroy:function(){clearTimeout(h)}})}this.subs.push(k);this.subs.push(e);return this};e.prototype.onopen=function(){n("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(m(a,"data",k(this,"ondata")));this.subs.push(m(this.decoder,
"decoded",k(this,"ondecoded")));this.subs.push(m(a,"error",k(this,"onerror")));this.subs.push(m(a,"close",k(this,"onclose")))};e.prototype.ondata=function(a){this.decoder.add(a)};e.prototype.ondecoded=function(a){this.emit("packet",a)};e.prototype.onerror=function(a){n("error",a);this.emitAll("error",a)};e.prototype.socket=function(a){var d=this.nsps[a];if(!d){d=new c(this,a);this.nsps[a]=d;var g=this;d.on("connect",function(){d.id=g.engine.id;~q(g.connected,d)||g.connected.push(d)})}return d};e.prototype.destroy=
function(a){a=q(this.connected,a);~a&&this.connected.splice(a,1);this.connected.length||this.close()};e.prototype.packet=function(a){n("writing packet %j",a);var c=this;c.encoding?c.packetBuffer.push(a):(c.encoding=!0,this.encoder.encode(a,function(a){for(var d=0;d<a.length;d++)c.engine.write(a[d]);c.encoding=!1;c.processPacketQueue()}))};e.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};e.prototype.cleanup=function(){for(var a;a=
this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};e.prototype.close=e.prototype.disconnect=function(){this.skipReconnect=!0;this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};e.prototype.onclose=function(a){n("close");this.cleanup();this.backoff.reset();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};e.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;
var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)n("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var c=this.backoff.duration();n("will wait %dms before reconnect attempt",c);this.reconnecting=!0;var d=setTimeout(function(){a.skipReconnect||(n("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(c){c?(n("reconnect attempt error"),a.reconnecting=
!1,a.reconnect(),a.emitAll("reconnect_error",c.data)):(n("reconnect success"),a.onreconnect())}))},c);this.subs.push({destroy:function(){clearTimeout(d)}})}};e.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:40,"object-component":41,"socket.io-parser":44}],4:[function(f,
d,h){d.exports=function(d,a,c){d.on(a,c);return{destroy:function(){d.removeListener(a,c)}}}},{}],5:[function(f,d,h){function e(a,c){this.io=a;this.nsp=c;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0}var a=f("socket.io-parser");h=f("component-emitter");var c=f("to-array"),g=f("./on"),m=f("component-bind"),k=f("debug")("socket.io-client:socket"),n=f("has-binary");d.exports=e;var q={connect:1,connect_error:1,
connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},r=h.prototype.emit;h(e.prototype);e.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[g(a,"open",m(this,"onopen")),g(a,"packet",m(this,"onpacket")),g(a,"close",m(this,"onclose"))]}};e.prototype.open=e.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();return this};e.prototype.send=
function(){var a=c(arguments);a.unshift("message");this.emit.apply(this,a);return this};e.prototype.emit=function(d){if(q.hasOwnProperty(d))return r.apply(this,arguments),this;var g=c(arguments),f=a.EVENT;n(g)&&(f=a.BINARY_EVENT);f={type:f,data:g};"function"==typeof g[g.length-1]&&(k("emitting packet with ack id %d",this.ids),this.acks[this.ids]=g.pop(),f.id=this.ids++);this.connected?this.packet(f):this.sendBuffer.push(f);return this};e.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};
e.prototype.onopen=function(){k("transport is open - connecting");"/"!=this.nsp&&this.packet({type:a.CONNECT})};e.prototype.onclose=function(a){k("close (%s)",a);this.connected=!1;this.disconnected=!0;delete this.id;this.emit("disconnect",a)};e.prototype.onpacket=function(c){if(c.nsp==this.nsp)switch(c.type){case a.CONNECT:this.onconnect();break;case a.EVENT:this.onevent(c);break;case a.BINARY_EVENT:this.onevent(c);break;case a.ACK:this.onack(c);break;case a.BINARY_ACK:this.onack(c);break;case a.DISCONNECT:this.ondisconnect();
break;case a.ERROR:this.emit("error",c.data)}};e.prototype.onevent=function(a){var c=a.data||[];k("emitting event %j",c);null!=a.id&&(k("attaching ack callback to event"),c.push(this.ack(a.id)));this.connected?r.apply(this,c):this.receiveBuffer.push(c)};e.prototype.ack=function(d){var g=this,f=!1;return function(){if(!f){f=!0;var e=c(arguments);k("sending ack %j",e);var m=n(e)?a.BINARY_ACK:a.ACK;g.packet({type:m,id:d,data:e})}}};e.prototype.onack=function(a){k("calling ack %s with %j",a.id,a.data);
this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};e.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};e.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)r.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};e.prototype.ondisconnect=function(){k("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};
e.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};e.prototype.close=e.prototype.disconnect=function(){this.connected&&(k("performing disconnect (%s)",this.nsp),this.packet({type:a.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":36,"socket.io-parser":44,"to-array":48}],6:[function(f,d,h){(function(e){var a=
f("parseuri"),c=f("debug")("socket.io-client:url");d.exports=function(d,f){var k=d;f=f||e.location;null==d&&(d=f.protocol+"//"+f.host);"string"==typeof d&&("/"==d.charAt(0)&&(d="/"==d.charAt(1)?f.protocol+d:f.hostname+d),/^(https?|wss?):\/\//.test(d)||(c("protocol-less url %s",d),d="undefined"!=typeof f?f.protocol+"//"+d:"https://"+d),c("parse %s",d),k=a(d));k.port||(/^(http|ws)$/.test(k.protocol)?k.port="80":/^(http|ws)s$/.test(k.protocol)&&(k.port="443"));k.path=k.path||"/";k.id=k.protocol+"://"+
k.host+":"+k.port;k.href=k.protocol+"://"+k.host+(f&&f.port==k.port?"":":"+k.port);return k}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:10,parseuri:42}],7:[function(f,d,h){function e(a){a=a||{};this.ms=a.min||100;this.max=a.max||1E4;this.factor=a.factor||2;this.jitter=0<a.jitter&&1>=a.jitter?a.jitter:0;this.attempts=0}d.exports=e;e.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter)var c=Math.random(),d=Math.floor(c*
this.jitter*a),a=0==(Math.floor(10*c)&1)?a-d:a+d;return Math.min(a,this.max)|0};e.prototype.reset=function(){this.attempts=0};e.prototype.setMin=function(a){this.ms=a};e.prototype.setMax=function(a){this.max=a};e.prototype.setJitter=function(a){this.jitter=a}},{}],8:[function(f,d,h){var e=[].slice;d.exports=function(a,c){"string"==typeof c&&(c=a[c]);if("function"!=typeof c)throw Error("bind() requires a function");var d=e.call(arguments,2);return function(){return c.apply(a,d.concat(e.call(arguments)))}}},
{}],9:[function(f,d,h){function e(a){if(a){for(var c in e.prototype)a[c]=e.prototype[c];return a}}d.exports=e;e.prototype.on=e.prototype.addEventListener=function(a,c){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(c);return this};e.prototype.once=function(a,c){function d(){f.off(a,d);c.apply(this,arguments)}var f=this;this._callbacks=this._callbacks||{};d.fn=c;this.on(a,d);return this};e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=
e.prototype.removeEventListener=function(a,c){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var d=this._callbacks[a];if(!d)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var f,k=0;k<d.length;k++)if(f=d[k],f===c||f.fn===c){d.splice(k,1);break}return this};e.prototype.emit=function(a){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),d=this._callbacks[a];if(d)for(var d=d.slice(0),f=0,k=d.length;f<k;++f)d[f].apply(this,
c);return this};e.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};e.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],10:[function(f,d,h){function e(a){return e.enabled(a)?function(d){d instanceof Error&&(d=d.stack||d.message);var f=new Date,k=f-(e[a]||f);e[a]=f;d=a+" "+d+" +"+e.humanize(k);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}d.exports=e;e.names=[];e.skips=
[];e.enable=function(a){try{localStorage.debug=a}catch(d){}for(var f=(a||"").split(/[\s,]+/),k=f.length,h=0;h<k;h++)a=f[h].replace("*",".*?"),"-"===a[0]?e.skips.push(new RegExp("^"+a.substr(1)+"$")):e.names.push(new RegExp("^"+a+"$"))};e.disable=function(){e.enable("")};e.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};e.enabled=function(a){for(var d=0,f=e.skips.length;d<f;d++)if(e.skips[d].test(a))return!1;d=0;for(f=e.names.length;d<
f;d++)if(e.names[d].test(a))return!0;return!1};try{window.localStorage&&e.enable(localStorage.debug)}catch(a){}},{}],11:[function(f,d,h){d.exports=f("./lib/")},{"./lib/":12}],12:[function(f,d,h){d.exports=f("./socket");d.exports.parser=f("engine.io-parser")},{"./socket":13,"engine.io-parser":25}],13:[function(f,d,h){(function(e){function a(c,d){if(!(this instanceof a))return new a(c,d);d=d||{};c&&"object"==typeof c&&(d=c,c=null);c&&(c=q(c),d.host=c.host,d.secure="https"==c.protocol||"wss"==c.protocol,
d.port=c.port,c.query&&(d.query=c.query));this.secure=null!=d.secure?d.secure:e.location&&"https:"==location.protocol;if(d.host){var g=d.host.split(":");d.hostname=g.shift();g.length?d.port=g.pop():d.port||(d.port=this.secure?"443":"80")}this.agent=d.agent||!1;this.hostname=d.hostname||(e.location?location.hostname:"localhost");this.port=d.port||(e.location&&location.port?location.port:this.secure?443:80);this.query=d.query||{};"string"==typeof this.query&&(this.query=t.decode(this.query));this.upgrade=
!1!==d.upgrade;this.path=(d.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!d.forceJSONP;this.jsonp=!1!==d.jsonp;this.forceBase64=!!d.forceBase64;this.enablesXDR=!!d.enablesXDR;this.timestampParam=d.timestampParam||"t";this.timestampRequests=d.timestampRequests;this.transports=d.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=d.policyPort||843;this.rememberUpgrade=d.rememberUpgrade||!1;this.binaryType=null;this.onlyBinaryUpgrades=
d.onlyBinaryUpgrades;this.pfx=d.pfx||null;this.key=d.key||null;this.passphrase=d.passphrase||null;this.cert=d.cert||null;this.ca=d.ca||null;this.ciphers=d.ciphers||null;this.rejectUnauthorized=d.rejectUnauthorized||null;this.open()}var c=f("./transports"),g=f("component-emitter"),m=f("debug")("engine.io-client:socket"),k=f("indexof"),h=f("engine.io-parser"),q=f("parseuri"),r=f("parsejson"),t=f("parseqs");d.exports=a;a.priorWebsocketSuccess=!1;g(a.prototype);a.protocol=h.protocol;a.Socket=a;a.Transport=
f("./transport");a.transports=f("./transports");a.parser=f("engine.io-parser");a.prototype.createTransport=function(a){m('creating transport "%s"',a);var d=this.query,g={},f;for(f in d)d.hasOwnProperty(f)&&(g[f]=d[f]);g.EIO=h.protocol;g.transport=a;this.id&&(g.sid=this.id);return new c[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:g,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,
timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized})};a.prototype.open=function(){var c;if(this.rememberUpgrade&&a.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))c="websocket";else{if(0==this.transports.length){var d=this;setTimeout(function(){d.emit("error","No transports available")},0);return}c=this.transports[0]}this.readyState=
"opening";try{c=this.createTransport(c)}catch(g){this.transports.shift();this.open();return}c.open();this.setTransport(c)};a.prototype.setTransport=function(a){m("setting transport %s",a.name);var c=this;this.transport&&(m("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){c.onDrain()}).on("packet",function(a){c.onPacket(a)}).on("error",function(a){c.onError(a)}).on("close",function(){c.onClose("transport close")})};
a.prototype.probe=function(c){function d(){if(t.onlyBinaryUpgrades){var g=!this.supportsBinary&&t.transport.supportsBinary;r=r||g}r||(m('probe transport "%s" opened',c),q.send([{type:"ping",data:"probe"}]),q.once("packet",function(d){r||("pong"==d.type&&"probe"==d.data?(m('probe transport "%s" pong',c),t.upgrading=!0,t.emit("upgrading",q),q&&(a.priorWebsocketSuccess="websocket"==q.name,m('pausing current transport "%s"',t.transport.name),t.transport.pause(function(){r||"closed"==t.readyState||(m("changing transport and sending upgrade packet"),
n(),t.setTransport(q),q.send([{type:"upgrade"}]),t.emit("upgrade",q),q=null,t.upgrading=!1,t.flush())}))):(m('probe transport "%s" failed',c),d=Error("probe error"),d.transport=q.name,t.emit("upgradeError",d)))}))}function g(){r||(r=!0,n(),q.close(),q=null)}function f(a){var d=Error("probe error: "+a);d.transport=q.name;g();m('probe transport "%s" failed because of error: %s',c,a);t.emit("upgradeError",d)}function k(){f("transport closed")}function e(){f("socket closed")}function h(a){q&&a.name!=
q.name&&(m('"%s" works - aborting "%s"',a.name,q.name),g())}function n(){q.removeListener("open",d);q.removeListener("error",f);q.removeListener("close",k);t.removeListener("close",e);t.removeListener("upgrading",h)}m('probing transport "%s"',c);var q=this.createTransport(c,{probe:1}),r=!1,t=this;a.priorWebsocketSuccess=!1;q.once("open",d);q.once("error",f);q.once("close",k);this.once("close",e);this.once("upgrading",h);q.open()};a.prototype.onOpen=function(){m("socket open");this.readyState="open";
a.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){m("starting upgrade probes");for(var c=0,d=this.upgrades.length;c<d;c++)this.probe(this.upgrades[c])}};a.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(m('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case "open":this.onHandshake(r(a.data));break;
case "pong":this.setPing();break;case "error":var c=Error("server error");c.code=a.data;this.emit("error",c);break;case "message":this.emit("data",a.data),this.emit("message",a.data)}else m('packet received with socket readyState "%s"',this.readyState)};a.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&
(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};a.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var c=this;c.pingTimeoutTimer=setTimeout(function(){if("closed"!=c.readyState)c.onClose("ping timeout")},a||c.pingInterval+c.pingTimeout)};a.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){m("writing ping packet - expecting pong within %sms",a.pingTimeout);
a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};a.prototype.ping=function(){this.sendPacket("ping")};a.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};a.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&
this.writeBuffer.length&&(m("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};a.prototype.write=a.prototype.send=function(a,c){this.sendPacket("message",a,c);return this};a.prototype.sendPacket=function(a,c,d){"closing"!=this.readyState&&"closed"!=this.readyState&&(a={type:a,data:c},this.emit("packetCreate",a),this.writeBuffer.push(a),this.callbackBuffer.push(d),this.flush())};a.prototype.close=
function(){if("opening"==this.readyState||"open"==this.readyState){var a=function(){g.once("upgrade",c);g.once("upgradeError",c)},c=function(){g.removeListener("upgrade",c);g.removeListener("upgradeError",c);d()},d=function(){g.onClose("forced close");m("socket closing - telling transport to close");g.transport.close()};this.readyState="closing";var g=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?a():d()});else this.upgrading?a():d()}return this};a.prototype.onError=
function(c){m("socket error %j",c);a.priorWebsocketSuccess=!1;this.emit("error",c);this.onClose("transport error",c)};a.prototype.onClose=function(a,c){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){m('socket close with reason: "%s"',a);var d=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);setTimeout(function(){d.writeBuffer=[];d.callbackBuffer=[];d.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();
this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,c)}};a.prototype.filterUpgrades=function(a){for(var c=[],d=0,g=a.length;d<g;d++)~k(this.transports,a[d])&&c.push(a[d]);return c}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":14,"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:40,parsejson:32,parseqs:33,parseuri:34}],14:[function(f,d,h){function e(a){this.path=a.path;this.hostname=
a.hostname;this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=a.timestampParam;this.timestampRequests=a.timestampRequests;this.readyState="";this.agent=a.agent||!1;this.socket=a.socket;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized}var a=f("engine.io-parser");f=f("component-emitter");d.exports=e;f(e.prototype);e.timestamps=0;e.prototype.onError=
function(a,d){var f=Error(a);f.type="TransportError";f.description=d;this.emit("error",f);return this};e.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};e.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};e.prototype.send=function(a){if("open"==this.readyState)this.write(a);else throw Error("Transport not open");};e.prototype.onOpen=function(){this.readyState=
"open";this.writable=!0;this.emit("open")};e.prototype.onData=function(c){c=a.decodePacket(c,this.socket.binaryType);this.onPacket(c)};e.prototype.onPacket=function(a){this.emit("packet",a)};e.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(f,d,h){(function(d){var a=f("xmlhttprequest"),c=f("./polling-xhr"),g=f("./polling-jsonp"),m=f("./websocket");h.polling=function(f){var m=!1,h=!1,r=!1!==f.jsonp;d.location&&(h=
"https:"==location.protocol,(m=location.port)||(m=h?443:80),m=f.hostname!=location.hostname||m!=f.port,h=f.secure!=h);f.xdomain=m;f.xscheme=h;if("open"in new a(f)&&!f.forceJSONP)return new c(f);if(!r)throw Error("JSONP disabled");return new g(f)};h.websocket=m}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(f,d,h){(function(e){function a(){}function c(c){g.call(this,c);this.query=
this.query||{};q||(e.___eio||(e.___eio=[]),q=e.___eio);this.index=q.length;var d=this;q.push(function(a){d.onData(a)});this.query.j=this.index;e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){d.script&&(d.script.onerror=a)},!1)}var g=f("./polling"),m=f("component-inherit");d.exports=c;var k=/\n/g,h=/\\n/g,q;m(c,g);c.prototype.supportsBinary=!1;c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),
this.iframe=this.form=null);g.prototype.doClose.call(this)};c.prototype.doPoll=function(){var a=this,c=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);c.async=!0;c.src=this.uri();c.onerror=function(c){a.onError("jsonp poll error",c)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d);this.script=c;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");
document.body.appendChild(a);document.body.removeChild(a)},100)};c.prototype.doWrite=function(a,c){function d(){g();c()}function g(){if(f.iframe)try{f.form.removeChild(f.iframe)}catch(a){f.onError("jsonp polling iframe removal error",a)}try{z=document.createElement('\x3ciframe src\x3d"javascript:0" name\x3d"'+f.iframeId+'"\x3e')}catch(c){z=document.createElement("iframe"),z.name=f.iframeId,z.src="javascript:0"}z.id=f.iframeId;f.form.appendChild(z);f.iframe=z}var f=this;if(!this.form){var e=document.createElement("form"),
m=document.createElement("textarea"),q=this.iframeId="eio_iframe_"+this.index,z;e.className="socketio";e.style.position="absolute";e.style.top="-1000px";e.style.left="-1000px";e.target=q;e.method="POST";e.setAttribute("accept-charset","utf-8");m.name="d";e.appendChild(m);document.body.appendChild(e);this.form=e;this.area=m}this.form.action=this.uri();g();a=a.replace(h,"\\\n");this.area.value=a.replace(k,"\\n");try{this.form.submit()}catch(F){}this.iframe.attachEvent?this.iframe.onreadystatechange=
function(){"complete"==f.iframe.readyState&&d()}:this.iframe.onload=d}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":18,"component-inherit":21}],17:[function(f,d,h){(function(e){function a(){}function c(a){h.call(this,a);if(e.location){var c="https:"==location.protocol,d=location.port;d||(d=c?443:80);this.xd=a.hostname!=e.location.hostname||d!=a.port;this.xs=a.secure!=c}}function g(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=
!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.create()}function m(){for(var a in g.requests)g.requests.hasOwnProperty(a)&&g.requests[a].abort()}var k=f("xmlhttprequest"),h=f("./polling"),q=f("component-emitter"),
r=f("component-inherit"),t=f("debug")("engine.io-client:polling-xhr");d.exports=c;d.exports.Request=g;r(c,h);c.prototype.supportsBinary=!0;c.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;return new g(a)};c.prototype.doWrite=
function(a,c){var d=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),g=this;d.on("success",c);d.on("error",function(a){g.onError("xhr post error",a)});this.sendXhr=d};c.prototype.doPoll=function(){t("xhr poll");var a=this.request(),c=this;a.on("data",function(a){c.onData(a)});a.on("error",function(a){c.onError("xhr poll error",a)});this.pollXhr=a};q(g.prototype);g.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};
a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;var c=this.xhr=new k(a),d=this;try{t("xhr open %s: %s",this.method,this.uri);c.open(this.method,this.uri,this.async);this.supportsBinary&&(c.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?c.setRequestHeader("Content-type","application/octet-stream"):c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8")}catch(f){}"withCredentials"in
c&&(c.withCredentials=!0);this.hasXDR()?(c.onload=function(){d.onLoad()},c.onerror=function(){d.onError(c.responseText)}):c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status||1223==c.status)d.onLoad();else setTimeout(function(){d.onError(c.status)},0)};t("xhr data %s",this.data);c.send(this.data)}catch(m){setTimeout(function(){d.onError(m)},0);return}e.document&&(this.index=g.requestsCount++,g.requests[this.index]=this)};g.prototype.onSuccess=function(){this.emit("success");this.cleanup()};
g.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};g.prototype.onError=function(a){this.emit("error",a);this.cleanup(!0)};g.prototype.cleanup=function(c){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=a;if(c)try{this.xhr.abort()}catch(d){}e.document&&delete g.requests[this.index];this.xhr=null}};g.prototype.onLoad=function(){var a;try{var c;try{c=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(d){}a=
"application/octet-stream"===c?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(g){this.onError(g)}if(null!=a)this.onData(a)};g.prototype.hasXDR=function(){return"undefined"!==typeof e.XDomainRequest&&!this.xs&&this.enablesXDR};g.prototype.abort=function(){this.cleanup()};e.document&&(g.requestsCount=0,g.requests={},e.attachEvent?e.attachEvent("onunload",m):e.addEventListener&&e.addEventListener("beforeunload",m,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(f,d,h){function e(c){var d=c&&c.forceBase64;if(!k||d)this.supportsBinary=!1;a.call(this,c)}var a=f("../transport"),c=f("parseqs"),g=f("engine.io-parser");h=f("component-inherit");var m=f("debug")("engine.io-client:polling");d.exports=e;var k=null!=(new (f("xmlhttprequest"))({xdomain:!1})).responseType;h(e,a);e.prototype.name="polling";e.prototype.doOpen=function(){this.poll()};e.prototype.pause=
function(a){function c(){m("paused");d.readyState="paused";a()}var d=this;this.readyState="pausing";if(this.polling||!this.writable){var g=0;this.polling&&(m("we are currently polling - waiting to pause"),g++,this.once("pollComplete",function(){m("pre-pause polling complete");--g||c()}));this.writable||(m("we are currently writing - waiting to pause"),g++,this.once("drain",function(){m("pre-pause writing complete");--g||c()}))}else c()};e.prototype.poll=function(){m("polling");this.polling=!0;this.doPoll();
this.emit("poll")};e.prototype.onData=function(a){var c=this;m("polling got data %s",a);g.decodePayload(a,this.socket.binaryType,function(a,d,g){if("opening"==c.readyState)c.onOpen();if("close"==a.type)return c.onClose(),!1;c.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():m('ignoring poll - transport state "%s"',this.readyState))};e.prototype.doClose=function(){function a(){m("writing close packet");c.write([{type:"close"}])}
var c=this;"open"==this.readyState?(m("transport open - closing"),a()):(m("transport not open - deferring close"),this.once("open",a))};e.prototype.write=function(a){var c=this;this.writable=!1;var d=function(){c.writable=!0;c.emit("drain")},c=this;g.encodePayload(a,this.supportsBinary,function(a){c.doWrite(a,d)})};e.prototype.uri=function(){var d=this.query||{},g=this.secure?"https":"http",f="";!1!==this.timestampRequests&&(d[this.timestampParam]=+new Date+"-"+a.timestamps++);this.supportsBinary||
d.sid||(d.b64=1);d=c.encode(d);this.port&&("https"==g&&443!=this.port||"http"==g&&80!=this.port)&&(f=":"+this.port);d.length&&(d="?"+d);return g+"://"+this.hostname+f+this.path+d}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,xmlhttprequest:20}],19:[function(f,d,h){function e(c){c&&c.forceBase64&&(this.supportsBinary=!1);a.call(this,c)}var a=f("../transport"),c=f("engine.io-parser"),g=f("parseqs");h=f("component-inherit");var m=f("debug")("engine.io-client:websocket"),
k=f("ws");d.exports=e;h(e,a);e.prototype.name="websocket";e.prototype.supportsBinary=!0;e.prototype.doOpen=function(){if(this.check()){var a=this.uri(),c={agent:this.agent};c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;this.ws=new k(a,void 0,c);void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};e.prototype.addEventListeners=function(){var a=
this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=function(c){a.onData(c.data)};this.ws.onerror=function(c){a.onError("websocket error",c)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(e.prototype.onData=function(c){var d=this;setTimeout(function(){a.prototype.onData.call(d,c)},0)});e.prototype.write=function(a){var d=this;this.writable=!1;for(var g=0,f=a.length;g<f;g++)c.encodePacket(a[g],this.supportsBinary,function(a){try{d.ws.send(a)}catch(c){m("websocket closed before onclose event")}});
setTimeout(function(){d.writable=!0;d.emit("drain")},0)};e.prototype.onClose=function(){a.prototype.onClose.call(this)};e.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};e.prototype.uri=function(){var a=this.query||{},c=this.secure?"wss":"ws",d="";this.port&&("wss"==c&&443!=this.port||"ws"==c&&80!=this.port)&&(d=":"+this.port);this.timestampRequests&&(a[this.timestampParam]=+new Date);this.supportsBinary||(a.b64=1);a=g.encode(a);a.length&&(a="?"+a);return c+"://"+this.hostname+
d+this.path+a};e.prototype.check=function(){return!!k&&!("__initialize"in k&&this.name===e.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,ws:35}],20:[function(f,d,h){var e=f("has-cors");d.exports=function(a){var c=a.xdomain,d=a.xscheme;a=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!c||e))return new XMLHttpRequest}catch(f){}try{if("undefined"!=typeof XDomainRequest&&!d&&a)return new XDomainRequest}catch(k){}if(!c)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(h){}}},
{"has-cors":38}],21:[function(f,d,h){d.exports=function(d,a){var c=function(){};c.prototype=a.prototype;d.prototype=new c;d.prototype.constructor=d}},{}],22:[function(f,d,h){function e(){var a;try{a=localStorage.debug}catch(c){}return a}h=d.exports=f("./debug");h.log=function(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)};h.formatArgs=function(){var a=arguments,c=this.useColors;a[0]=(c?"%c":"")+this.namespace+(c?" %c":
" ")+a[0]+(c?"%c ":" ")+"+"+h.humanize(this.diff);if(!c)return a;var c="color: "+this.color,a=[a[0],c,"color: inherit"].concat(Array.prototype.slice.call(a,1)),d=0,f=0;a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(d++,"%c"===a&&(f=d))});a.splice(f,0,c);return a};h.save=function(a){try{null==a?localStorage.removeItem("debug"):localStorage.debug=a}catch(c){}};h.load=e;h.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&
console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};h.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");h.formatters.j=function(a){return JSON.stringify(a)};h.enable(e())},{"./debug":23}],23:[function(f,d,h){h=d.exports=function(c){function d(){}function f(){var c=+new Date;f.diff=c-(a||c);f.prev=a;a=f.curr=c;null==f.useColors&&(f.useColors=h.useColors());null==f.color&&f.useColors&&(f.color=h.colors[e++%h.colors.length]);
var d=Array.prototype.slice.call(arguments);d[0]=h.coerce(d[0]);"string"!==typeof d[0]&&(d=["%o"].concat(d));var g=0;d[0]=d[0].replace(/%([a-z%])/g,function(a,c){if("%%"===a)return a;g++;var e=h.formatters[c];"function"===typeof e&&(a=e.call(f,d[g]),d.splice(g,1),g--);return a});"function"===typeof h.formatArgs&&(d=h.formatArgs.apply(f,d));(f.log||h.log||console.log.bind(console)).apply(f,d)}d.enabled=!1;f.enabled=!0;var k=h.enabled(c)?f:d;k.namespace=c;return k};h.coerce=function(a){return a instanceof
Error?a.stack||a.message:a};h.disable=function(){h.enable("")};h.enable=function(a){h.save(a);for(var d=(a||"").split(/[\s,]+/),f=d.length,e=0;e<f;e++)d[e]&&(a=d[e].replace(/\*/g,".*?"),"-"===a[0]?h.skips.push(new RegExp("^"+a.substr(1)+"$")):h.names.push(new RegExp("^"+a+"$")))};h.enabled=function(a){var d,f;d=0;for(f=h.skips.length;d<f;d++)if(h.skips[d].test(a))return!1;d=0;for(f=h.names.length;d<f;d++)if(h.names[d].test(a))return!0;return!1};h.humanize=f("ms");h.names=[];h.skips=[];h.formatters=
{};var e=0,a},{ms:24}],24:[function(f,d,h){function e(a){if(a=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(a)){var d=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "y":return 315576E5*d;case "days":case "day":case "d":return 864E5*d;case "hours":case "hour":case "h":return 36E5*d;case "minutes":case "minute":case "m":return 6E4*d;case "seconds":case "second":case "s":return 1E3*d;case "ms":return d}}}function a(a,d,f){if(!(a<
d))return a<1.5*d?Math.floor(a/d)+" "+f:Math.ceil(a/d)+" "+f+"s"}d.exports=function(c,d){d=d||{};return"string"==typeof c?e(c):d["long"]?a(c,864E5,"day")||a(c,36E5,"hour")||a(c,6E4,"minute")||a(c,1E3,"second")||c+" ms":864E5<=c?Math.round(c/864E5)+"d":36E5<=c?Math.round(c/36E5)+"h":6E4<=c?Math.round(c/6E4)+"m":1E3<=c?Math.round(c/1E3)+"s":c+"ms"}},{}],25:[function(f,d,h){(function(d){function a(a,c,d){if(!c)return h.encodeBase64Packet(a,d);var g=new FileReader;g.onload=function(){a.data=g.result;
h.encodePacket(a,c,!0,d)};return g.readAsArrayBuffer(a.data)}function c(a,c,d){var g=Array(a.length);d=q(a.length,d);for(var f=function(a,d,f){c(d,function(c,d){g[a]=d;f(c,g)})},e=0;e<a.length;e++)f(e,a[e],d)}var g=f("./keys"),m=f("has-binary"),k=f("arraybuffer.slice"),n=f("base64-arraybuffer"),q=f("after"),r=f("utf8"),t=navigator.userAgent.match(/Android/i),s=/PhantomJS/i.test(navigator.userAgent),u=t||s;h.protocol=3;var v=h.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},x=g(v),
w={type:"error",data:"parser error"},y=f("blob");h.encodePacket=function(c,g,f,k){"function"==typeof g&&(k=g,g=!1);"function"==typeof f&&(k=f,f=null);var m=void 0===c.data?void 0:c.data.buffer||c.data;if(d.ArrayBuffer&&m instanceof ArrayBuffer){if(g){f=c.data;g=new Uint8Array(f);f=new Uint8Array(1+f.byteLength);f[0]=v[c.type];for(c=0;c<g.length;c++)f[c+1]=g[c];c=k(f.buffer)}else c=h.encodeBase64Packet(c,k);return c}if(y&&m instanceof d.Blob)return g?u?c=a(c,g,k):(g=new Uint8Array(1),g[0]=v[c.type],
c=new y([g.buffer,c.data]),c=k(c)):c=h.encodeBase64Packet(c,k),c;if(m&&m.base64)return k("b"+h.packets[c.type]+c.data.data);g=v[c.type];void 0!==c.data&&(g+=f?r.encode(String(c.data)):String(c.data));return k(""+g)};h.encodeBase64Packet=function(a,c){var g="b"+h.packets[a.type];if(y&&a.data instanceof y){var f=new FileReader;f.onload=function(){var a=f.result.split(",")[1];c(g+a)};return f.readAsDataURL(a.data)}var k;try{k=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(m){k=new Uint8Array(a.data);
for(var n=Array(k.length),q=0;q<k.length;q++)n[q]=k[q];k=String.fromCharCode.apply(null,n)}g+=d.btoa(k);return c(g)};h.decodePacket=function(a,c,d){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return h.decodeBase64Packet(a.substr(1),c);if(d)try{a=r.decode(a)}catch(g){return w}d=a.charAt(0);return Number(d)==d&&x[d]?1<a.length?{type:x[d],data:a.substring(1)}:{type:x[d]}:w}d=(new Uint8Array(a))[0];a=k(a,1);y&&"blob"===c&&(a=new y([a]));return{type:x[d],data:a}};h.decodeBase64Packet=function(a,
c){var g=x[a.charAt(0)];if(!d.ArrayBuffer)return{type:g,data:{base64:!0,data:a.substr(1)}};var f=n.decode(a.substr(1));"blob"===c&&y&&(f=new y([f]));return{type:g,data:f}};h.encodePayload=function(a,d,g){"function"==typeof d&&(g=d,d=null);var f=m(a);if(d&&f)return y&&!u?h.encodePayloadAsBlob(a,g):h.encodePayloadAsArrayBuffer(a,g);if(!a.length)return g("0:");c(a,function(a,c){h.encodePacket(a,f?d:!1,!0,function(a){c(null,a.length+":"+a)})},function(a,c){return g(c.join(""))})};h.decodePayload=function(a,
c,d){if("string"!=typeof a)return h.decodePayloadAsBinary(a,c,d);"function"===typeof c&&(d=c,c=null);var g;if(""==a)return d(w,0,1);g="";for(var f,e,k=0,m=a.length;k<m;k++)if(e=a.charAt(k),":"!=e)g+=e;else{if(""==g||g!=(f=Number(g)))return d(w,0,1);e=a.substr(k+1,f);if(g!=e.length)return d(w,0,1);if(e.length){g=h.decodePacket(e,c,!0);if(w.type==g.type&&w.data==g.data)return d(w,0,1);if(!1===d(g,k+f,m))return}k+=f;g=""}if(""!=g)return d(w,0,1)};h.encodePayloadAsArrayBuffer=function(a,d){if(!a.length)return d(new ArrayBuffer(0));
c(a,function(a,c){h.encodePacket(a,!0,!0,function(a){return c(null,a)})},function(a,c){var g=c.reduce(function(a,c){var d;d="string"===typeof c?c.length:c.byteLength;return a+d.toString().length+d+2},0),f=new Uint8Array(g),e=0;c.forEach(function(a){var c="string"===typeof a,d=a;if(c){for(var d=new Uint8Array(a.length),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);d=d.buffer}c?f[e++]=0:f[e++]=1;a=d.byteLength.toString();for(g=0;g<a.length;g++)f[e++]=parseInt(a[g]);f[e++]=255;d=new Uint8Array(d);for(g=0;g<
d.length;g++)f[e++]=d[g]});return d(f.buffer)})};h.encodePayloadAsBlob=function(a,d){c(a,function(a,c){h.encodePacket(a,!0,!0,function(a){var d=new Uint8Array(1);d[0]=1;if("string"===typeof a){for(var g=new Uint8Array(a.length),f=0;f<a.length;f++)g[f]=a.charCodeAt(f);a=g.buffer;d[0]=0}for(var g=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),e=new Uint8Array(g.length+1),f=0;f<g.length;f++)e[f]=parseInt(g[f]);e[g.length]=255;y&&(a=new y([d.buffer,e.buffer,a]),c(null,a))})},function(a,c){return d(new y(c))})};
h.decodePayloadAsBinary=function(a,c,d){"function"===typeof c&&(d=c,c=null);for(var g=[],f=!1;0<a.byteLength;){for(var e=new Uint8Array(a),m=0===e[0],n="",q=1;255!=e[q];q++){if(310<n.length){f=!0;break}n+=e[q]}if(f)return d(w,0,1);a=k(a,2+n.length);n=parseInt(n);e=k(a,0,n);if(m)try{e=String.fromCharCode.apply(null,new Uint8Array(e))}catch(u){for(m=new Uint8Array(e),e="",q=0;q<m.length;q++)e+=String.fromCharCode(m[q])}g.push(e);a=k(a,n)}var s=g.length;g.forEach(function(a,g){d(h.decodePacket(a,c,!0),
g,s)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,blob:30,"has-binary":36,utf8:31}],26:[function(f,d,h){d.exports=Object.keys||function(d){var a=[],c=Object.prototype.hasOwnProperty,g;for(g in d)c.call(d,g)&&a.push(g);return a}},{}],27:[function(f,d,h){function e(){}d.exports=function(a,c,d){function f(a,e){if(0>=f.count)throw Error("after called too many times");--f.count;a?(k=!0,c(a),c=
d):0!==f.count||k||c(null,e)}var k=!1;d=d||e;f.count=a;return 0===a?c():f}},{}],28:[function(f,d,h){d.exports=function(d,a,c){var g=d.byteLength;a=a||0;c=c||g;if(d.slice)return d.slice(a,c);0>a&&(a+=g);0>c&&(c+=g);c>g&&(c=g);if(a>=g||a>=c||0===g)return new ArrayBuffer(0);d=new Uint8Array(d);for(var g=new Uint8Array(c-a),f=0;a<c;a++,f++)g[f]=d[a];return g.buffer}},{}],29:[function(f,d,h){(function(d){h.encode=function(a){a=new Uint8Array(a);var c,g=a.length,f="";for(c=0;c<g;c+=3)f+=d[a[c]>>2],f+=d[(a[c]&
3)<<4|a[c+1]>>4],f+=d[(a[c+1]&15)<<2|a[c+2]>>6],f+=d[a[c+2]&63];2===g%3?f=f.substring(0,f.length-1)+"\x3d":1===g%3&&(f=f.substring(0,f.length-2)+"\x3d\x3d");return f};h.decode=function(a){var c=.75*a.length,g=a.length,f=0,k,h,q,r;"\x3d"===a[a.length-1]&&(c--,"\x3d"===a[a.length-2]&&c--);for(var t=new ArrayBuffer(c),s=new Uint8Array(t),c=0;c<g;c+=4)k=d.indexOf(a[c]),h=d.indexOf(a[c+1]),q=d.indexOf(a[c+2]),r=d.indexOf(a[c+3]),s[f++]=k<<2|h>>4,s[f++]=(h&15)<<4|q>>2,s[f++]=(q&3)<<6|r&63;return t}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},
{}],30:[function(f,d,h){(function(f){function a(a){for(var c=0;c<a.length;c++){var d=a[c];if(d.buffer instanceof ArrayBuffer){var g=d.buffer;if(d.byteLength!==g.byteLength){var f=new Uint8Array(d.byteLength);f.set(new Uint8Array(g,d.byteOffset,d.byteLength));g=f.buffer}a[c]=g}}}function c(c,d){d=d||{};var g=new m;a(c);for(var f=0;f<c.length;f++)g.append(c[f]);return d.type?g.getBlob(d.type):g.getBlob()}function g(c,d){a(c);return new Blob(c,d||{})}var m=f.BlobBuilder||f.WebKitBlobBuilder||f.MSBlobBuilder||
f.MozBlobBuilder,k;try{k=2===(new Blob(["hi"])).size}catch(h){k=!1}var q;if(q=k)try{q=2===(new Blob([new Uint8Array([1,2])])).size}catch(r){q=!1}var t=m&&m.prototype.append&&m.prototype.getBlob;f=k?q?f.Blob:g:t?c:void 0;d.exports=f}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],31:[function(f,d,h){(function(f){(function(a){function c(a){for(var c=[],d=0,g=a.length,f,k;d<g;)f=a.charCodeAt(d++),55296<=f&&56319>=f&&d<g?(k=a.charCodeAt(d++),56320==(k&64512)?c.push(((f&
1023)<<10)+(k&1023)+65536):(c.push(f),d--)):c.push(f);return c}function g(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");}function m(){if(v>=u)throw Error("Invalid byte index");var a=s[v]&255;v++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function k(){var a,c,d,f;if(v>u)throw Error("Invalid byte index");if(v==u)return!1;a=s[v]&255;v++;if(0==(a&128))return a;if(192==(a&224)){c=m();a=(a&31)<<6|c;if(128<=a)return a;
throw Error("Invalid continuation byte");}if(224==(a&240)){c=m();d=m();a=(a&15)<<12|c<<6|d;if(2048<=a)return g(a),a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(c=m(),d=m(),f=m(),a=(a&15)<<18|c<<12|d<<6|f,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var n="object"==typeof h&&h,q="object"==typeof d&&d&&d.exports==n&&d,r="object"==typeof f&&f;if(r.global===r||r.window===r)a=r;var t=String.fromCharCode,s,u,v,r={version:"2.0.0",encode:function(a){a=c(a);for(var d=
a.length,f=-1,k,e="";++f<d;){k=a[f];if(0==(k&4294967168))k=t(k);else{var m="";0==(k&4294965248)?m=t(k>>6&31|192):0==(k&4294901760)?(g(k),m=t(k>>12&15|224),m+=t(k>>6&63|128)):0==(k&4292870144)&&(m=t(k>>18&7|240),m+=t(k>>12&63|128),m+=t(k>>6&63|128));k=m+=t(k&63|128)}e+=k}return e},decode:function(a){s=c(a);u=s.length;v=0;a=[];for(var d;!1!==(d=k());)a.push(d);d=a.length;for(var g=-1,f,e="";++g<d;)f=a[g],65535<f&&(f-=65536,e+=t(f>>>10&1023|55296),f=56320|f&1023),e+=t(f);return e}};if(n&&!n.nodeType)if(q)q.exports=
r;else{a={}.hasOwnProperty;for(var x in r)a.call(r,x)&&(n[x]=r[x])}else a.utf8=r})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],32:[function(f,d,h){(function(f){var a=/^[\],:{}\s]*$/,c=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,g=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,m=/(?:^|:|,)(?:\s*\[)+/g,k=/^\s+/,h=/\s+$/;d.exports=function(d){if("string"!=typeof d||!d)return null;d=d.replace(k,"").replace(h,"");if(f.JSON&&JSON.parse)return JSON.parse(d);
if(a.test(d.replace(c,"@").replace(g,"]").replace(m,"")))return(new Function("return "+d))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],33:[function(f,d,h){h.encode=function(d){var a="",c;for(c in d)d.hasOwnProperty(c)&&(a.length&&(a+="\x26"),a+=encodeURIComponent(c)+"\x3d"+encodeURIComponent(d[c]));return a};h.decode=function(d){var a={};d=d.split("\x26");for(var c=0,g=d.length;c<g;c++){var f=d[c].split("\x3d");a[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return a}},
{}],34:[function(f,d,h){var e=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");d.exports=function(c){var d=c,f=c.indexOf("["),k=c.indexOf("]");-1!=f&&-1!=k&&(c=c.substring(0,f)+c.substring(f,k).replace(/:/g,
";")+c.substring(k,c.length));c=e.exec(c||"");for(var h={},q=14;q--;)h[a[q]]=c[q]||"";-1!=f&&-1!=k&&(h.source=d,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0);return h}},{}],35:[function(f,d,h){function e(c,d,f){return d?new a(c,d):new a(c)}f=function(){return this}();var a=f.WebSocket||f.MozWebSocket;d.exports=a?e:null;a&&(e.prototype=a.prototype)},{}],36:[function(f,d,h){(function(e){var a=f("isarray");
d.exports=function(c){function d(c){if(!c)return!1;if(e.Buffer&&e.Buffer.isBuffer(c)||e.ArrayBuffer&&c instanceof ArrayBuffer||e.Blob&&c instanceof Blob||e.File&&c instanceof File)return!0;if(a(c))for(var f=0;f<c.length;f++){if(d(c[f]))return!0}else if(c&&"object"==typeof c)for(f in c.toJSON&&(c=c.toJSON()),c)if(Object.prototype.hasOwnProperty.call(c,f)&&d(c[f]))return!0;return!1}return d(c)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:37}],37:[function(f,
d,h){d.exports=Array.isArray||function(d){return"[object Array]"==Object.prototype.toString.call(d)}},{}],38:[function(f,d,h){f=f("global");try{d.exports="XMLHttpRequest"in f&&"withCredentials"in new f.XMLHttpRequest}catch(e){d.exports=!1}},{global:39}],39:[function(f,d,h){d.exports=function(){return this}()},{}],40:[function(f,d,h){var e=[].indexOf;d.exports=function(a,c){if(e)return a.indexOf(c);for(var d=0;d<a.length;++d)if(a[d]===c)return d;return-1}},{}],41:[function(f,d,h){var e=Object.prototype.hasOwnProperty;
h.keys=Object.keys||function(a){var c=[],d;for(d in a)e.call(a,d)&&c.push(d);return c};h.values=function(a){var c=[],d;for(d in a)e.call(a,d)&&c.push(a[d]);return c};h.merge=function(a,c){for(var d in c)e.call(c,d)&&(a[d]=c[d]);return a};h.length=function(a){return h.keys(a).length};h.isEmpty=function(a){return 0==h.length(a)}},{}],42:[function(f,d,h){var e=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");d.exports=function(c){c=e.exec(c||"");for(var d={},f=14;f--;)d[a[f]]=c[f]||"";return d}},{}],43:[function(f,d,h){(function(d){var a=f("isarray"),c=f("./is-buffer");h.deconstructPacket=function(d){function f(d){if(!d)return d;if(c(d)){var g={_placeholder:!0,num:k.length};k.push(d);return g}if(a(d)){for(var g=Array(d.length),e=0;e<d.length;e++)g[e]=f(d[e]);return g}if("object"==typeof d&&
!(d instanceof Date)){g={};for(e in d)g[e]=f(d[e]);return g}return d}var k=[];d.data=f(d.data);d.attachments=k.length;return{packet:d,buffers:k}};h.reconstructPacket=function(c,d){function f(c){if(c&&c._placeholder)return d[c.num];if(a(c))for(var g=0;g<c.length;g++)c[g]=f(c[g]);else if(c&&"object"==typeof c)for(g in c)c[g]=f(c[g]);return c}c.data=f(c.data);c.attachments=void 0;return c};h.removeBlobs=function(g,f){function k(g,t,s){if(!g)return g;if(d.Blob&&g instanceof Blob||d.File&&g instanceof
File){h++;var u=new FileReader;u.onload=function(){s?s[t]=this.result:q=this.result;--h||f(q)};u.readAsArrayBuffer(g)}else if(a(g))for(u=0;u<g.length;u++)k(g[u],u,g);else if(g&&"object"==typeof g&&!c(g))for(u in g)k(g[u],u,g)}var h=0,q=g;k(q);h||f(q)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./is-buffer":45,isarray:46}],44:[function(f,d,h){function e(){}function a(a){var c,d=!1;c=""+a.type;if(h.BINARY_EVENT==a.type||h.BINARY_ACK==a.type)c+=a.attachments,
c+="-";a.nsp&&"/"!=a.nsp&&(d=!0,c+=a.nsp);null!=a.id&&(d&&(c+=",",d=!1),c+=a.id);null!=a.data&&(d&&(c+=","),c+=n.stringify(a.data));k("encoded %j as %s",a,c);return c}function c(c,d){q.removeBlobs(c,function(c){var g=q.deconstructPacket(c);c=a(g.packet);g=g.buffers;g.unshift(c);d(g)})}function g(){this.reconstructor=null}function m(a){this.reconPack=a;this.buffers=[]}var k=f("debug")("socket.io-parser"),n=f("json3");f("isarray");d=f("component-emitter");var q=f("./binary"),r=f("./is-buffer");h.protocol=
4;h.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");h.CONNECT=0;h.DISCONNECT=1;h.EVENT=2;h.ACK=3;h.ERROR=4;h.BINARY_EVENT=5;h.BINARY_ACK=6;h.Encoder=e;h.Decoder=g;e.prototype.encode=function(d,g){k("encoding packet %j",d);if(h.BINARY_EVENT==d.type||h.BINARY_ACK==d.type)c(d,g);else{var f=a(d);g([f])}};d(g.prototype);g.prototype.add=function(a){if("string"==typeof a){a:{var c={},d=0;c.type=Number(a.charAt(0));if(null==h.types[c.type])a={type:h.ERROR,data:"parser error"};
else{if(h.BINARY_EVENT==c.type||h.BINARY_ACK==c.type){for(var g="";"-"!=a.charAt(++d)&&(g+=a.charAt(d),d!=a.length););if(g!=Number(g)||"-"!=a.charAt(d))throw Error("Illegal attachments");c.attachments=Number(g)}if("/"==a.charAt(d+1))for(c.nsp="";++d;){g=a.charAt(d);if(","==g)break;c.nsp+=g;if(d==a.length)break}else c.nsp="/";g=a.charAt(d+1);if(""!==g&&Number(g)==g){for(c.id="";++d;){g=a.charAt(d);if(null==g||Number(g)!=g){--d;break}c.id+=a.charAt(d);if(d==a.length)break}c.id=Number(c.id)}if(a.charAt(++d))try{c.data=
n.parse(a.substr(d))}catch(f){a={type:h.ERROR,data:"parser error"};break a}k("decoded %s as %j",a,c);a=c}}h.BINARY_EVENT==a.type||h.BINARY_ACK==a.type?(this.reconstructor=new m(a),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else if(r(a)||a.base64)if(this.reconstructor){if(a=this.reconstructor.takeBinaryData(a))this.reconstructor=null,this.emit("decoded",a)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+
a);};g.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};m.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=q.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};m.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":43,"./is-buffer":45,"component-emitter":9,debug:10,isarray:46,json3:47}],45:[function(f,d,h){(function(f){d.exports=
function(a){return f.Buffer&&f.Buffer.isBuffer(a)||f.ArrayBuffer&&a instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],46:[function(f,d,h){d.exports=f(37)},{}],47:[function(f,d,h){(function(d){function a(d){if(a[d]!==k)return a[d];var g;if("bug-string-char-index"==d)g="a"!="a"[0];else if("json"==d)g=a("json-stringify")&&a("json-parse");else{var f;if("json-stringify"==d){g=q.stringify;var e="function"==typeof g&&r;if(e){(f=function(){return 1}).toJSON=
f;try{e="0"===g(0)&&"0"===g(new Number)&&'""'==g(new String)&&g(c)===k&&g(k)===k&&g()===k&&"1"===g(f)&&"[1]"==g([f])&&"[null]"==g([k])&&"null"==g(null)&&"[null,null,null]"==g([k,c,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==g({a:[f,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===g(null,f)&&"[\n 1,\n 2\n]"==g([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==g(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==g(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==g(new Date(-621987552E5))&&
'"1969-12-31T23:59:59.999Z"'==g(new Date(-1))}catch(m){e=!1}}g=e}if("json-parse"==d){g=q.parse;if("function"==typeof g)try{if(0===g("0")&&!g(!1)){f=g('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var h=5==f.a.length&&1===f.a[0];if(h){try{h=!g('"\t"')}catch(n){}if(h)try{h=1!==g("01")}catch(z){}if(h)try{h=1!==g("1.")}catch(u){}}}}catch(F){h=!1}g=h}}return a[d]=!!g}var c={}.toString,g,f,k,n="object"==typeof JSON&&JSON,q="object"==typeof h&&h&&!h.nodeType&&h;q&&n?(q.stringify=n.stringify,q.parse=
n.parse):q=d.JSON=n||{};var r=new Date(-0xc782b5b800cec);try{r=-109252==r.getUTCFullYear()&&0===r.getUTCMonth()&&1===r.getUTCDate()&&10==r.getUTCHours()&&37==r.getUTCMinutes()&&6==r.getUTCSeconds()&&708==r.getUTCMilliseconds()}catch(t){}if(!a("json")){var s=a("bug-string-char-index");if(!r)var u=Math.floor,v=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(a,c){return v[c]+365*(a-1970)+u((a-1969+(c=+(1<c)))/4)-u((a-1901+c)/100)+u((a-1601+c)/400)};(g={}.hasOwnProperty)||(g=function(a){var d=
{},f;(d.__proto__=null,d.__proto__={toString:1},d).toString!=c?g=function(a){var c=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=c;return a}:(f=d.constructor,g=function(a){var c=(this.constructor||f).prototype;return a in this&&!(a in c&&this[a]===c[a])});d=null;return g.call(this,a)});var w={"boolean":1,number:1,string:1,undefined:1};f=function(a,d){var k=0,e,h,n;(e=function(){this.valueOf=0}).prototype.valueOf=0;h=new e;for(n in h)g.call(h,n)&&k++;e=h=null;k?f=2==k?function(a,d){var f=
{},k="[object Function]"==c.call(a),e;for(e in a)k&&"prototype"==e||g.call(f,e)||!(f[e]=1)||!g.call(a,e)||d(e)}:function(a,d){var f="[object Function]"==c.call(a),k,e;for(k in a)f&&"prototype"==k||!g.call(a,k)||(e="constructor"===k)||d(k);(e||g.call(a,k="constructor"))&&d(k)}:(h="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),f=function(a,d){var f="[object Function]"==c.call(a),k,e;if(e=!f&&"function"!=typeof a.constructor)e=typeof a.hasOwnProperty,
e="object"==e?!!a.hasOwnProperty:!w[e];e=e?a.hasOwnProperty:g;for(k in a)f&&"prototype"==k||!e.call(a,k)||d(k);for(f=h.length;k=h[--f];e.call(a,k)&&d(k));});return f(a,d)};if(!a("json-stringify")){var y={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},z=function(a,c){return("000000"+(c||0)).slice(-a)},F=function(a){var c='"',d=0,g=a.length,f=10<g&&s,k;for(f&&(k=a.split(""));d<g;d++){var e=a.charCodeAt(d);switch(e){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=y[e];break;
default:if(32>e){c+="\\u00"+z(2,e.toString(16));break}c+=f?k[d]:s?a.charAt(d):a[d]}}return c+'"'},K=function(a,d,e,h,n,q,s){var r,v,C,t,L,A,B,y,w;try{r=d[a]}catch(J){}if("object"==typeof r&&r)if(v=c.call(r),"[object Date]"!=v||g.call(r,"toJSON"))"function"==typeof r.toJSON&&("[object Number]"!=v&&"[object String]"!=v&&"[object Array]"!=v||g.call(r,"toJSON"))&&(r=r.toJSON(a));else if(r>-1/0&&r<1/0){if(x){t=u(r/864E5);for(v=u(t/365.2425)+1970-1;x(v+1,0)<=t;v++);for(C=u((t-x(v,0))/30.42);x(v,C+1)<=t;C++);
t=1+t-x(v,C);L=(r%864E5+864E5)%864E5;A=u(L/36E5)%24;B=u(L/6E4)%60;y=u(L/1E3)%60;L%=1E3}else v=r.getUTCFullYear(),C=r.getUTCMonth(),t=r.getUTCDate(),A=r.getUTCHours(),B=r.getUTCMinutes(),y=r.getUTCSeconds(),L=r.getUTCMilliseconds();r=(0>=v||1E4<=v?(0>v?"-":"+")+z(6,0>v?-v:v):z(4,v))+"-"+z(2,C+1)+"-"+z(2,t)+"T"+z(2,A)+":"+z(2,B)+":"+z(2,y)+"."+z(3,L)+"Z"}else r=null;e&&(r=e.call(d,a,r));if(null===r)return"null";v=c.call(r);if("[object Boolean]"==v)return""+r;if("[object Number]"==v)return r>-1/0&&r<
1/0?""+r:"null";if("[object String]"==v)return F(""+r);if("object"==typeof r){for(a=s.length;a--;)if(s[a]===r)throw TypeError();s.push(r);w=[];d=q;q+=n;if("[object Array]"==v){C=0;for(a=r.length;C<a;C++)v=K(C,r,e,h,n,q,s),w.push(v===k?"null":v);a=w.length?n?"[\n"+q+w.join(",\n"+q)+"\n"+d+"]":"["+w.join(",")+"]":"[]"}else f(h||r,function(a){var c=K(a,r,e,h,n,q,s);c!==k&&w.push(F(a)+":"+(n?" ":"")+c)}),a=w.length?n?"{\n"+q+w.join(",\n"+q)+"\n"+d+"}":"{"+w.join(",")+"}":"{}";s.pop();return a}};q.stringify=
function(a,d,g){var f,k,e,m;if("function"==typeof d||"object"==typeof d&&d)if("[object Function]"==(m=c.call(d)))k=d;else if("[object Array]"==m){e={};for(var h=0,n=d.length,z;h<n;z=d[h++],(m=c.call(z),"[object String]"==m||"[object Number]"==m)&&(e[z]=1));}if(g)if("[object Number]"==(m=c.call(g))){if(0<(g-=g%1))for(f="",10<g&&(g=10);f.length<g;f+=" ");}else"[object String]"==m&&(f=10>=g.length?g:g.slice(0,10));return K("",(z={},z[""]=a,z),k,e,f,"",[])}}if(!a("json-parse")){var C=String.fromCharCode,
L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},A,B,J=function(){A=B=null;throw SyntaxError();},P=function(){for(var a=B,c=a.length,d,g,f,k,e;A<c;)switch(e=a.charCodeAt(A),e){case 9:case 10:case 13:case 32:A++;break;case 123:case 125:case 91:case 93:case 58:case 44:return d=s?a.charAt(A):a[A],A++,d;case 34:d="@";for(A++;A<c;)if(e=a.charCodeAt(A),32>e)J();else if(92==e)switch(e=a.charCodeAt(++A),e){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:d+=L[e];A++;
break;case 117:g=++A;for(f=A+4;A<f;A++)e=a.charCodeAt(A),48<=e&&57>=e||97<=e&&102>=e||65<=e&&70>=e||J();d+=C("0x"+a.slice(g,A));break;default:J()}else{if(34==e)break;e=a.charCodeAt(A);for(g=A;32<=e&&92!=e&&34!=e;)e=a.charCodeAt(++A);d+=a.slice(g,A)}if(34==a.charCodeAt(A))return A++,d;J();default:g=A;45==e&&(k=!0,e=a.charCodeAt(++A));if(48<=e&&57>=e){for(48==e&&(e=a.charCodeAt(A+1),48<=e&&57>=e)&&J();A<c&&(e=a.charCodeAt(A),48<=e&&57>=e);A++);if(46==a.charCodeAt(A)){for(f=++A;f<c&&(e=a.charCodeAt(f),
48<=e&&57>=e);f++);f==A&&J();A=f}e=a.charCodeAt(A);if(101==e||69==e){e=a.charCodeAt(++A);43!=e&&45!=e||A++;for(f=A;f<c&&(e=a.charCodeAt(f),48<=e&&57>=e);f++);f==A&&J();A=f}return+a.slice(g,A)}k&&J();if("true"==a.slice(A,A+4))return A+=4,!0;if("false"==a.slice(A,A+5))return A+=5,!1;if("null"==a.slice(A,A+4))return A+=4,null;J()}return"$"},M=function(a){var c,d;"$"==a&&J();if("string"==typeof a){if("@"==(s?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(c=[];;d||(d=!0)){a=P();if("]"==a)break;d&&
(","==a?(a=P(),"]"==a&&J()):J());","==a&&J();c.push(M(a))}return c}if("{"==a){for(c={};;d||(d=!0)){a=P();if("}"==a)break;d&&(","==a?(a=P(),"}"==a&&J()):J());","!=a&&"string"==typeof a&&"@"==(s?a.charAt(0):a[0])&&":"==P()||J();c[a.slice(1)]=M(P())}return c}J()}return a},ia=function(a,c,d){d=aa(a,c,d);d===k?delete a[c]:a[c]=d},aa=function(a,d,g){var e=a[d],k;if("object"==typeof e&&e)if("[object Array]"==c.call(e))for(k=e.length;k--;)ia(e,k,g);else f(e,function(a){ia(e,a,g)});return g.call(a,d,e)};q.parse=
function(a,d){var g,f;A=0;B=""+a;g=M(P());"$"!=P()&&J();A=B=null;return d&&"[object Function]"==c.call(d)?aa((f={},f[""]=g,f),"",d):g}}}})(this)},{}],48:[function(f,d,h){d.exports=function(d,a){for(var c=[],g=(a=a||0)||0;g<d.length;g++)c[g-a]=d[g];return c}},{}]},{},[1])(1)});window.PUBSUBio=window.io;window.io=window.previous_io;"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);"use strict";
function _typeof(b){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},_typeof(b)}function _instanceof(b,f){return null!=f&&"undefined"!==typeof Symbol&&f[Symbol.hasInstance]?!!f[Symbol.hasInstance](b):b instanceof f}
window.RTS=function(){var b=function(b){b=b||{};this.clientVersion=5;this.connectionId="";this.connection_startTime;this.socket_connection_time;this.timeoutPeriod=3E4;this.pingTimerInterval=15E3;this.tokenExpiryBufferPeriod=36E5;this.tokenFetchTimeout=2E4;this.channels={};this.timeouts={};this.callbacks={};this.attempts=this.timerID=0;this.clientClose;this.traceIdIncreamenter=0;this.reconnectionFlag=!1;this.stableConnectionTimer;this.stableConnectionTimeout=2E4;this.resubscriptionTimeout=3E3;this.webhookSendCustomDataLimit=
50;this.resubscriptionMaxAttempts=3;this.ping_worker;this.reconnectionAttempts=b.reconnectionAttempts||3;this.sioReconnectionAttempts=b.sioReconnectionAttempts||Infinity;this.reconnectionDelay=this._isNumberAndGreaterThanZero(b.reconnectionDelay)?b.reconnectionDelay:1E3;this.reconnectionDelayMax=b.reconnectionDelayMax||6E4;this.debug=b.debug||!1;this.logger=b.logger||window.console;this.origin=b.origin;this.onConnect=b.onConnect||function(){};this.onConnectError=b.onConnectError||function(){};this.onReconnect=
b.onReconnect||function(){};this.onReconnecting=b.onReconnecting||function(){};this.onDisconnect=b.onDisconnect||function(){};this.onFallback=b.onFallback||function(){};this.onMessage=b.onMessage||function(){};this.onAppMessage=b.onAppMessage;this.isHealthCheckEnabled=b.isHealthCheckEnabled||!1;this.disconnectCount=0;this.connected=!1;this.serviceId=b.serviceId||"rts";this.traceId=b.ti||this._generateUid();b.accId?this.accId=b.accId:this._throw("accId not provided");b.userId?this.userId=b.userId:
this._throw("userId not provided");this.token=b.token?encodeURIComponent(b.token):"";b.webURL&&(this.webURL=b.webURL);b.leaveOnUnload&&this.leaveOnUnload();this.hookId=b.hookId?b.hookId:"";"function"==typeof b.fetchToken&&(this.fetchToken=b.fetchToken);this.nocookie=this.socket=null;this.initializeSocket();this.initializeTokenRefresh()};b.prototype={constructor:b,generateWsUrl:function(b,d){var h="wss";0==b.indexOf("http://localhost")&&(h="ws");return b.replace(/[^:]*/,h)+"/ws?"+d},generateSioUrl:function(){return this.origin+
"?"+this._getQueryParams()},errorHandler:function(b){var d=this;d.log("attempts: ",d.attempts);if(2>d.websocket.readyState)try{d.websocket.close()}catch(h){d.log(h)}if(d.attempts>=d.reconnectionAttempts-1)d.log("failed to connect via websocket, falling back to sio"),d.timerID&&(window.clearTimeout(d.timerID),d.timerID=0,d.attempts=0),delete d.websocket,d.initializeSocketIO();else if(this.reconnectionFlag=!0,!d.timerID){d.log("setting timerID");d.timerID=setTimeout(function(){clearTimeout(d.timerID);
d.timerID=0;d.connected||d.errorHandler()},d.reconnectionDelay*(d._isNumberAndGreaterThanZero(d.attempts)?d.attempts:1)*10);d._onReconnecting();if(null==navigator||0!=navigator.onLine)d.log("incrementing retry attempts"),d.attempts++;d.initializeSocket()}},initializeSocket:function(){var b=this,d;this.checkCookieSupport(function(h){b.nocookie=h;if(1!=b.clientClose)if(d=b._getQueryParams(h),h=b.generateWsUrl(b.origin,d),null!=window.WebSocket){b.log("creating new socket,",Date());var e=new WebSocket(h);
b.websocket=e;b.websocket.onopen=function(){b.websocket==e&&(b.stableConnectionTimer=setTimeout(function(){b.attempts=0},b.stableConnectionTimeout),b.reconnectionFlag&&b._onReconnect(),b.initializeWebSocket(e))};b.websocket.onerror=function(a){b.websocket==e&&(window.clearTimeout(b.stableConnectionTimer),b.errorHandler(a))}}else b.initializeSocketIO()})},initializeWebSocket:function(b){this.log("Initializing websocket connnection...");this.connection_startTime=(new Date).getTime();var d=this,h=null;
this.websocket.onmessage=function(a){d.websocket==b&&(a=d._safelyParseJSON(a.data),"PONG"!=a.event&&d.log("Received Data.",a),d._onEvent(a))};this.websocket.onclose=function(a){d.websocket==b&&(window.clearTimeout(d.stableConnectionTimer),d.clientClose?(d.log("websocket closed"),d.websocket.close()):(d.connected&&d._onDisconnect("ping timeout",d),d.log("attempting to reconnect"),d.errorHandler(a)),window.Worker?d.ping_worker.postMessage({type:"stop_interval",intervalReference:h}):clearInterval(h))};
this.reconnectionFlag||(this._onConnect(),this.reconnectionFlag=!0);if(window.Worker){var e=function(){this.onmessage=function(a){if(a.data.type!=this.undefined)switch(a.data.type){case "start_interval":var c=this.setInterval(function(){this.postMessage({type:"trigger_callback",intervalReference:c})},a.data.Interval);this.postMessage({type:"initiated",intervalReference:c});break;case "stop_interval":clearInterval(a.data.intervalReference)}}}.toString(),e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}")),
e=new Blob([e],{type:"application/javascript"});this.ping_worker=new Worker(URL.createObjectURL(e));this.ping_worker.onmessage=function(a){"trigger_callback"==a.data.type?d.websocket==b?1==b.readyState&&b.send("9"):d.ping_worker.postMessage({type:"stop_interval",intervalReference:h}):"initiated"==a.data.type&&(h=a.data.intervalReference)};this.ping_worker.postMessage({type:"start_interval",Interval:d.pingTimerInterval})}else h=setInterval(function(){d.websocket!=b?clearInterval(h):1==b.readyState&&
b.send("9")},d.pingTimerInterval)},initializeSocketIO:function(){1!=this.clientClose&&(this.log("Initializing socket connection..."),this.connection_startTime=(new Date).getTime(),this.checkCookieSupport(function(b){this.nocookie=b;this.socket=this.io.Manager(this.generateSioUrl(),{forceBase64:!0,reconnectionAttempts:this.sioReconnectionAttempts,reconnectionDelay:this.reconnectionDelay,reconnectionDelayMax:this.reconnectionDelayMax}).socket("/");this.initializeSocketListeners()}.bind(this)))},initializeSocketListeners:function(){this.log("Binding the socket listeners...");
this.socket.on("connect",function(){this.onFallback();this._onConnect()}.bind(this));this.socket.on("connect_error",this._onConnectError.bind(this));this.socket.on("reconnecting",this._onReconnecting.bind(this));this.socket.on("reconnect",this._onReconnect.bind(this));this.socket.on("disconnect",this._onDisconnect.bind(this));this.socket.on("message",this._onMessage.bind(this))},initializeTokenRefresh:function(){if(null!=this.token&&""!=this.token&&"function"==typeof this.fetchToken){var b=this.getTokenExpiry(decodeURIComponent(this.token));
if(Infinity!=b){var d=this,b=b-(new Date).getTime()-this.tokenExpiryBufferPeriod;0>=b&&(b+=this.tokenExpiryBufferPeriod);setTimeout(function(){1!=d.clientClose&&d.fetchToken(function(b){null!=b&&""!=b&&(d.token=encodeURIComponent(b),d.socket&&d.socket.io&&d.socket.io.uri&&(d.socket.io.uri=d.generateSioUrl()),d.connected&&d.grant(b));setTimeout(function(){d.initializeTokenRefresh()},d.tokenFetchTimeout)})},b)}}},getTokenExpiry:function(b){var d=JSON.parse(atob(b.split(".")[1]));b=Infinity;isNaN(d.exp)||
(b=Math.min(b,1E3*parseInt(d.exp)));for(var d=d.credentials,h=0;h<d.length;h++){var e=d[h];isNaN(e.expire)||(b=Math.min(b,parseInt(e.expire)))}return b},refreshToken:function(){if("function"==typeof this.fetchToken){var b=this;this.fetchToken(function(d){null!=d&&""!=d&&(b.token=encodeURIComponent(d),b.connected&&b.grant(d))})}},removeSocketListeners:function(b){this.socket&&this.socket.off(b)},checkCookieSupport:function(b){null!==this.nocookie?b(this.nocookie):!0===(/constructor/i.test(window.HTMLElement)||
"[object SafariRemoteNotification]"===(!window.safari||"undefined"!==typeof window.safari&&window.safari.pushNotification).toString())?b(!0):this.sendCookieRequest("get",function(d){d?this.sendCookieRequest("check",function(d){d?(this.log("Browser supports cookie from a different domain"),b(!1)):(this.log("Browser does not support cookie from a different domain"),b(!0))}.bind(this)):(this.log("Browser does not support cookie from a different domain"),b(!0))}.bind(this))},sendCookieRequest:function(b,
d){var h=new XMLHttpRequest,e=this,a=this.origin;this.origin&&"/"!==this.origin[this.origin.length-1]&&(a=this.origin+"/v2/cookie/");h.open("GET",a+b);h.onreadystatechange=function(){if(4===this.readyState)if(e.log("Cookie request :: "+b+" response",this.responseText),200<=this.status&&300>this.status||304===this.status){var a=!0;if("check"==b){a=!1;try{a=JSON.parse(this.responseText).exist}catch(g){}}d(a)}else d(!1)};h.onerror=function(){e.log(h.statusText)};h.withCredentials=!0;h.send()},subscribe:function(b,
d,h){h=h||{};"undefined"===typeof h.resubscriptionAttempts&&(h.resubscriptionAttempts=0);"function"!=typeof d&&(d=null);var e=this;this.log("Trying to subscribe to channel: ",b);if(this._connectionCheck(d))if(!h.forceResubscribe&&this._isChannelSubscribed(b))this.log("Already subscribed to channel: "+b),h&&(e.channels[b].options=h),h.messageHandler&&(e.channels[b].onMessage=h.messageHandler),d&&d(null,"Already subscribed to channel: ");else{delete h.forceResubscribe;var a=!1,c=setTimeout(function(){a||
(a=!0,h.resubscriptionAttempts++,h.resubscriptionAttempts==e.resubscriptionMaxAttempts?(h.resubscriptionAttempts=0,window.clearTimeout(c),e.log("resubscription timed out, could not subscribe to channel",b),d&&d("subscription failed","tried subscribing"+e.resubscriptionMaxAttempts+" times: resubscription failed"),d=null):e.subscribe(b,d,h))},e.resubscriptionTimeout);this._sendMessage({event:"subscribe",channel:b,serviceId:this.serviceId,token:h.token,ti:h.traceId,hookId:h.hookId,opt:h.opt?h.opt:0},
function(g,m){if(null==g){h.resubscriptionAttempts=0;if(a)return;a=!0;window.clearTimeout(c);e.channels[b]={connected:!0,options:h,onMessage:h.messageHandler};e._fireCallback(d,g,m)}g&&e.log("Could not subscribe to channel: ",g,b)})}},__getSocketOpt:function(b){return b=(b?b:0)|64},subscribeSocket:function(b,d,h){h.opt=this.__getSocketOpt(h.opt);this.subscribe(b,d,h)},unsubscribe:function(b,d,h){h=h||{};"function"!=typeof d&&(d=null);var e=this;this._connectionCheck(d)&&this._isChannelSubscribed(b,
d)&&this._sendMessage({event:"unsubscribe",channel:b,serviceId:this.serviceId,ti:h.traceId,hookId:h.hookId,opt:h.opt?h.opt:0},function(a,c){a?e.log("Could not unsubscribe from channel: ",a,b):delete e.channels[b];d&&d(a,c)})},unsubscribeSocket:function(b,d,h){h=h||{};h.opt=this.__getSocketOpt(h.opt);this.unsubscribe(b,d,h)},unsubscribeAll:function(b,d){d=d||{};"function"!=typeof b&&(b=null);this._connectionCheck&&(this._sendMessage({event:"unsubscribeall",serviceId:this.serviceId,ti:d.traceId}),this.channels=
{},b&&b(null,this.channels))},ping:function(b){b=b||{};this.isHealthCheckEnabled&&this._connectionCheck&&this._sendMessage({event:"ping",userId:this.userId,serviceId:this.serviceId,ti:b.traceId})},channelWho:function(b,d,h){h=h||{};"function"!=typeof d&&(d=null);var e=this;this._connectionCheck(d)&&this._sendMessage({event:"channel_who",channel:b,serviceId:this.serviceId,ti:h.traceId,msg:JSON.stringify(h)},function(a,c){a&&e.log("Could not fetch channel_who: ",a,b);d&&d(a,c)})},userWhere:function(b,
d){d=d||{};"function"!=typeof b&&(b=null);var h=this;this._connectionCheck(b)&&this._sendMessage({event:"user_where",serviceId:this.serviceId,ti:d.traceId},function(d,a){d&&h.log("Could not fetch user_where: ",d);b&&b(d,a)})},userThere:function(b,d){d=d||{};"function"!=typeof b&&(b=null);var h=this;this._connectionCheck(b)&&this._sendMessage({accId:this.accId,event:"user_there",userid:this.userId,serviceId:this.serviceId,ti:d.traceId},function(d,a){d&&h.log("Could not fetch user_there: ",d);b&&b(d,
a)})},grant:function(b,d,h){h=h||{};"function"!=typeof d&&(d=null);var e=this;this._connectionCheck(d)&&this._sendMessage({event:"grant",msg:b,serviceId:this.serviceId,ti:h.traceId},function(a,c){a&&e.log("Could not grant access: ",a);d&&d(a,c)})},revoke:function(b,d,h){h=h||{};"function"!=typeof d&&(d=null);var e=this;this._connectionCheck(d)&&this._sendMessage({event:"revoke",msg:b,serviceId:this.serviceId,ti:h.traceId},function(a,c){a&&e.log("Could not revoke access: ",a);d&&d(a,c)})},save:function(b,
d,h,e){e=e||{};"function"!=typeof h&&(h=null);var a=this;this._connectionCheck()&&this._isChannelSubscribed(b)&&this._sendMessage({event:"save",channel:b,serviceId:this.serviceId,ti:e.traceId,msg:JSON.stringify(d)},function(c,b){c?a.log("Could not fetch user_where: ",c):a.log("Saved data.",d);h&&h(c,b)})},fetch:function(b,d,h){h=h||{};"function"!=typeof d&&(d=null);var e=this;this._connectionCheck(d)&&this._isChannelSubscribed(b,d)&&this._sendMessage({event:"fetch",channel:b,userId:this.userId,serviceId:this.serviceId,
ti:h.traceId},function(a,c){a&&e.log("Could not fetch user data: ",a);d&&d(a,c)})},publish:function(b,d,h,e){e=e||{};"function"!=typeof h&&(h=null);this._connectionCheck&&this._isChannelSubscribed(b,h)&&(b={event:"send",channel:b,msg:JSON.stringify(d),userid:e.userId,opt:e.opt?e.opt:e.persist?1:0,serviceId:this.serviceId,ti:e.traceId},e.msgType&&(b.msgType=e.msgType),this._sendMessage(b,h),this.log("Message sent",d))},persist:function(b,d,h,e){var a=this;e=e||{};"function"!=typeof h&&(h=null);b=this.origin+
"/v1/message/send/"+this.accId+"/"+b+"?token\x3d"+this.token;e=e.persist?1:0;e='{"msg":'+JSON.stringify(d)+',"opt":"'+e+'","senderId":"'+this.userId+'"}';var c=function(c,b){a.log("rest message send callback","Error: ",c," | Message: ",b);null!=h&&(h(c,b),h=null)},g=new XMLHttpRequest;g.onreadystatechange=function(){this.readyState==this.DONE&&(200<=this.status&&300>this.status?(a.log("message sent",d),c(null,g.responseText)):c("Server error, code: "+this.status,g.responseText))};g.ontimeout=function(){c("Timeout",
null)};g.onerror=function(){c("Something went wrong",null)};g.timeout=2E4;g.open("POST",b,!0);g.setRequestHeader("Content-Type","application/json");g.send(e)},sendAck:function(b,d,h,e,a){a=a||{};"function"!=typeof e&&(e=null);this._connectionCheck(e)&&this._isChannelSubscribed(b,e)&&(this._sendMessage({accId:this.accId,event:"client_ack",channel:b,msg:d,userId:h,serviceId:this.serviceId,ti:a.traceId,msgPayload:JSON.stringify(a.message)}),e&&e(null,"Sent ack message"))},log:function(){if(!0===this.debug&&
this.logger){var b=Array.prototype.slice.call(arguments),d="";b.unshift("RTS:");b.unshift((new Date).toLocaleTimeString());b.forEach(function(b){d=_instanceof(b,Error)?d+(b.toString()+" "):"object"===_typeof(b)?d+(JSON.stringify(b)+" "):d+(b+" ")});this.logger.log(d)}},close:function(b,d){this.clientClose=!0;d=d||{};this._connectionCheck(b)&&this._sendMessage({event:"close",serviceId:this.serviceId,hookId:d.hookId,ti:d.traceId});"function"!=typeof b&&(b=null);if(this.websocket){try{this.websocket.close()}catch(h){this.log(h)}var e=
this;setTimeout(function(){e._onDisconnect("forced close")},0)}else this.disconnect();b&&b(null,"Connection Closed")},webhookSend:function(b,d,h,e,a){var c=null;a=a||{};"function"!=typeof e&&(e=null);if(d.length>this.webhookSendCustomDataLimit)return c="Data limit exceeded. Failed to send webhook",null!=e?e(c,null):c;if(!h||0===h.length)return c="Hook id missing in webhook send",null!=e?e(c,null):c;this._sendMessage({data:d,hookId:h,event:"webhooksend",channel:b,token:a.token,traceId:a.traceId,serviceId:this.serviceId,
opt:a.opt?a.opt:0},function(a,c){a&&this.log("Could not send webhook: ",a);return null!=e?e(a,c):a})},disconnect:function(){this.socket&&this.socket.io.disconnect()},reconnect:function(b){this.socket.io.connect()},_fireCallback:function(b){if("function"==typeof b){var d=Array.prototype.slice.call(arguments,1,arguments.length);setTimeout(function(){b.apply(null,d)},0)}},_connectionCheck:function(b){if(this.websocket)return 1!=this.websocket.readyState?(this.log("Not performing action as client is not connected."),
b&&b("Not performing action as client is not connected."),!1):!0;!1===this.connected&&(this.log("Not performing action as client is not connected."),b&&b("Not performing action as client is not connected."));return this.connected},_sendMessage:function(b,d){var h;d&&(h=this._generateUid(),this.callbacks[h]=d,b.clientId=h,this._startTimeoutErrorTimer(h));b.accId=this.accId;this.websocket?(9!=b&&this.log("Sending data",b),this.websocket.send(JSON.stringify(b))):this.socket.emit("message",JSON.stringify(b))},
_startTimeoutErrorTimer:function(b){var d=this;d.timeouts[b]=setTimeout(function(){if(d.callbacks[b])d.callbacks[b]("Timeout Error");delete d.timeouts[b]},this.timeoutPeriod)},_generateUid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var d=16*Math.random()|0;return("x"==b?d:d&3|8).toString(16)})},_isNumberAndGreaterThanZero:function(b){return"number"==typeof b&&0<b},_safelyParseJSON:function(b){var d;try{d=JSON.parse(b)}catch(h){this.log("MessageParseError",
b);return}return d},_isChannelSubscribed:function(b,d){var h="Channel "+b+" is not subscribed yet.";this.channels[b]||(this.log(h),d&&d(h));return!!this.channels[b]},_onConnect:function(){if(!this.reconnectionFlag){var b=(new Date).getTime()-this.connection_startTime;this.log("Socket Connected");this.websocket?(this.log("Time Taken by Websocket:- ",b),this.websocket.id=this._generateUid()):this.log("Time Taken by Socket.IO:- ",b);this.connected=!0;this._fireCallback(this.onConnect,this.reconnectionFlag);
this.reconnectionFlag=!0}},_onConnectError:function(b){this.log("Socket Connect Error");this._fireCallback(this.onConnectError,b)},_onReconnecting:function(){this.websocket?this.log("Websocket reconnecting"):this.log("Socket reconnecting");this._fireCallback(this.onReconnecting)},_onReconnect:function(){var b=this;this.log("Socket reconnected");window.clearTimeout(this.disconnect_timer);this.connected=!0;Object.keys(b.channels).forEach(function(d){var h=b.channels[d].options||{};h.forceResubscribe=
!0;b.subscribe(d,null,h)});this._fireCallback(b.onReconnect)},_onDisconnect:function(b,d){this.log("Disconnected");this.connected=!1;this.clientClose&&(this.channels={});this.disconnectCount+=1;this._fireCallback(this.onDisconnect,b,d)},_onEvent:function(b){"CONNECT"==b.event&&(this.connectionId=b.connId);if(b.clientId&&(this.timeouts[b.clientId]&&(clearTimeout(this.timeouts[b.clientId]),delete this.timeouts[b.clientId]),this.callbacks[b.clientId])){if(""!==b.err&&b.err){this.log("Error: ",b);try{this.callbacks[b.clientId](b.err)}catch(d){this.log(d)}}else try{this.callbacks[b.clientId](null,
b)}catch(h){this.log(h)}delete this.callbacks[b.clientId]}"APP_PUBLISH"==b.event&&"function"==typeof this.onAppMessage?this._fireCallback(this.onAppMessage,b):("send"==b.event||"CHANNEL_JOIN"==b.event||"LEFT_CHANNEL"===b.event)&&b.channel&&this.channels[b.channel]&&"function"===typeof this.channels[b.channel].onMessage?this._fireCallback(this.channels[b.channel].onMessage,b):this._fireCallback(this.onMessage,b)},_onMessage:function(b){b=this._safelyParseJSON(b);this._onEvent(b)},_getQueryParams:function(){this.traceIdIncreamenter++;
var b=["rcid\x3d",this.connectionId,"\x26accId\x3d",this.accId,"\x26serviceId\x3d",this.serviceId,"\x26userId\x3d",this.userId,"\x26ti\x3d",this.traceId+-+this.traceIdIncreamenter,"\x26token\x3d",this.token,"\x26cv\x3d",this.clientVersion].join("");!0===this.nocookie&&(b+="\x26nocookie\x3dtrue");return b},_throw:function(b){throw Error(b);},io:function(){return function d(b,e,a){function c(k,m){if(!e[k]){if(!b[k]){var q="function"==typeof require&&require;if(!m&&q)return q(k,!0);if(g)return g(k,!0);
throw Error("Cannot find module '"+k+"'");}q=e[k]={exports:{}};b[k][0].call(q.exports,function(a){var d=b[k][1][a];return c(d?d:a)},q,q.exports,d,b,e,a)}return e[k].exports}for(var g="function"==typeof require&&require,m=0;m<a.length;m++)c(a[m]);return c}({1:[function(b,h,e){h.exports=b("./lib/")},{"./lib/":2}],2:[function(b,h,e){function a(a,b){"object"==_typeof(a)&&(b=a,a=void 0);b=b||{};var d=c(a),g=d.source,e=d.id,h=d.path,h=n[e]&&n[e].nsps[h]&&h==n[e].nsps[h].nsp;b.forceNew||b["force new connection"]||
!1===b.multiplex||h?(k("ignoring socket cache for %s",g),g=m(g,b)):(n[e]||(k("new io instance for %s",g),n[e]=m(g,b)),g=n[e]);return g.socket(d.path)}var c=b("./url"),g=b("socket.io-parser"),m=b("./manager"),k=b("debug")("socket.io-client");h.exports=e=a;var n=e.managers={};e.protocol=g.protocol;e.connect=a;e.Manager=b("./manager");e.Socket=b("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":44}],3:[function(b,h,e){function a(c,b){if(!_instanceof(this,a))return new a(c,
b);c&&"object"==_typeof(c)&&(b=c,c=void 0);b=b||{};b.path=b.path||"/socket.io";this.nsps={};this.subs=[];this.opts=b;this.reconnection(!1!==b.reconnection);this.reconnectionAttempts(b.reconnectionAttempts||Infinity);this.reconnectionDelay(b.reconnectionDelay||1E3);this.reconnectionDelayMax(b.reconnectionDelayMax||5E3);this.randomizationFactor(b.randomizationFactor||.5);this.backoff=new t({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==
b.timeout?2E4:b.timeout);this.readyState="closed";this.uri=c;this.connected=[];this.encoding=!1;this.packetBuffer=[];this.encoder=new m.Encoder;this.decoder=new m.Decoder;(this.autoConnect=!1!==b.autoConnect)&&this.open()}b("./url");var c=b("engine.io-client"),g=b("./socket");e=b("component-emitter");var m=b("socket.io-parser"),k=b("./on"),n=b("component-bind");b("object-component");var q=b("debug")("socket.io-client:manager"),r=b("indexof"),t=b("backo2");h.exports=a;a.prototype.emitAll=function(){this.emit.apply(this,
arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};a.prototype.updateSocketIds=function(){for(var a in this.nsps)this.nsps[a].id=this.engine.id};e(a.prototype);a.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};a.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};a.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;
this._reconnectionDelay=a;this.backoff&&this.backoff.setMin(a);return this};a.prototype.randomizationFactor=function(a){if(!arguments.length)return this._randomizationFactor;this._randomizationFactor=a;this.backoff&&this.backoff.setJitter(a);return this};a.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;this.backoff&&this.backoff.setMax(a);return this};a.prototype.timeout=function(a){if(!arguments.length)return this._timeout;
this._timeout=a;return this};a.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()};a.prototype.open=a.prototype.connect=function(a){q("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;q("opening %s",this.uri);var b=this.engine=c(this.uri,this.opts),d=this;this.readyState="opening";this.skipReconnect=!1;var g=k(b,"open",function(){d.onopen();a&&a()}),e=k(b,"error",function(c){q("connect_error");
d.cleanup();d.readyState="closed";d.emitAll("connect_error",c);if(a){var b=Error("Connection error");b.data=c;a(b)}else d.maybeReconnectOnOpen()});if(!1!==this._timeout){var m=this._timeout;q("connect attempt will timeout after %d",m);var h=setTimeout(function(){q("connect attempt timed out after %d",m);g.destroy();b.close();b.emit("error","timeout");d.emitAll("connect_timeout",m)},m);this.subs.push({destroy:function(){clearTimeout(h)}})}this.subs.push(g);this.subs.push(e);return this};a.prototype.onopen=
function(){q("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(k(a,"data",n(this,"ondata")));this.subs.push(k(this.decoder,"decoded",n(this,"ondecoded")));this.subs.push(k(a,"error",n(this,"onerror")));this.subs.push(k(a,"close",n(this,"onclose")))};a.prototype.ondata=function(a){this.decoder.add(a)};a.prototype.ondecoded=function(a){this.emit("packet",a)};a.prototype.onerror=function(a){q("error",a);this.emitAll("error",a)};a.prototype.socket=function(a){var c=
this.nsps[a];if(!c){c=new g(this,a);this.nsps[a]=c;var b=this;c.on("connect",function(){c.id=b.engine.id;~r(b.connected,c)||b.connected.push(c)})}return c};a.prototype.destroy=function(a){a=r(this.connected,a);~a&&this.connected.splice(a,1);this.connected.length||this.close()};a.prototype.packet=function(a){q("writing packet %j",a);var c=this;c.encoding?c.packetBuffer.push(a):(c.encoding=!0,this.encoder.encode(a,function(a){for(var b=0;b<a.length;b++)c.engine.write(a[b]);c.encoding=!1;c.processPacketQueue()}))};
a.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};a.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};a.prototype.close=a.prototype.disconnect=function(){this.skipReconnect=!0;this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};a.prototype.onclose=function(a){q("close");this.cleanup();this.backoff.reset();
this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};a.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)q("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var c=this.backoff.duration();q("will wait %dms before reconnect attempt",c);this.reconnecting=!0;var b=setTimeout(function(){a.skipReconnect||(q("attempting reconnect"),
a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(c){c?(q("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",c.data)):(q("reconnect success"),a.onreconnect())}))},c);this.subs.push({destroy:function(){clearTimeout(b)}})}};a.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",a)}},{"./on":4,
"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:40,"object-component":41,"socket.io-parser":44}],4:[function(b,h,e){h.exports=function(a,c,b){a.on(c,b);return{destroy:function(){a.removeListener(c,b)}}}},{}],5:[function(b,h,e){function a(a,c){this.io=a;this.nsp=c;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0}var c=b("socket.io-parser");
e=b("component-emitter");var g=b("to-array"),m=b("./on"),k=b("component-bind"),n=b("debug")("socket.io-client:socket"),q=b("has-binary");h.exports=a;var r={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},t=e.prototype.emit;e(a.prototype);a.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[m(a,"open",k(this,"onopen")),m(a,"packet",k(this,"onpacket")),m(a,"close",k(this,"onclose"))]}};
a.prototype.open=a.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();return this};a.prototype.send=function(){var a=g(arguments);a.unshift("message");this.emit.apply(this,a);return this};a.prototype.emit=function(a){if(r.hasOwnProperty(a))return t.apply(this,arguments),this;var b=g(arguments),d=c.EVENT;q(b)&&(d=c.BINARY_EVENT);d={type:d,data:b};"function"==typeof b[b.length-1]&&(n("emitting packet with ack id %d",
this.ids),this.acks[this.ids]=b.pop(),d.id=this.ids++);this.connected?this.packet(d):this.sendBuffer.push(d);return this};a.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};a.prototype.onopen=function(){n("transport is open - connecting");"/"!=this.nsp&&this.packet({type:c.CONNECT})};a.prototype.onclose=function(a){n("close (%s)",a);this.connected=!1;this.disconnected=!0;delete this.id;this.emit("disconnect",a)};a.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case c.CONNECT:this.onconnect();
break;case c.EVENT:this.onevent(a);break;case c.BINARY_EVENT:this.onevent(a);break;case c.ACK:this.onack(a);break;case c.BINARY_ACK:this.onack(a);break;case c.DISCONNECT:this.ondisconnect();break;case c.ERROR:this.emit("error",a.data)}};a.prototype.onevent=function(a){var c=a.data||[];n("emitting event %j",c);null!=a.id&&(n("attaching ack callback to event"),c.push(this.ack(a.id)));this.connected?t.apply(this,c):this.receiveBuffer.push(c)};a.prototype.ack=function(a){var b=this,d=!1;return function(){if(!d){d=
!0;var e=g(arguments);n("sending ack %j",e);var k=q(e)?c.BINARY_ACK:c.ACK;b.packet({type:k,id:a,data:e})}}};a.prototype.onack=function(a){n("calling ack %s with %j",a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};a.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};a.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)t.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<
this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};a.prototype.ondisconnect=function(){n("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};a.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};a.prototype.close=a.prototype.disconnect=function(){this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:c.DISCONNECT}));this.destroy();
if(this.connected)this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":36,"socket.io-parser":44,"to-array":48}],6:[function(b,h,e){(function(a){var c=b("parseuri"),g=b("debug")("socket.io-client:url");h.exports=function(b,d){var e=b;d=d||a.location;null==b&&(b=d.protocol+"//"+d.host);"string"==typeof b&&("/"==b.charAt(0)&&(b="/"==b.charAt(1)?d.protocol+b:d.hostname+b),/^(https?|wss?):\/\//.test(b)||(g("protocol-less url %s",b),
b="undefined"!=typeof d?d.protocol+"//"+b:"https://"+b),g("parse %s",b),e=c(b));e.port||(/^(http|ws)$/.test(e.protocol)?e.port="80":/^(http|ws)s$/.test(e.protocol)&&(e.port="443"));e.path=e.path||"/";e.id=e.protocol+"://"+e.host+":"+e.port;e.href=e.protocol+"://"+e.host+(d&&d.port==e.port?"":":"+e.port);return e}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:10,parseuri:42}],7:[function(b,h,e){function a(a){a=a||{};this.ms=a.min||100;this.max=a.max||1E4;
this.factor=a.factor||2;this.jitter=0<a.jitter&&1>=a.jitter?a.jitter:0;this.attempts=0}h.exports=a;a.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter)var b=Math.random(),d=Math.floor(b*this.jitter*a),a=0==(Math.floor(10*b)&1)?a-d:a+d;return Math.min(a,this.max)|0};a.prototype.reset=function(){this.attempts=0};a.prototype.setMin=function(a){this.ms=a};a.prototype.setMax=function(a){this.max=a};a.prototype.setJitter=function(a){this.jitter=a}},{}],8:[function(b,
h,e){var a=[].slice;h.exports=function(c,b){"string"==typeof b&&(b=c[b]);if("function"!=typeof b)throw Error("bind() requires a function");var d=a.call(arguments,2);return function(){return b.apply(c,d.concat(a.call(arguments)))}}},{}],9:[function(b,h,e){function a(c){if(c){for(var b in a.prototype)c[b]=a.prototype[b];return c}}h.exports=a;a.prototype.on=a.prototype.addEventListener=function(a,b){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(b);return this};
a.prototype.once=function(a,b){function d(){e.off(a,d);b.apply(this,arguments)}var e=this;this._callbacks=this._callbacks||{};d.fn=b;this.on(a,d);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var d=this._callbacks[a];if(!d)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var e,h=0;h<d.length;h++)if(e=
d[h],e===b||e.fn===b){d.splice(h,1);break}return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),d=this._callbacks[a];if(d)for(var d=d.slice(0),e=0,h=d.length;e<h;++e)d[e].apply(this,b);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],10:[function(b,h,e){function a(c){return a.enabled(c)?function(b){var d=
b;b=_instanceof(d,Error)?d.stack||d.message:d;var d=new Date,e=d-(a[c]||d);a[c]=d;b=c+" "+b+" +"+a.humanize(e);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}h.exports=a;a.names=[];a.skips=[];a.enable=function(c){try{localStorage.debug=c}catch(b){}for(var d=(c||"").split(/[\s,]+/),e=d.length,h=0;h<e;h++)c=d[h].replace("*",".*?"),"-"===c[0]?a.skips.push(new RegExp("^"+c.substr(1)+"$")):a.names.push(new RegExp("^"+c+"$"))};a.disable=function(){a.enable("")};
a.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};a.enabled=function(c){for(var b=0,d=a.skips.length;b<d;b++)if(a.skips[b].test(c))return!1;b=0;for(d=a.names.length;b<d;b++)if(a.names[b].test(c))return!0;return!1};try{window.localStorage&&a.enable(localStorage.debug)}catch(c){}},{}],11:[function(b,h,e){h.exports=b("./lib/")},{"./lib/":12}],12:[function(b,h,e){h.exports=b("./socket");h.exports.parser=b("engine.io-parser")},{"./socket":13,
"engine.io-parser":25}],13:[function(b,h,e){(function(a){function c(b,d){if(!_instanceof(this,c))return new c(b,d);d=d||{};b&&"object"==_typeof(b)&&(d=b,b=null);b&&(b=r(b),d.host=b.host,d.secure="https"==b.protocol||"wss"==b.protocol,d.port=b.port,b.query&&(d.query=b.query));this.secure=null!=d.secure?d.secure:a.location&&"https:"==location.protocol;if(d.host){var g=d.host.split(":");d.hostname=g.shift();g.length?d.port=g.pop():d.port||(d.port=this.secure?"443":"80")}this.agent=d.agent||!1;this.hostname=
d.hostname||(a.location?location.hostname:"localhost");this.port=d.port||(a.location&&location.port?location.port:this.secure?443:80);this.query=d.query||{};"string"==typeof this.query&&(this.query=s.decode(this.query));this.upgrade=!1!==d.upgrade;this.path=(d.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!d.forceJSONP;this.jsonp=!1!==d.jsonp;this.forceBase64=!!d.forceBase64;this.enablesXDR=!!d.enablesXDR;this.timestampParam=d.timestampParam||"t";this.timestampRequests=d.timestampRequests;
this.transports=d.transports||["polling"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=d.policyPort||843;this.rememberUpgrade=d.rememberUpgrade||!1;this.binaryType=null;this.onlyBinaryUpgrades=d.onlyBinaryUpgrades;this.pfx=d.pfx||null;this.key=d.key||null;this.passphrase=d.passphrase||null;this.cert=d.cert||null;this.ca=d.ca||null;this.ciphers=d.ciphers||null;this.rejectUnauthorized=d.rejectUnauthorized||null;this.open()}var g=b("./transports"),e=b("component-emitter"),
k=b("debug")("engine.io-client:socket"),n=b("indexof"),q=b("engine.io-parser"),r=b("parseuri"),t=b("parsejson"),s=b("parseqs");h.exports=c;c.priorWebsocketSuccess=!1;e(c.prototype);c.protocol=q.protocol;c.Socket=c;c.Transport=b("./transport");c.transports=b("./transports");c.parser=b("engine.io-parser");c.prototype.createTransport=function(a){k('creating transport "%s"',a);var c=this.query,b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);b.EIO=q.protocol;b.transport=a;this.id&&(b.sid=this.id);return new g[a]({agent:this.agent,
hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:b,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized})};c.prototype.open=function(){var a;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&
-1!=this.transports.indexOf("websocket"))a="websocket";else{if(0==this.transports.length){var b=this;setTimeout(function(){b.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(d){this.transports.shift();this.open();return}a.open();this.setTransport(a)};c.prototype.setTransport=function(a){k("setting transport %s",a.name);var c=this;this.transport&&(k("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());
this.transport=a;a.on("drain",function(){c.onDrain()}).on("packet",function(a){c.onPacket(a)}).on("error",function(a){c.onError(a)}).on("close",function(){c.onClose("transport close")})};c.prototype.probe=function(a){function b(){if(s.onlyBinaryUpgrades){var d=!this.supportsBinary&&s.transport.supportsBinary;r=r||d}r||(k('probe transport "%s" opened',a),q.send([{type:"ping",data:"probe"}]),q.once("packet",function(b){r||("pong"==b.type&&"probe"==b.data?(k('probe transport "%s" pong',a),s.upgrading=
!0,s.emit("upgrading",q),q&&(c.priorWebsocketSuccess="websocket"==q.name,k('pausing current transport "%s"',s.transport.name),s.transport.pause(function(){r||"closed"==s.readyState||(k("changing transport and sending upgrade packet"),n(),s.setTransport(q),q.send([{type:"upgrade"}]),s.emit("upgrade",q),q=null,s.upgrading=!1,s.flush())}))):(k('probe transport "%s" failed',a),b=Error("probe error"),b.transport=q.name,s.emit("upgradeError",b)))}))}function d(){r||(r=!0,n(),q.close(),q=null)}function g(c){var b=
Error("probe error: "+c);b.transport=q.name;d();k('probe transport "%s" failed because of error: %s',a,c);s.emit("upgradeError",b)}function e(){g("transport closed")}function h(){g("socket closed")}function m(a){q&&a.name!=q.name&&(k('"%s" works - aborting "%s"',a.name,q.name),d())}function n(){q.removeListener("open",b);q.removeListener("error",g);q.removeListener("close",e);s.removeListener("close",h);s.removeListener("upgrading",m)}k('probing transport "%s"',a);var q=this.createTransport(a,{probe:1}),
r=!1,s=this;c.priorWebsocketSuccess=!1;q.once("open",b);q.once("error",g);q.once("close",e);this.once("close",h);this.once("upgrading",m);q.open()};c.prototype.onOpen=function(){k("socket open");this.readyState="open";c.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){k("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}};c.prototype.onPacket=function(a){if("opening"==
this.readyState||"open"==this.readyState)switch(k('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case "open":this.onHandshake(t(a.data));break;case "pong":this.setPing();break;case "error":var c=Error("server error");c.code=a.data;this.emit("error",c);break;case "message":this.emit("data",a.data),this.emit("message",a.data)}else k('packet received with socket readyState "%s"',this.readyState)};c.prototype.onHandshake=function(a){this.emit("handshake",
a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};c.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var c=this;c.pingTimeoutTimer=setTimeout(function(){if("closed"!=c.readyState)c.onClose("ping timeout")},a||c.pingInterval+c.pingTimeout)};
c.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){k("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};c.prototype.ping=function(){this.sendPacket("ping")};c.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);
this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};c.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(k("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};c.prototype.write=c.prototype.send=function(a,c){this.sendPacket("message",a,c);return this};c.prototype.sendPacket=function(a,c,b){"closing"!=
this.readyState&&"closed"!=this.readyState&&(a={type:a,data:c},this.emit("packetCreate",a),this.writeBuffer.push(a),this.callbackBuffer.push(b),this.flush())};c.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){var a=function(){d.onClose("forced close");k("socket closing - telling transport to close");d.transport.close()},c=function z(){d.removeListener("upgrade",z);d.removeListener("upgradeError",z);a()},b=function(){d.once("upgrade",c);d.once("upgradeError",c)};
this.readyState="closing";var d=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?b():a()});else this.upgrading?b():a()}return this};c.prototype.onError=function(a){k("socket error %j",a);c.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};c.prototype.onClose=function(a,c){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){k('socket close with reason: "%s"',a);var b=this;clearTimeout(this.pingIntervalTimer);
clearTimeout(this.pingTimeoutTimer);setTimeout(function(){b.writeBuffer=[];b.callbackBuffer=[];b.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,c)}};c.prototype.filterUpgrades=function(a){for(var c=[],b=0,d=a.length;b<d;b++)~n(this.transports,a[b])&&c.push(a[b]);return c}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":14,
"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:40,parsejson:32,parseqs:33,parseuri:34}],14:[function(b,h,e){function a(a){this.path=a.path;this.hostname=a.hostname;this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=a.timestampParam;this.timestampRequests=a.timestampRequests;this.readyState="";this.agent=a.agent||!1;this.socket=a.socket;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;
this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized}var c=b("engine.io-parser");b=b("component-emitter");h.exports=a;b(a.prototype);a.timestamps=0;a.prototype.onError=function(a,c){var b=Error(a);b.type="TransportError";b.description=c;this.emit("error",b);return this};a.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};a.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),
this.onClose();return this};a.prototype.send=function(a){if("open"==this.readyState)this.write(a);else throw Error("Transport not open");};a.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};a.prototype.onData=function(a){a=c.decodePacket(a,this.socket.binaryType);this.onPacket(a)};a.prototype.onPacket=function(a){this.emit("packet",a)};a.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(b,
h,e){(function(a){var c=b("xmlhttprequest"),g=b("./polling-xhr"),h=b("./polling-jsonp"),k=b("./websocket");e.polling=function(b){var d=!1,e=!1,k=!1!==b.jsonp;a.location&&(e="https:"==location.protocol,(d=location.port)||(d=e?443:80),d=b.hostname!=location.hostname||d!=b.port,e=b.secure!=e);b.xdomain=d;b.xscheme=e;if("open"in new c(b)&&!b.forceJSONP)return new g(b);if(!k)throw Error("JSONP disabled");return new h(b)};e.websocket=k}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(b,h,e){(function(a){function c(){}function g(b){e.call(this,b);this.query=this.query||{};r||(a.___eio||(a.___eio=[]),r=a.___eio);this.index=r.length;var d=this;r.push(function(a){d.onData(a)});this.query.j=this.index;a.document&&a.addEventListener&&a.addEventListener("beforeunload",function(){d.script&&(d.script.onerror=c)},!1)}var e=b("./polling"),k=b("component-inherit");h.exports=g;var n=/\n/g,
q=/\\n/g,r;k(g,e);g.prototype.supportsBinary=!1;g.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null);e.prototype.doClose.call(this)};g.prototype.doPoll=function(){var a=this,c=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);c.async=!0;c.src=this.uri();c.onerror=function(c){a.onError("jsonp poll error",
c)};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(c,b);this.script=c;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};g.prototype.doWrite=function(a,c){function b(){d();c()}function d(){if(g.iframe)try{g.form.removeChild(g.iframe)}catch(a){g.onError("jsonp polling iframe removal error",a)}try{m=document.createElement('\x3ciframe src\x3d"javascript:0" name\x3d"'+
g.iframeId+'"\x3e')}catch(c){m=document.createElement("iframe"),m.name=g.iframeId,m.src="javascript:0"}m.id=g.iframeId;g.form.appendChild(m);g.iframe=m}var g=this;if(!this.form){var e=document.createElement("form"),k=document.createElement("textarea"),h=this.iframeId="eio_iframe_"+this.index,m;e.className="socketio";e.style.position="absolute";e.style.top="-1000px";e.style.left="-1000px";e.target=h;e.method="POST";e.setAttribute("accept-charset","utf-8");k.name="d";e.appendChild(k);document.body.appendChild(e);
this.form=e;this.area=k}this.form.action=this.uri();d();a=a.replace(q,"\\\n");this.area.value=a.replace(n,"\\n");try{this.form.submit()}catch(r){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==g.iframe.readyState&&b()}:this.iframe.onload=b}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":18,"component-inherit":21}],17:[function(b,h,e){(function(a){function c(){}function g(c){q.call(this,c);if(a.location){var b="https:"==
location.protocol,d=location.port;d||(d=b?443:80);this.xd=c.hostname!=a.location.hostname||d!=c.port;this.xs=c.secure!=b}}function e(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=
a.rejectUnauthorized;this.create()}function k(){for(var a in e.requests)e.requests.hasOwnProperty(a)&&e.requests[a].abort()}var n=b("xmlhttprequest"),q=b("./polling"),r=b("component-emitter"),t=b("component-inherit"),s=b("debug")("engine.io-client:polling-xhr");h.exports=g;h.exports.Request=e;t(g,q);g.prototype.supportsBinary=!0;g.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;
a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;return new e(a)};g.prototype.doWrite=function(a,c){var b=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),d=this;b.on("success",c);b.on("error",function(a){d.onError("xhr post error",a)});this.sendXhr=b};g.prototype.doPoll=function(){s("xhr poll");var a=this.request(),c=this;a.on("data",function(a){c.onData(a)});a.on("error",
function(a){c.onError("xhr poll error",a)});this.pollXhr=a};r(e.prototype);e.prototype.create=function(){var c={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;var b=this.xhr=new n(c),d=this;try{s("xhr open %s: %s",this.method,this.uri);b.open(this.method,this.uri,this.async);this.supportsBinary&&(b.responseType="arraybuffer");
if("POST"==this.method)try{this.isBinary?b.setRequestHeader("Content-type","application/octet-stream"):b.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8")}catch(g){}"withCredentials"in b&&(b.withCredentials=!0);this.hasXDR()?(b.onload=function(){d.onLoad()},b.onerror=function(){d.onError(b.responseText)}):b.onreadystatechange=function(){if(4==b.readyState)if(200==b.status||1223==b.status)d.onLoad();else setTimeout(function(){d.onError(b.status)},0)};s("xhr data %s",this.data);b.send(this.data)}catch(k){setTimeout(function(){d.onError(k)},
0);return}a.document&&(this.index=e.requestsCount++,e.requests[this.index]=this)};e.prototype.onSuccess=function(){this.emit("success");this.cleanup()};e.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};e.prototype.onError=function(a){this.emit("error",a);this.cleanup(!0)};e.prototype.cleanup=function(b){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c;if(b)try{this.xhr.abort()}catch(d){}a.document&&
delete e.requests[this.index];this.xhr=null}};e.prototype.onLoad=function(){var a;try{var c;try{c=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(b){}a="application/octet-stream"===c?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(d){this.onError(d)}if(null!=a)this.onData(a)};e.prototype.hasXDR=function(){return"undefined"!==typeof a.XDomainRequest&&!this.xs&&this.enablesXDR};e.prototype.abort=function(){this.cleanup()};a.document&&(e.requestsCount=0,e.requests=
{},a.attachEvent?a.attachEvent("onunload",k):a.addEventListener&&a.addEventListener("beforeunload",k,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(b,h,e){function a(a){var b=a&&a.forceBase64;if(!n||b)this.supportsBinary=!1;c.call(this,a)}var c=b("../transport"),g=b("parseqs"),m=b("engine.io-parser");e=b("component-inherit");var k=b("debug")("engine.io-client:polling");
h.exports=a;var n=null!=(new (b("xmlhttprequest"))({xdomain:!1})).responseType;e(a,c);a.prototype.name="polling";a.prototype.doOpen=function(){this.poll()};a.prototype.pause=function(a){function c(){k("paused");b.readyState="paused";a()}var b=this;this.readyState="pausing";if(this.polling||!this.writable){var d=0;this.polling&&(k("we are currently polling - waiting to pause"),d++,this.once("pollComplete",function(){k("pre-pause polling complete");--d||c()}));this.writable||(k("we are currently writing - waiting to pause"),
d++,this.once("drain",function(){k("pre-pause writing complete");--d||c()}))}else c()};a.prototype.poll=function(){k("polling");this.polling=!0;this.doPoll();this.emit("poll")};a.prototype.onData=function(a){var c=this;k("polling got data %s",a);m.decodePayload(a,this.socket.binaryType,function(a,b,d){if("opening"==c.readyState)c.onOpen();if("close"==a.type)return c.onClose(),!1;c.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():
k('ignoring poll - transport state "%s"',this.readyState))};a.prototype.doClose=function(){function a(){k("writing close packet");c.write([{type:"close"}])}var c=this;"open"==this.readyState?(k("transport open - closing"),a()):(k("transport not open - deferring close"),this.once("open",a))};a.prototype.write=function(a){var c=this;this.writable=!1;var b=function(){c.writable=!0;c.emit("drain")},c=this;m.encodePayload(a,this.supportsBinary,function(a){c.doWrite(a,b)})};a.prototype.uri=function(){var a=
this.query||{},b=this.secure?"https":"http",d="";!1!==this.timestampRequests&&(a[this.timestampParam]=+new Date+"-"+c.timestamps++);this.supportsBinary||a.sid||(a.b64=1);a=g.encode(a);this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(d=":"+this.port);a.length&&(a="?"+a);return b+"://"+this.hostname+d+this.path+a}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,xmlhttprequest:20}],19:[function(b,h,e){function a(a){a&&a.forceBase64&&(this.supportsBinary=
!1);c.call(this,a)}var c=b("../transport"),g=b("engine.io-parser"),m=b("parseqs");e=b("component-inherit");var k=b("debug")("engine.io-client:websocket"),n=b("ws");h.exports=a;e(a,c);a.prototype.name="websocket";a.prototype.supportsBinary=!0;a.prototype.doOpen=function(){if(this.check()){var a=this.uri(),c={agent:this.agent};c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;this.ws=new n(a,void 0,
c);void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};a.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=function(c){a.onData(c.data)};this.ws.onerror=function(c){a.onError("websocket error",c)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(a.prototype.onData=function(a){var b=this;setTimeout(function(){c.prototype.onData.call(b,
a)},0)});a.prototype.write=function(a){var c=this;this.writable=!1;for(var b=0,d=a.length;b<d;b++)g.encodePacket(a[b],this.supportsBinary,function(a){try{c.ws.send(a)}catch(b){k("websocket closed before onclose event")}});setTimeout(function(){c.writable=!0;c.emit("drain")},0)};a.prototype.onClose=function(){c.prototype.onClose.call(this)};a.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};a.prototype.uri=function(){var a=this.query||{},c=this.secure?"wss":"ws",b="";this.port&&
("wss"==c&&443!=this.port||"ws"==c&&80!=this.port)&&(b=":"+this.port);this.timestampRequests&&(a[this.timestampParam]=+new Date);this.supportsBinary||(a.b64=1);a=m.encode(a);a.length&&(a="?"+a);return c+"://"+this.hostname+b+this.path+a};a.prototype.check=function(){return!!n&&!("__initialize"in n&&this.name===a.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,ws:35}],20:[function(b,h,e){var a=b("has-cors");h.exports=function(c){var b=c.xdomain,
d=c.xscheme;c=c.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!b||a))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!d&&c)return new XDomainRequest}catch(h){}if(!b)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(q){}}},{"has-cors":38}],21:[function(b,h,e){h.exports=function(a,c){var b=function(){};b.prototype=c.prototype;a.prototype=new b;a.prototype.constructor=a}},{}],22:[function(b,h,e){function a(){var a;try{a=localStorage.debug}catch(b){}return a}
e=h.exports=b("./debug");e.log=function(){return"object"==("undefined"===typeof console?"undefined":_typeof(console))&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)};e.formatArgs=function(){var a=arguments,b=this.useColors;a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+e.humanize(this.diff);if(!b)return a;var b="color: "+this.color,a=[a[0],b,"color: inherit"].concat(Array.prototype.slice.call(a,1)),d=0,k=0;a[0].replace(/%[a-z%]/g,
function(a){"%%"!==a&&(d++,"%c"===a&&(k=d))});a.splice(k,0,b);return a};e.save=function(a){try{null==a?localStorage.removeItem("debug"):localStorage.debug=a}catch(b){}};e.load=a;e.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};e.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");
e.formatters.j=function(a){return JSON.stringify(a)};e.enable(a())},{"./debug":23}],23:[function(b,h,e){e=h.exports=function(b){function d(){}function k(){var b=+new Date;k.diff=b-(c||b);k.prev=c;c=k.curr=b;null==k.useColors&&(k.useColors=e.useColors());null==k.color&&k.useColors&&(k.color=e.colors[a++%e.colors.length]);var d=Array.prototype.slice.call(arguments);d[0]=e.coerce(d[0]);"string"!==typeof d[0]&&(d=["%o"].concat(d));var g=0;d[0]=d[0].replace(/%([a-z%])/g,function(a,c){if("%%"===a)return a;
g++;var b=e.formatters[c];"function"===typeof b&&(a=b.call(k,d[g]),d.splice(g,1),g--);return a});"function"===typeof e.formatArgs&&(d=e.formatArgs.apply(k,d));(k.log||e.log||console.log.bind(console)).apply(k,d)}d.enabled=!1;k.enabled=!0;var h=e.enabled(b)?k:d;h.namespace=b;return h};e.coerce=function(a){return _instanceof(a,Error)?a.stack||a.message:a};e.disable=function(){e.enable("")};e.enable=function(a){e.save(a);for(var c=(a||"").split(/[\s,]+/),b=c.length,d=0;d<b;d++)c[d]&&(a=c[d].replace(/\*/g,
".*?"),"-"===a[0]?e.skips.push(new RegExp("^"+a.substr(1)+"$")):e.names.push(new RegExp("^"+a+"$")))};e.enabled=function(a){var c,b;c=0;for(b=e.skips.length;c<b;c++)if(e.skips[c].test(a))return!1;c=0;for(b=e.names.length;c<b;c++)if(e.names[c].test(a))return!0;return!1};e.humanize=b("ms");e.names=[];e.skips=[];e.formatters={};var a=0,c},{ms:24}],24:[function(b,h,e){function a(a){if(a=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(a)){var c=parseFloat(a[1]);switch((a[2]||
"ms").toLowerCase()){case "years":case "year":case "y":return 315576E5*c;case "days":case "day":case "d":return 864E5*c;case "hours":case "hour":case "h":return 36E5*c;case "minutes":case "minute":case "m":return 6E4*c;case "seconds":case "second":case "s":return 1E3*c;case "ms":return c}}}function c(a,c,b){if(!(a<c))return a<1.5*c?Math.floor(a/c)+" "+b:Math.ceil(a/c)+" "+b+"s"}h.exports=function(b,d){d=d||{};return"string"==typeof b?a(b):d["long"]?c(b,864E5,"day")||c(b,36E5,"hour")||c(b,6E4,"minute")||
c(b,1E3,"second")||b+" ms":864E5<=b?Math.round(b/864E5)+"d":36E5<=b?Math.round(b/36E5)+"h":6E4<=b?Math.round(b/6E4)+"m":1E3<=b?Math.round(b/1E3)+"s":b+"ms"}},{}],25:[function(b,h,e){(function(a){function c(a,c,b){if(!c)return e.encodeBase64Packet(a,b);var d=new FileReader;d.onload=function(){a.data=d.result;e.encodePacket(a,c,!0,b)};return d.readAsArrayBuffer(a.data)}function g(a,c,b){var d=Array(a.length);b=r(a.length,b);for(var g=function(a,b,g){c(b,function(c,b){d[a]=b;g(c,d)})},e=0;e<a.length;e++)g(e,
a[e],b)}var h=b("./keys"),k=b("has-binary"),n=b("arraybuffer.slice"),q=b("base64-arraybuffer"),r=b("after"),t=b("utf8"),s=navigator.userAgent.match(/Android/i),u=/PhantomJS/i.test(navigator.userAgent),v=s||u;e.protocol=3;var x=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},w=h(x),y={type:"error",data:"parser error"},z=b("blob");e.encodePacket=function(b,d,g,k){"function"==typeof d&&(k=d,d=!1);"function"==typeof g&&(k=g,g=null);var h=void 0===b.data?void 0:b.data.buffer||b.data;
if(a.ArrayBuffer&&_instanceof(h,ArrayBuffer)){if(d){g=b.data;d=new Uint8Array(g);g=new Uint8Array(1+g.byteLength);g[0]=x[b.type];for(b=0;b<d.length;b++)g[b+1]=d[b];b=k(g.buffer)}else b=e.encodeBase64Packet(b,k);return b}if(z&&_instanceof(h,a.Blob))return d?v?b=c(b,d,k):(d=new Uint8Array(1),d[0]=x[b.type],b=new z([d.buffer,b.data]),b=k(b)):b=e.encodeBase64Packet(b,k),b;if(h&&h.base64)return k("b"+e.packets[b.type]+b.data.data);d=x[b.type];void 0!==b.data&&(d+=g?t.encode(String(b.data)):String(b.data));
return k(""+d)};e.encodeBase64Packet=function(c,b){var d="b"+e.packets[c.type];if(z&&_instanceof(c.data,z)){var g=new FileReader;g.onload=function(){var a=g.result.split(",")[1];b(d+a)};return g.readAsDataURL(c.data)}var k;try{k=String.fromCharCode.apply(null,new Uint8Array(c.data))}catch(h){k=new Uint8Array(c.data);for(var m=Array(k.length),n=0;n<k.length;n++)m[n]=k[n];k=String.fromCharCode.apply(null,m)}d+=a.btoa(k);return b(d)};e.decodePacket=function(a,c,b){if("string"==typeof a||void 0===a){if("b"==
a.charAt(0))return e.decodeBase64Packet(a.substr(1),c);if(b)try{a=t.decode(a)}catch(d){return y}b=a.charAt(0);return Number(b)==b&&w[b]?1<a.length?{type:w[b],data:a.substring(1)}:{type:w[b]}:y}b=(new Uint8Array(a))[0];a=n(a,1);z&&"blob"===c&&(a=new z([a]));return{type:w[b],data:a}};e.decodeBase64Packet=function(c,b){var d=w[c.charAt(0)];if(!a.ArrayBuffer)return{type:d,data:{base64:!0,data:c.substr(1)}};var g=q.decode(c.substr(1));"blob"===b&&z&&(g=new z([g]));return{type:d,data:g}};e.encodePayload=
function(a,c,b){"function"==typeof c&&(b=c,c=null);var d=k(a);if(c&&d)return z&&!v?e.encodePayloadAsBlob(a,b):e.encodePayloadAsArrayBuffer(a,b);if(!a.length)return b("0:");g(a,function(a,b){e.encodePacket(a,d?c:!1,!0,function(a){b(null,a.length+":"+a)})},function(a,c){return b(c.join(""))})};e.decodePayload=function(a,c,b){if("string"!=typeof a)return e.decodePayloadAsBinary(a,c,b);"function"===typeof c&&(b=c,c=null);var d;if(""==a)return b(y,0,1);d="";for(var g,k,h=0,m=a.length;h<m;h++)if(k=a.charAt(h),
":"!=k)d+=k;else{if(""==d||d!=(g=Number(d)))return b(y,0,1);k=a.substr(h+1,g);if(d!=k.length)return b(y,0,1);if(k.length){d=e.decodePacket(k,c,!0);if(y.type==d.type&&y.data==d.data)return b(y,0,1);if(!1===b(d,h+g,m))return}h+=g;d=""}if(""!=d)return b(y,0,1)};e.encodePayloadAsArrayBuffer=function(a,c){if(!a.length)return c(new ArrayBuffer(0));g(a,function(a,c){e.encodePacket(a,!0,!0,function(a){return c(null,a)})},function(a,b){var d=b.reduce(function(a,c){var b;b="string"===typeof c?c.length:c.byteLength;
return a+b.toString().length+b+2},0),g=new Uint8Array(d),e=0;b.forEach(function(a){var c="string"===typeof a,b=a;if(c){for(var b=new Uint8Array(a.length),d=0;d<a.length;d++)b[d]=a.charCodeAt(d);b=b.buffer}c?g[e++]=0:g[e++]=1;a=b.byteLength.toString();for(d=0;d<a.length;d++)g[e++]=parseInt(a[d]);g[e++]=255;b=new Uint8Array(b);for(d=0;d<b.length;d++)g[e++]=b[d]});return c(g.buffer)})};e.encodePayloadAsBlob=function(a,c){g(a,function(a,c){e.encodePacket(a,!0,!0,function(a){var b=new Uint8Array(1);b[0]=
1;if("string"===typeof a){for(var d=new Uint8Array(a.length),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);a=d.buffer;b[0]=0}for(var d=(_instanceof(a,ArrayBuffer)?a.byteLength:a.size).toString(),e=new Uint8Array(d.length+1),g=0;g<d.length;g++)e[g]=parseInt(d[g]);e[d.length]=255;z&&(a=new z([b.buffer,e.buffer,a]),c(null,a))})},function(a,b){return c(new z(b))})};e.decodePayloadAsBinary=function(a,c,b){"function"===typeof c&&(b=c,c=null);for(var d=[],g=!1;0<a.byteLength;){for(var k=new Uint8Array(a),h=0===
k[0],m="",z=1;255!=k[z];z++){if(310<m.length){g=!0;break}m+=k[z]}if(g)return b(y,0,1);a=n(a,2+m.length);m=parseInt(m);k=n(a,0,m);if(h)try{k=String.fromCharCode.apply(null,new Uint8Array(k))}catch(q){for(h=new Uint8Array(k),k="",z=0;z<h.length;z++)k+=String.fromCharCode(h[z])}d.push(k);a=n(a,m)}var r=d.length;d.forEach(function(a,d){b(e.decodePacket(a,c,!0),d,r)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,
blob:30,"has-binary":36,utf8:31}],26:[function(b,h,e){h.exports=Object.keys||function(a){var c=[],b=Object.prototype.hasOwnProperty,d;for(d in a)b.call(a,d)&&c.push(d);return c}},{}],27:[function(b,h,e){function a(){}h.exports=function(c,b,d){function e(a,c){if(0>=e.count)throw Error("after called too many times");--e.count;a?(h=!0,b(a),b=d):0!==e.count||h||b(null,c)}var h=!1;d=d||a;e.count=c;return 0===c?b():e}},{}],28:[function(b,h,e){h.exports=function(a,c,b){var d=a.byteLength;c=c||0;b=b||d;if(a.slice)return a.slice(c,
b);0>c&&(c+=d);0>b&&(b+=d);b>d&&(b=d);if(c>=d||c>=b||0===d)return new ArrayBuffer(0);a=new Uint8Array(a);for(var d=new Uint8Array(b-c),e=0;c<b;c++,e++)d[e]=a[c];return d.buffer}},{}],29:[function(b,h,e){(function(a){e.encode=function(c){c=new Uint8Array(c);var b,d=c.length,e="";for(b=0;b<d;b+=3)e+=a[c[b]>>2],e+=a[(c[b]&3)<<4|c[b+1]>>4],e+=a[(c[b+1]&15)<<2|c[b+2]>>6],e+=a[c[b+2]&63];2===d%3?e=e.substring(0,e.length-1)+"\x3d":1===d%3&&(e=e.substring(0,e.length-2)+"\x3d\x3d");return e};e.decode=function(c){var b=
.75*c.length,d=c.length,e=0,h,q,r,t;"\x3d"===c[c.length-1]&&(b--,"\x3d"===c[c.length-2]&&b--);for(var s=new ArrayBuffer(b),u=new Uint8Array(s),b=0;b<d;b+=4)h=a.indexOf(c[b]),q=a.indexOf(c[b+1]),r=a.indexOf(c[b+2]),t=a.indexOf(c[b+3]),u[e++]=h<<2|q>>4,u[e++]=(q&15)<<4|r>>2,u[e++]=(r&3)<<6|t&63;return s}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],30:[function(b,h,e){(function(a){function c(a){for(var c=0;c<a.length;c++){var b=a[c];if(_instanceof(b.buffer,ArrayBuffer)){var d=
b.buffer;if(b.byteLength!==d.byteLength){var g=new Uint8Array(b.byteLength);g.set(new Uint8Array(d,b.byteOffset,b.byteLength));d=g.buffer}a[c]=d}}}function b(a,d){d=d||{};var g=new e;c(a);for(var h=0;h<a.length;h++)g.append(a[h]);return d.type?g.getBlob(d.type):g.getBlob()}function d(a,b){c(a);return new Blob(a,b||{})}var e=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,n;try{n=2===(new Blob(["hi"])).size}catch(q){n=!1}var r;if(r=n)try{r=2===(new Blob([new Uint8Array([1,2])])).size}catch(t){r=
!1}var s=e&&e.prototype.append&&e.prototype.getBlob;a=n?r?a.Blob:d:s?b:void 0;h.exports=a}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],31:[function(b,h,e){(function(a){(function(c){function b(a){for(var c=[],d=0,g=a.length,e,k;d<g;)e=a.charCodeAt(d++),55296<=e&&56319>=e&&d<g?(k=a.charCodeAt(d++),56320==(k&64512)?c.push(((e&1023)<<10)+(k&1023)+65536):(c.push(e),d--)):c.push(e);return c}function d(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+
" is not a scalar value");}function k(){if(x>=v)throw Error("Invalid byte index");var a=u[x]&255;x++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function n(){var a,c,b,g;if(x>v)throw Error("Invalid byte index");if(x==v)return!1;a=u[x]&255;x++;if(0==(a&128))return a;if(192==(a&224)){c=k();a=(a&31)<<6|c;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){c=k();b=k();a=(a&15)<<12|c<<6|b;if(2048<=a)return d(a),a;throw Error("Invalid continuation byte");
}if(240==(a&248)&&(c=k(),b=k(),g=k(),a=(a&15)<<18|c<<12|b<<6|g,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var q="object"==_typeof(e)&&e,r="object"==_typeof(h)&&h&&h.exports==q&&h,t="object"==_typeof(a)&&a;if(t.global===t||t.window===t)c=t;var s=String.fromCharCode,u,v,x,t={version:"2.0.0",encode:function(a){a=b(a);for(var c=a.length,e=-1,k,h="";++e<c;){k=a[e];if(0==(k&4294967168))k=s(k);else{var n="";0==(k&4294965248)?n=s(k>>6&31|192):0==(k&4294901760)?(d(k),n=s(k>>12&15|
224),n+=s(k>>6&63|128)):0==(k&4292870144)&&(n=s(k>>18&7|240),n+=s(k>>12&63|128),n+=s(k>>6&63|128));k=n+=s(k&63|128)}h+=k}return h},decode:function(a){u=b(a);v=u.length;x=0;a=[];for(var c;!1!==(c=n());)a.push(c);c=a.length;for(var d=-1,e,k="";++d<c;)e=a[d],65535<e&&(e-=65536,k+=s(e>>>10&1023|55296),e=56320|e&1023),k+=s(e);return k}};if(q&&!q.nodeType)if(r)r.exports=t;else{c={}.hasOwnProperty;for(var w in t)c.call(t,w)&&(q[w]=t[w])}else c.utf8=t})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],32:[function(b,h,e){(function(a){var c=/^[\],:{}\s]*$/,b=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,e=/(?:^|:|,)(?:\s*\[)+/g,n=/^\s+/,q=/\s+$/;h.exports=function(h){if("string"!=typeof h||!h)return null;h=h.replace(n,"").replace(q,"");if(a.JSON&&JSON.parse)return JSON.parse(h);if(c.test(h.replace(b,"@").replace(d,"]").replace(e,"")))return(new Function("return "+h))()}}).call(this,"undefined"!==typeof self?
self:"undefined"!==typeof window?window:{})},{}],33:[function(b,h,e){e.encode=function(a){var c="",b;for(b in a)a.hasOwnProperty(b)&&(c.length&&(c+="\x26"),c+=encodeURIComponent(b)+"\x3d"+encodeURIComponent(a[b]));return c};e.decode=function(a){var c={};a=a.split("\x26");for(var b=0,d=a.length;b<d;b++){var e=a[b].split("\x3d");c[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return c}},{}],34:[function(b,h,e){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");h.exports=function(b){var d=b,e=b.indexOf("["),h=b.indexOf("]");-1!=e&&-1!=h&&(b=b.substring(0,e)+b.substring(e,h).replace(/:/g,";")+b.substring(h,b.length));b=a.exec(b||"");for(var q={},r=14;r--;)q[c[r]]=b[r]||"";-1!=e&&-1!=h&&(q.source=d,q.host=q.host.substring(1,q.host.length-1).replace(/;/g,":"),q.authority=q.authority.replace("[","").replace("]","").replace(/;/g,":"),q.ipv6uri=
!0);return q}},{}],35:[function(b,h,e){function a(a,b,d){return b?new c(a,b):new c(a)}b=function(){return this}();var c=b.WebSocket||b.MozWebSocket;h.exports=c?a:null;c&&(a.prototype=c.prototype)},{}],36:[function(b,h,e){(function(a){var c=b("isarray");h.exports=function(b){function d(b){if(!b)return!1;if(a.Buffer&&a.Buffer.isBuffer(b)||a.ArrayBuffer&&_instanceof(b,ArrayBuffer)||a.Blob&&_instanceof(b,Blob)||a.File&&_instanceof(b,File))return!0;if(c(b))for(var g=0;g<b.length;g++){if(d(b[g]))return!0}else if(b&&
"object"==_typeof(b))for(g in b.toJSON&&(b=b.toJSON()),b)if(Object.prototype.hasOwnProperty.call(b,g)&&d(b[g]))return!0;return!1}return d(b)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:37}],37:[function(b,h,e){h.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],38:[function(b,h,e){b=b("global");try{h.exports="XMLHttpRequest"in b&&"withCredentials"in new b.XMLHttpRequest}catch(a){h.exports=!1}},{global:39}],
39:[function(b,h,e){h.exports=function(){return this}()},{}],40:[function(b,h,e){var a=[].indexOf;h.exports=function(c,b){if(a)return c.indexOf(b);for(var d=0;d<c.length;++d)if(c[d]===b)return d;return-1}},{}],41:[function(b,h,e){var a=Object.prototype.hasOwnProperty;e.keys=Object.keys||function(c){var b=[],d;for(d in c)a.call(c,d)&&b.push(d);return b};e.values=function(c){var b=[],d;for(d in c)a.call(c,d)&&b.push(c[d]);return b};e.merge=function(c,b){for(var d in b)a.call(b,d)&&(c[d]=b[d]);return c};
e.length=function(a){return e.keys(a).length};e.isEmpty=function(a){return 0==e.length(a)}},{}],42:[function(b,h,e){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");h.exports=function(b){b=a.exec(b||
"");for(var d={},e=14;e--;)d[c[e]]=b[e]||"";return d}},{}],43:[function(b,h,e){(function(a){var c=b("isarray"),g=b("./is-buffer");e.deconstructPacket=function(a){function b(a){if(!a)return a;if(g(a)){var e={_placeholder:!0,num:d.length};d.push(a);return e}if(c(a)){for(var e=Array(a.length),h=0;h<a.length;h++)e[h]=b(a[h]);return e}if("object"==_typeof(a)&&!_instanceof(a,Date)){e={};for(h in a)e[h]=b(a[h]);return e}return a}var d=[];a.data=b(a.data);a.attachments=d.length;return{packet:a,buffers:d}};
e.reconstructPacket=function(a,b){function d(a){if(a&&a._placeholder)return b[a.num];if(c(a))for(var g=0;g<a.length;g++)a[g]=d(a[g]);else if(a&&"object"==_typeof(a))for(g in a)a[g]=d(a[g]);return a}a.data=d(a.data);a.attachments=void 0;return a};e.removeBlobs=function(b,d){function e(b,m,u){if(!b)return b;if(a.Blob&&_instanceof(b,Blob)||a.File&&_instanceof(b,File)){h++;var v=new FileReader;v.onload=function(){u?u[m]=this.result:r=this.result;--h||d(r)};v.readAsArrayBuffer(b)}else if(c(b))for(v=0;v<
b.length;v++)e(b[v],v,b);else if(b&&"object"==_typeof(b)&&!g(b))for(v in b)e(b[v],v,b)}var h=0,r=b;e(r);h||d(r)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./is-buffer":45,isarray:46}],44:[function(b,h,e){function a(){}function c(a){var c,b=!1;c=""+a.type;if(e.BINARY_EVENT==a.type||e.BINARY_ACK==a.type)c+=a.attachments,c+="-";a.nsp&&"/"!=a.nsp&&(b=!0,c+=a.nsp);null!=a.id&&(b&&(c+=",",b=!1),c+=a.id);null!=a.data&&(b&&(c+=","),c+=q.stringify(a.data));n("encoded %j as %s",
a,c);return c}function g(a,b){r.removeBlobs(a,function(a){var d=r.deconstructPacket(a);a=c(d.packet);d=d.buffers;d.unshift(a);b(d)})}function m(){this.reconstructor=null}function k(a){this.reconPack=a;this.buffers=[]}var n=b("debug")("socket.io-parser"),q=b("json3");b("isarray");h=b("component-emitter");var r=b("./binary"),t=b("./is-buffer");e.protocol=4;e.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");e.CONNECT=0;e.DISCONNECT=1;e.EVENT=2;e.ACK=3;e.ERROR=4;e.BINARY_EVENT=
5;e.BINARY_ACK=6;e.Encoder=a;e.Decoder=m;a.prototype.encode=function(a,b){n("encoding packet %j",a);if(e.BINARY_EVENT==a.type||e.BINARY_ACK==a.type)g(a,b);else{var d=c(a);b([d])}};h(m.prototype);m.prototype.add=function(a){if("string"==typeof a){a:{var c={},b=0;c.type=Number(a.charAt(0));if(null==e.types[c.type])a={type:e.ERROR,data:"parser error"};else{if(e.BINARY_EVENT==c.type||e.BINARY_ACK==c.type){for(var d="";"-"!=a.charAt(++b)&&(d+=a.charAt(b),b!=a.length););if(d!=Number(d)||"-"!=a.charAt(b))throw Error("Illegal attachments");
c.attachments=Number(d)}if("/"==a.charAt(b+1))for(c.nsp="";++b;){d=a.charAt(b);if(","==d)break;c.nsp+=d;if(b==a.length)break}else c.nsp="/";d=a.charAt(b+1);if(""!==d&&Number(d)==d){for(c.id="";++b;){d=a.charAt(b);if(null==d||Number(d)!=d){--b;break}c.id+=a.charAt(b);if(b==a.length)break}c.id=Number(c.id)}if(a.charAt(++b))try{c.data=q.parse(a.substr(b))}catch(g){a={type:e.ERROR,data:"parser error"};break a}n("decoded %s as %j",a,c);a=c}}e.BINARY_EVENT==a.type||e.BINARY_ACK==a.type?(this.reconstructor=
new k(a),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else if(t(a)||a.base64)if(this.reconstructor){if(a=this.reconstructor.takeBinaryData(a))this.reconstructor=null,this.emit("decoded",a)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+a);};m.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};k.prototype.takeBinaryData=function(a){this.buffers.push(a);
return this.buffers.length==this.reconPack.attachments?(a=r.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};k.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":43,"./is-buffer":45,"component-emitter":9,debug:10,isarray:46,json3:47}],45:[function(b,h,e){(function(a){h.exports=function(c){return a.Buffer&&a.Buffer.isBuffer(c)||a.ArrayBuffer&&_instanceof(c,ArrayBuffer)}}).call(this,"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],46:[function(b,h,e){h.exports=b(37)},{}],47:[function(b,h,e){(function(a){function c(a){if(c[a]!==h)return c[a];var d;if("bug-string-char-index"==a)d="a"!="a"[0];else if("json"==a)d=c("json-stringify")&&c("json-parse");else{var e;if("json-stringify"==a){d=r.stringify;var k="function"==typeof d&&t;if(k){(e=function(){return 1}).toJSON=e;try{k="0"===d(0)&&"0"===d(new Number)&&'""'==d(new String)&&d(b)===h&&d(h)===h&&d()===h&&"1"===d(e)&&"[1]"==d([e])&&"[null]"==d([h])&&
"null"==d(null)&&"[null,null,null]"==d([h,b,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==d({a:[e,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===d(null,e)&&"[\n 1,\n 2\n]"==d([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==d(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==d(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==d(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==d(new Date(-1))}catch(m){k=!1}}d=k}if("json-parse"==a){d=r.parse;if("function"==typeof d)try{if(0===d("0")&&
!d(!1)){e=d('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var z=5==e.a.length&&1===e.a[0];if(z){try{z=!d('"\t"')}catch(q){}if(z)try{z=1!==d("01")}catch(F){}if(z)try{z=1!==d("1.")}catch(K){}}}}catch(s){z=!1}d=z}}return c[a]=!!d}var b={}.toString,d,k,h,q="object"==("undefined"===typeof JSON?"undefined":_typeof(JSON))&&JSON,r="object"==_typeof(e)&&e&&!e.nodeType&&e;r&&q?(r.stringify=q.stringify,r.parse=q.parse):r=a.JSON=q||{};var t=new Date(-0xc782b5b800cec);try{t=-109252==t.getUTCFullYear()&&
0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(s){}if(!c("json")){var u=c("bug-string-char-index");if(!t)var v=Math.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(a,c){return x[c]+365*(a-1970)+v((a-1969+(c=+(1<c)))/4)-v((a-1901+c)/100)+v((a-1601+c)/400)};(d={}.hasOwnProperty)||(d=function(a){var c={},e;(c.__proto__=null,c.__proto__={toString:1},c).toString!=b?d=function(a){var c=this.__proto__;
a=a in(this.__proto__=null,this);this.__proto__=c;return a}:(e=c.constructor,d=function(a){var c=(this.constructor||e).prototype;return a in this&&!(a in c&&this[a]===c[a])});c=null;return d.call(this,a)});var y={"boolean":1,number:1,string:1,undefined:1};k=function(a,c){var e=0,h,n,z;(h=function(){this.valueOf=0}).prototype.valueOf=0;n=new h;for(z in n)d.call(n,z)&&e++;h=n=null;e?k=2==e?function(a,c){var e={},k="[object Function]"==b.call(a),h;for(h in a)k&&"prototype"==h||d.call(e,h)||!(e[h]=1)||
!d.call(a,h)||c(h)}:function(a,c){var e="[object Function]"==b.call(a),k,h;for(k in a)e&&"prototype"==k||!d.call(a,k)||(h="constructor"===k)||c(k);(h||d.call(a,k="constructor"))&&c(k)}:(n="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),k=function(a,c){var e="[object Function]"==b.call(a),k,h;if(h=!e&&"function"!=typeof a.constructor)h=_typeof(a.hasOwnProperty),h="object"==h?!!a.hasOwnProperty:!y[h];h=h?a.hasOwnProperty:d;for(k in a)e&&"prototype"==
k||!h.call(a,k)||c(k);for(e=n.length;k=n[--e];h.call(a,k)&&c(k));});return k(a,c)};if(!c("json-stringify")){var z={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},F=function(a,c){return("000000"+(c||0)).slice(-a)},K=function(a){var c='"',b=0,d=a.length,g=10<d&&u,e;for(g&&(e=a.split(""));b<d;b++){var k=a.charCodeAt(b);switch(k){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=z[k];break;default:if(32>k){c+="\\u00"+F(2,k.toString(16));break}c+=g?e[b]:u?a.charAt(b):a[b]}}return c+
'"'},C=function va(a,c,e,z,q,r,t){var s,C,u,L,B,A,x,J,y;try{s=c[a]}catch(E){}if("object"==_typeof(s)&&s)if(C=b.call(s),"[object Date]"!=C||d.call(s,"toJSON"))"function"==typeof s.toJSON&&("[object Number]"!=C&&"[object String]"!=C&&"[object Array]"!=C||d.call(s,"toJSON"))&&(s=s.toJSON(a));else if(s>-1/0&&s<1/0){if(w){L=v(s/864E5);for(C=v(L/365.2425)+1970-1;w(C+1,0)<=L;C++);for(u=v((L-w(C,0))/30.42);w(C,u+1)<=L;u++);L=1+L-w(C,u);B=(s%864E5+864E5)%864E5;A=v(B/36E5)%24;x=v(B/6E4)%60;J=v(B/1E3)%60;B%=
1E3}else C=s.getUTCFullYear(),u=s.getUTCMonth(),L=s.getUTCDate(),A=s.getUTCHours(),x=s.getUTCMinutes(),J=s.getUTCSeconds(),B=s.getUTCMilliseconds();s=(0>=C||1E4<=C?(0>C?"-":"+")+F(6,0>C?-C:C):F(4,C))+"-"+F(2,u+1)+"-"+F(2,L)+"T"+F(2,A)+":"+F(2,x)+":"+F(2,J)+"."+F(3,B)+"Z"}else s=null;e&&(s=e.call(c,a,s));if(null===s)return"null";C=b.call(s);if("[object Boolean]"==C)return""+s;if("[object Number]"==C)return s>-1/0&&s<1/0?""+s:"null";if("[object String]"==C)return K(""+s);if("object"==_typeof(s)){for(a=
t.length;a--;)if(t[a]===s)throw TypeError();t.push(s);y=[];c=r;r+=q;if("[object Array]"==C){u=0;for(a=s.length;u<a;u++)C=va(u,s,e,z,q,r,t),y.push(C===h?"null":C);a=y.length?q?"[\n"+r+y.join(",\n"+r)+"\n"+c+"]":"["+y.join(",")+"]":"[]"}else k(z||s,function(a){var c=va(a,s,e,z,q,r,t);c!==h&&y.push(K(a)+":"+(q?" ":"")+c)}),a=y.length?q?"{\n"+r+y.join(",\n"+r)+"\n"+c+"}":"{"+y.join(",")+"}":"{}";t.pop();return a}};r.stringify=function(a,c,d){var e,k,h,m;if("function"==typeof c||"object"==_typeof(c)&&
c)if("[object Function]"==(m=b.call(c)))k=c;else if("[object Array]"==m){h={};for(var n=0,z=c.length,q;n<z;q=c[n++],(m=b.call(q),"[object String]"==m||"[object Number]"==m)&&(h[q]=1));}if(d)if("[object Number]"==(m=b.call(d))){if(0<(d-=d%1))for(e="",10<d&&(d=10);e.length<d;e+=" ");}else"[object String]"==m&&(e=10>=d.length?d:d.slice(0,10));return C("",(q={},q[""]=a,q),k,h,e,"",[])}}if(!c("json-parse")){var L=String.fromCharCode,A={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},
B,J,P=function(){B=J=null;throw SyntaxError();},M=function(){for(var a=J,c=a.length,b,d,g,e,k;B<c;)switch(k=a.charCodeAt(B),k){case 9:case 10:case 13:case 32:B++;break;case 123:case 125:case 91:case 93:case 58:case 44:return b=u?a.charAt(B):a[B],B++,b;case 34:b="@";for(B++;B<c;)if(k=a.charCodeAt(B),32>k)P();else if(92==k)switch(k=a.charCodeAt(++B),k){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:b+=A[k];B++;break;case 117:d=++B;for(g=B+4;B<g;B++)k=a.charCodeAt(B),48<=k&&57>=
k||97<=k&&102>=k||65<=k&&70>=k||P();b+=L("0x"+a.slice(d,B));break;default:P()}else{if(34==k)break;k=a.charCodeAt(B);for(d=B;32<=k&&92!=k&&34!=k;)k=a.charCodeAt(++B);b+=a.slice(d,B)}if(34==a.charCodeAt(B))return B++,b;P();default:d=B;45==k&&(e=!0,k=a.charCodeAt(++B));if(48<=k&&57>=k){for(48==k&&(k=a.charCodeAt(B+1),48<=k&&57>=k)&&P();B<c&&(k=a.charCodeAt(B),48<=k&&57>=k);B++);if(46==a.charCodeAt(B)){for(g=++B;g<c&&(k=a.charCodeAt(g),48<=k&&57>=k);g++);g==B&&P();B=g}k=a.charCodeAt(B);if(101==k||69==
k){k=a.charCodeAt(++B);43!=k&&45!=k||B++;for(g=B;g<c&&(k=a.charCodeAt(g),48<=k&&57>=k);g++);g==B&&P();B=g}return+a.slice(d,B)}e&&P();if("true"==a.slice(B,B+4))return B+=4,!0;if("false"==a.slice(B,B+5))return B+=5,!1;if("null"==a.slice(B,B+4))return B+=4,null;P()}return"$"},ia=function Ba(a){var c,b;"$"==a&&P();if("string"==typeof a){if("@"==(u?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(c=[];;b||(b=!0)){a=M();if("]"==a)break;b&&(","==a?(a=M(),"]"==a&&P()):P());","==a&&P();c.push(Ba(a))}return c}if("{"==
a){for(c={};;b||(b=!0)){a=M();if("}"==a)break;b&&(","==a?(a=M(),"}"==a&&P()):P());","!=a&&"string"==typeof a&&"@"==(u?a.charAt(0):a[0])&&":"==M()||P();c[a.slice(1)]=Ba(M())}return c}P()}return a},aa=function(a,c,b){b=E(a,c,b);b===h?delete a[c]:a[c]=b},E=function(a,c,d){var e=a[c],h;if("object"==_typeof(e)&&e)if("[object Array]"==b.call(e))for(h=e.length;h--;)aa(e,h,d);else k(e,function(a){aa(e,a,d)});return d.call(a,c,e)};r.parse=function(a,c){var d,e;B=0;J=""+a;d=ia(M());"$"!=M()&&P();B=J=null;return c&&
"[object Function]"==b.call(c)?E((e={},e[""]=d,e),"",c):d}}}})(this)},{}],48:[function(b,h,e){h.exports=function(a,c){for(var b=[],d=(c=c||0)||0;d<a.length;d++)b[d-c]=a[d];return b}},{}]},{},[1])(1)}()};return b}();"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);
!function(b,f){"object"==typeof exports&&"object"==typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):"object"==typeof exports?exports.Pusher=f():b.Pusher=f()}(this,function(){return function(b){function f(h){if(d[h])return d[h].exports;var e=d[h]={exports:{},id:h,loaded:!1};return b[h].call(e.exports,e,e.exports,f),e.loaded=!0,e.exports}var d={};return f.m=b,f.c=d,f.p="",f(0)}([function(b,f,d){f=d(1);b.exports=f["default"]},function(b,f,d){var h=d(2),e=d(9),a=d(24),
c=d(39),g=d(40),m=d(41),k=d(12),n=d(5),q=d(63),r=d(8),t=d(43),s=d(14);b=function(){function b(d,k){var f=this;if(null===d||void 0===d)throw"You must pass your app key when you instantiate Pusher.";if(k=k||{},!k.cluster&&!k.wsHost&&!k.httpHost){var y=s["default"].buildLogSuffix("javascriptQuickStart");r["default"].warn("You should always specify a cluster when connecting. "+y)}this.key=d;this.config=e.extend(q.getGlobalConfig(),k.cluster?q.getClusterConfig(k.cluster):{},k);this.channels=t["default"].createChannels();
this.global_emitter=new a["default"];this.sessionID=Math.floor(1E9*Math.random());this.timeline=new c["default"](this.key,this.sessionID,{cluster:this.config.cluster,features:b.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:g["default"].INFO,version:n["default"].VERSION});this.config.disableStats||(this.timelineSender=t["default"].createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+h["default"].TimelineTransport.name}));this.connection=t["default"].createConnectionManager(this.key,
e.extend({getStrategy:function(a){a=e.extend({},f.config,a);return m.build(h["default"].getDefaultStrategy(a),a)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()}));this.connection.bind("connected",function(){f.subscribeAll();f.timelineSender&&f.timelineSender.send(f.connection.isEncrypted())});this.connection.bind("message",function(a){var c=0===a.event.indexOf("pusher_internal:");
if(a.channel){var b=f.channel(a.channel);b&&b.handleEvent(a.event,a.data)}c||f.global_emitter.emit(a.event,a.data)});this.connection.bind("connecting",function(){f.channels.disconnect()});this.connection.bind("disconnected",function(){f.channels.disconnect()});this.connection.bind("error",function(a){r["default"].warn("Error",a)});b.instances.push(this);this.timeline.info({instances:b.instances.length});b.isReady&&this.connect()}return b.ready=function(){b.isReady=!0;for(var a=0,c=b.instances.length;a<
c;a++)b.instances[a].connect()},b.log=function(a){b.logToConsole&&window.console&&window.console.log&&window.console.log(a)},b.getClientFeatures=function(){return e.keys(e.filterObject({ws:h["default"].Transports.ws},function(a){return a.isSupported({})}))},b.prototype.channel=function(a){return this.channels.find(a)},b.prototype.allChannels=function(){return this.channels.all()},b.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var a=this.connection.isEncrypted(),
c=this.timelineSender;this.timelineSenderTimer=new k.PeriodicTimer(6E4,function(){c.send(a)})}},b.prototype.disconnect=function(){this.connection.disconnect();this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},b.prototype.bind=function(a,c,b){return this.global_emitter.bind(a,c,b),this},b.prototype.unbind=function(a,c,b){return this.global_emitter.unbind(a,c,b),this},b.prototype.bind_global=function(a){return this.global_emitter.bind_global(a),this},
b.prototype.unbind_global=function(a){return this.global_emitter.unbind_global(a),this},b.prototype.unbind_all=function(a){return this.global_emitter.unbind_all(),this},b.prototype.subscribeAll=function(){for(var a in this.channels.channels)this.channels.channels.hasOwnProperty(a)&&this.subscribe(a)},b.prototype.subscribe=function(a){a=this.channels.add(a,this);return a.subscriptionPending&&a.subscriptionCancelled?a.reinstateSubscription():a.subscriptionPending||"connected"!==this.connection.state||
a.subscribe(),a},b.prototype.unsubscribe=function(a){var c=this.channels.find(a);c&&c.subscriptionPending?c.cancelSubscription():(c=this.channels.remove(a),c&&"connected"===this.connection.state&&c.unsubscribe())},b.prototype.send_event=function(a,c,b){return this.connection.send_event(a,c,b)},b.prototype.isEncrypted=function(){return"https:"===h["default"].getProtocol()||Boolean(this.config.encrypted)},b.instances=[],b.isReady=!1,b.logToConsole=!1,b.Runtime=h["default"],b.ScriptReceivers=h["default"].ScriptReceivers,
b.DependenciesReceivers=h["default"].DependenciesReceivers,b.auth_callbacks=h["default"].auth_callbacks,b}();f.__esModule=!0;f["default"]=b;h["default"].setup(b)},function(b,f,d){var h=d(3),e=d(7),a=d(15),c=d(16),g=d(17);b=d(4);var m=d(18),k=d(19),n=d(26),q=d(27),r=d(28);d=d(29);d={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:b.ScriptReceivers,DependenciesReceivers:h.DependenciesReceivers,getDefaultStrategy:q["default"],Transports:k["default"],transportConnectionInitializer:r["default"],
HTTPFactory:d["default"],TimelineTransport:m["default"],getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(a){var c=this;window.Pusher=a;var b=function(){c.onDocumentBody(a.ready)};window.JSON?b():h.Dependencies.load("json2",{},b)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:e["default"],jsonp:a["default"]}},onDocumentBody:function(a){var c=
this;document.body?a():setTimeout(function(){c.onDocumentBody(a)},0)},createJSONPRequest:function(a,c){return new g["default"](a,c)},createScriptRequest:function(a){return new c["default"](a)},getLocalStorage:function(){try{return window.localStorage}catch(a){}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new (this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},
getNetwork:function(){return n.Network},createWebSocket:function(a){return new (this.getWebSocketAPI())(a)},createSocketRequest:function(a,c){if(this.isXHRSupported())return this.HTTPFactory.createXHR(a,c);if(this.isXDRSupported(0===c.indexOf("https:")))return this.HTTPFactory.createXDR(a,c);throw"Cross-origin HTTP requests are not supported";},isXHRSupported:function(){var a=this.getXHRAPI();return Boolean(a)&&void 0!==(new a).withCredentials},isXDRSupported:function(a){a=a?"https:":"http:";var c=
this.getProtocol();return Boolean(window.XDomainRequest)&&c===a},addUnloadListener:function(a){void 0!==window.addEventListener?window.addEventListener("unload",a,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",a)},removeUnloadListener:function(a){void 0!==window.addEventListener?window.removeEventListener("unload",a,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",a)}};f.__esModule=!0;f["default"]=d},function(b,f,d){b=d(4);var h=d(5);d=d(6);f.DependenciesReceivers=new b.ScriptReceiverFactory("_pusher_dependencies",
"Pusher.DependenciesReceivers");f.Dependencies=new d["default"]({cdn_http:h["default"].cdn_http,cdn_https:h["default"].cdn_https,version:h["default"].VERSION,suffix:h["default"].dependency_suffix,receivers:f.DependenciesReceivers})},function(b,f){var d=function(){function b(d,a){this.lastId=0;this.prefix=d;this.name=a}return b.prototype.create=function(b){this.lastId++;var a=this.lastId,c=this.prefix+a,d=this.name+"["+a+"]",f=!1,k=function(){f||(b.apply(null,arguments),f=!0)};return this[a]=k,{number:a,
id:c,name:d,callback:k}},b.prototype.remove=function(b){delete this[b.number]},b}();f.ScriptReceiverFactory=d;f.ScriptReceivers=new d("_pusher_script_","Pusher.ScriptReceivers")},function(b,f){f.__esModule=!0;f["default"]={VERSION:"4.2.2",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",
activity_timeout:12E4,pong_timeout:3E4,unavailable_timeout:1E4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:".min"}},function(b,f,d){var h=d(4),e=d(2);b=function(){function a(a){this.options=a;this.receivers=a.receivers||h.ScriptReceivers;this.loading={}}return a.prototype.load=function(a,b,d){var k=this;if(k.loading[a]&&0<k.loading[a].length)k.loading[a].push(d);else{k.loading[a]=[d];var f=e["default"].createScriptRequest(k.getPath(a,b)),h=k.receivers.create(function(b){if(k.receivers.remove(h),
k.loading[a]){var d=k.loading[a];delete k.loading[a];for(var g=function(a){a||f.cleanup()},e=0;e<d.length;e++)d[e](b,g)}});f.send(h)}},a.prototype.getRoot=function(a){var b,d=e["default"].getDocument().location.protocol;return b=a&&a.encrypted||"https:"===d?this.options.cdn_https:this.options.cdn_http,b.replace(/\/*$/,"")+"/"+this.options.version},a.prototype.getPath=function(a,b){return this.getRoot(b)+"/"+a+this.options.suffix+".js"},a}();f.__esModule=!0;f["default"]=b},function(b,f,d){var h=d(8),
e=d(2),a=d(14);f.__esModule=!0;f["default"]=function(c,b,d){var k;k=e["default"].createXHR();k.open("POST",this.options.authEndpoint,!0);k.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var f in this.authOptions.headers)k.setRequestHeader(f,this.authOptions.headers[f]);return k.onreadystatechange=function(){if(4===k.readyState)if(200===k.status){var c,b=!1;try{c=JSON.parse(k.responseText),b=!0}catch(g){d(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+
k.responseText)}b&&d(!1,c)}else c=a["default"].buildLogSuffix("authenticationEndpoint"),h["default"].warn("Couldn't retrieve authentication info. "+k.status+("Clients must be authenticated to join private or presence channels. "+c)),d(!0,k.status)},k.send(this.composeQuery(b)),k}},function(b,f,d){var h=d(9),e=d(1);f.__esModule=!0;f["default"]={debug:function(){for(var a=0;a<arguments.length;a++);e["default"].log&&e["default"].log(h.stringify.apply(this,arguments))},warn:function(){for(var a=0;a<arguments.length;a++);
a=h.stringify.apply(this,arguments);e["default"].log?e["default"].log(a):window.console&&(window.console.warn?window.console.warn(a):window.console.log&&window.console.log(a))}}},function(b,f,d){function h(a){for(var c=[],b=1;b<arguments.length;b++)c[b-1]=arguments[b];for(b=0;b<c.length;b++){var d=c[b],g;for(g in d)d[g]&&d[g].constructor&&d[g].constructor===Object?a[g]=h(a[g]||{},d[g]):a[g]=d[g]}return a}function e(a,c){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&c(a[b],b,a)}function a(a,
c){for(var b=[],d=0;d<a.length;d++)b.push(c(a[d],d,a,b));return b}function c(a,c){var b={};return e(a,function(a,d){b[d]=c(a)}),b}function g(a,c){var b={};return e(a,function(d,g){(c&&c(d,g,a,b)||Boolean(d))&&(b[g]=d)}),b}function m(a){var c=[];return e(a,function(a,b){c.push([b,a])}),c}function k(a){return c(a,function(a){return"object"==typeof a&&(a=q(a)),encodeURIComponent(r["default"](a.toString()))})}function n(a){var c=[],b=[];return function w(a,d){var g,e,k;switch(typeof a){case "object":if(!a)return null;
for(g=0;g<c.length;g+=1)if(c[g]===a)return{$ref:b[g]};if(c.push(a),b.push(d),"[object Array]"===Object.prototype.toString.apply(a))for(k=[],g=0;g<a.length;g+=1)k[g]=w(a[g],d+"["+g+"]");else for(e in k={},a)Object.prototype.hasOwnProperty.call(a,e)&&(k[e]=w(a[e],d+"["+JSON.stringify(e)+"]"));return k;case "number":case "string":case "boolean":return a}}(a,"$")}function q(a){try{return JSON.stringify(a)}catch(c){return JSON.stringify(n(a))}}var r=d(10),t=d(11);f.extend=h;f.stringify=function(){for(var a=
["Pusher"],c=0;c<arguments.length;c++)"string"==typeof arguments[c]?a.push(arguments[c]):a.push(q(arguments[c]));return a.join(" : ")};f.arrayIndexOf=function(a,c){var b=Array.prototype.indexOf;if(null===a)return-1;if(b&&a.indexOf===b)return a.indexOf(c);for(var b=0,d=a.length;b<d;b++)if(a[b]===c)return b;return-1};f.objectApply=e;f.keys=function(a){var c=[];return e(a,function(a,b){c.push(b)}),c};f.values=function(a){var c=[];return e(a,function(a){c.push(a)}),c};f.apply=function(a,c,b){for(var d=
0;d<a.length;d++)c.call(b||window,a[d],d,a)};f.map=a;f.mapObject=c;f.filter=function(a,c){c=c||function(a){return!!a};for(var b=[],d=0;d<a.length;d++)c(a[d],d,a,b)&&b.push(a[d]);return b};f.filterObject=g;f.flatten=m;f.any=function(a,c){for(var b=0;b<a.length;b++)if(c(a[b],b,a))return!0;return!1};f.all=function(a,c){for(var b=0;b<a.length;b++)if(!c(a[b],b,a))return!1;return!0};f.encodeParamsObject=k;f.buildQueryString=function(c){c=g(c,function(a){return void 0!==a});return a(m(k(c)),t["default"].method("join",
"\x3d")).join("\x26")};f.decycleObject=n;f.safeJSONStringify=q},function(b,f,d){f.__esModule=!0;f["default"]=function(a){return c(a.replace(/[^\x00-\x7F]/g,e))};var h=String.fromCharCode;for(b=0;64>b;b++)"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b);var e=function(a){var c=a.charCodeAt(0);return 128>c?a:2048>c?h(192|c>>>6)+h(128|63&c):h(224|c>>>12&15)+h(128|c>>>6&63)+h(128|63&c)},a=function(a){var c=[0,2,1][a.length%3];a=a.charCodeAt(0)<<16|(1<a.length?a.charCodeAt(1):
0)<<8|(2<a.length?a.charCodeAt(2):0);return["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>12&63),2<=c?"\x3d":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6&63),1<=c?"\x3d":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&a)].join("")},c=window.btoa||function(c){return c.replace(/[\s\S]{1,3}/g,a)}},function(b,f,d){var h=d(12);
f.__esModule=!0;f["default"]={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(b){return new h.OneOffTimer(0,b)},method:function(b){for(var a=1;a<arguments.length;a++);var c=Array.prototype.slice.call(arguments,1);return function(a){return a[b].apply(a,c.concat(arguments))}}}},function(b,f,d){function h(a){window.clearTimeout(a)}function e(a){window.clearInterval(a)}var a=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&
(a[e]=b[e]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=d(13);d=function(c){function b(a,d){c.call(this,setTimeout,h,a,function(a){return d(),null})}return a(b,c),b}(b["default"]);f.OneOffTimer=d;b=function(c){function b(a,d){c.call(this,setInterval,e,a,function(a){return d(),a})}return a(b,c),b}(b["default"]);f.PeriodicTimer=b},function(b,f){var d=function(){function b(d,a,c,g){var f=this;this.clear=a;this.timer=d(function(){f.timer&&(f.timer=g(f.timer))},c)}return b.prototype.isRunning=
function(){return null!==this.timer},b.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},b}();f.__esModule=!0;f["default"]=d},function(b,f){var d={authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"}};f.__esModule=!0;f["default"]={buildLogSuffix:function(b){b=d[b];if(!b)return"";var e;return b.fullUrl?e=b.fullUrl:b.path&&(e="https://pusher.com"+b.path),e?"See: "+e:""}}},function(b,f,d){var h=d(8);
f.__esModule=!0;f["default"]=function(b,a,c){void 0!==this.authOptions.headers&&h["default"].warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var d=b.nextAuthCallbackID.toString();b.nextAuthCallbackID++;var f=b.getDocument(),k=f.createElement("script");b.auth_callbacks[d]=function(a){c(!1,a)};k.src=this.options.authEndpoint+"?callback\x3d"+encodeURIComponent("Pusher.auth_callbacks['"+d+"']")+"\x26"+this.composeQuery(a);b=f.getElementsByTagName("head")[0]||
f.documentElement;b.insertBefore(k,b.firstChild)}},function(b,f){var d=function(){function b(d){this.src=d}return b.prototype.send=function(b){var a=this,c="Error loading "+a.src;a.script=document.createElement("script");a.script.id=b.id;a.script.src=a.src;a.script.type="text/javascript";a.script.charset="UTF-8";a.script.addEventListener?(a.script.onerror=function(){b.callback(c)},a.script.onload=function(){b.callback(null)}):a.script.onreadystatechange=function(){"loaded"!==a.script.readyState&&
"complete"!==a.script.readyState||b.callback(null)};void 0===a.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(a.errorScript=document.createElement("script"),a.errorScript.id=b.id+"_error",a.errorScript.text=b.name+"('"+c+"');",a.script.async=a.errorScript.async=!1):a.script.async=!0;var d=document.getElementsByTagName("head")[0];d.insertBefore(a.script,d.firstChild);a.errorScript&&d.insertBefore(a.errorScript,a.script.nextSibling)},b.prototype.cleanup=function(){this.script&&
(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null);this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script);this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript);this.errorScript=this.script=null},b}();f.__esModule=!0;f["default"]=d},function(b,f,d){var h=d(9),e=d(2);b=function(){function a(a,b){this.url=a;this.data=b}return a.prototype.send=function(a){if(!this.request){var b=h.buildQueryString(this.data);
this.request=e["default"].createScriptRequest(this.url+"/"+a.number+"?"+b);this.request.send(a)}},a.prototype.cleanup=function(){this.request&&this.request.cleanup()},a}();f.__esModule=!0;f["default"]=b},function(b,f,d){var h=d(2),e=d(4);f.__esModule=!0;f["default"]={name:"jsonp",getAgent:function(a,b){return function(d,f){var k=h["default"].createJSONPRequest("http"+(b?"s":"")+"://"+(a.host||a.options.host)+a.options.path,d),n=h["default"].ScriptReceivers.create(function(b,c){e.ScriptReceivers.remove(n);
k.cleanup();c&&c.host&&(a.host=c.host);f&&f(b,c)});k.send(n)}}}},function(b,f,d){b=d(20);var h=d(22),e=d(21),a=d(2),c=d(3);d=d(9);var e=new h["default"]({file:"sockjs",urls:e.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(a,b){return new window.SockJS(a,null,{js_path:c.Dependencies.getPath("sockjs",{encrypted:b.encrypted}),ignore_null_origin:b.ignoreNullOrigin})},beforeOpen:function(a,b){a.send(JSON.stringify({path:b}))}}),
g={isSupported:function(b){return a["default"].isXDRSupported(b.encrypted)}},m=new h["default"](d.extend({},b.streamingConfiguration,g)),h=new h["default"](d.extend({},b.pollingConfiguration,g));b["default"].xdr_streaming=m;b["default"].xdr_polling=h;b["default"].sockjs=e;f.__esModule=!0;f["default"]=b["default"]},function(b,f,d){var h=d(21);b=d(22);var e=d(9),a=d(2);d=new b["default"]({urls:h.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a["default"].getWebSocketAPI())},
isSupported:function(){return Boolean(a["default"].getWebSocketAPI())},getSocket:function(b){return a["default"].createWebSocket(b)}});h={urls:h.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};f.streamingConfiguration=e.extend({getSocket:function(b){return a["default"].HTTPFactory.createStreamingSocket(b)}},h);f.pollingConfiguration=e.extend({getSocket:function(b){return a["default"].HTTPFactory.createPollingSocket(b)}},h);var c={isSupported:function(){return a["default"].isXHRSupported()}},
h=new b["default"](e.extend({},f.streamingConfiguration,c));b=new b["default"](e.extend({},f.pollingConfiguration,c));b={ws:d,xhr_streaming:h,xhr_polling:b};f.__esModule=!0;f["default"]=b},function(b,f,d){function h(a,b,d){return a+(b.encrypted?"s":"")+"://"+(b.encrypted?b.hostEncrypted:b.hostUnencrypted)+d}function e(b,d){return"/app/"+b+("?protocol\x3d"+a["default"].PROTOCOL+"\x26client\x3djs\x26version\x3d"+a["default"].VERSION+(d?"\x26"+d:""))}var a=d(5);f.ws={getInitial:function(a,b){var d=(b.httpPath||
"")+e(a,"flash\x3dfalse");return h("ws",b,d)}};f.http={getInitial:function(a,b){var d=(b.httpPath||"/pusher")+e(a);return h("http",b,d)}};f.sockjs={getInitial:function(a,b){return h("http",b,b.httpPath||"/pusher")},getPath:function(a,b){return e(a)}}},function(b,f,d){var h=d(23);b=function(){function b(a){this.hooks=a}return b.prototype.isSupported=function(a){return this.hooks.isSupported(a)},b.prototype.createConnection=function(a,b,d,e){return new h["default"](this.hooks,a,b,d,e)},b}();f.__esModule=
!0;f["default"]=b},function(b,f,d){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=d(11),a=d(9);b=d(24);var c=d(8),g=d(2);d=function(b){function d(a,c,e,f,k){b.call(this);this.initialize=g["default"].transportConnectionInitializer;this.hooks=a;this.name=c;this.priority=e;this.key=f;this.options=k;this.state="new";this.timeline=k.timeline;this.activityTimeout=
k.activityTimeout;this.id=this.timeline.generateUniqueID()}return h(d,b),d.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},d.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},d.prototype.connect=function(){var a=this;if(this.socket||"initialized"!==this.state)return!1;var b=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(b,this.options)}catch(d){return e["default"].defer(function(){a.onError(d);
a.changeState("closed")}),!1}return this.bindListeners(),c["default"].debug("Connecting",{transport:this.name,url:b}),this.changeState("connecting"),!0},d.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},d.prototype.send=function(a){var b=this;return"open"===this.state&&(e["default"].defer(function(){b.socket&&b.socket.send(a)}),!0)},d.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},d.prototype.onOpen=function(){this.hooks.beforeOpen&&
this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options));this.changeState("open");this.socket.onopen=void 0},d.prototype.onError=function(a){this.emit("error",{type:"WebSocketError",error:a});this.timeline.error(this.buildTimelineMessage({error:a.toString()}))},d.prototype.onClose=function(a){a?this.changeState("closed",{code:a.code,reason:a.reason,wasClean:a.wasClean}):this.changeState("closed");this.unbindListeners();this.socket=void 0},d.prototype.onMessage=function(a){this.emit("message",
a)},d.prototype.onActivity=function(){this.emit("activity")},d.prototype.bindListeners=function(){var a=this;this.socket.onopen=function(){a.onOpen()};this.socket.onerror=function(b){a.onError(b)};this.socket.onclose=function(b){a.onClose(b)};this.socket.onmessage=function(b){a.onMessage(b)};this.supportsPing()&&(this.socket.onactivity=function(){a.onActivity()})},d.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=
void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},d.prototype.changeState=function(a,b){this.state=a;this.timeline.info(this.buildTimelineMessage({state:a,params:b}));this.emit(a,b)},d.prototype.buildTimelineMessage=function(b){return a.extend({cid:this.id},b)},d}(b["default"]);f.__esModule=!0;f["default"]=d},function(b,f,d){var h=d(9),e=d(25);b=function(){function a(a){this.callbacks=new e["default"];this.global_callbacks=[];this.failThrough=a}return a.prototype.bind=function(a,b,d){return this.callbacks.add(a,
b,d),this},a.prototype.bind_global=function(a){return this.global_callbacks.push(a),this},a.prototype.unbind=function(a,b,d){return this.callbacks.remove(a,b,d),this},a.prototype.unbind_global=function(a){return a?(this.global_callbacks=h.filter(this.global_callbacks||[],function(b){return b!==a}),this):(this.global_callbacks=[],this)},a.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},a.prototype.emit=function(a,b){var d;for(d=0;d<this.global_callbacks.length;d++)this.global_callbacks[d](a,
b);var e=this.callbacks.get(a);if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].fn.call(e[d].context||window,b);else this.failThrough&&this.failThrough(a,b);return this},a}();f.__esModule=!0;f["default"]=b},function(b,f,d){var h=d(9);b=function(){function b(){this._callbacks={}}return b.prototype.get=function(a){return this._callbacks["_"+a]},b.prototype.add=function(a,b,d){a="_"+a;this._callbacks[a]=this._callbacks[a]||[];this._callbacks[a].push({fn:b,context:d})},b.prototype.remove=function(a,b,d){if(!a&&
!b&&!d)return void(this._callbacks={});a=a?["_"+a]:h.keys(this._callbacks);b||d?this.removeCallback(a,b,d):this.removeAllCallbacks(a)},b.prototype.removeCallback=function(a,b,d){h.apply(a,function(a){this._callbacks[a]=h.filter(this._callbacks[a]||[],function(a){return b&&b!==a.fn||d&&d!==a.context});0===this._callbacks[a].length&&delete this._callbacks[a]},this)},b.prototype.removeAllCallbacks=function(a){h.apply(a,function(a){delete this._callbacks[a]},this)},b}();f.__esModule=!0;f["default"]=b},
function(b,f,d){var h=this&&this.__extends||function(b,a){function c(){this.constructor=b}for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)};b=function(b){function a(){b.call(this);var a=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){a.emit("online")},!1),window.addEventListener("offline",function(){a.emit("offline")},!1))}return h(a,b),a.prototype.isOnline=function(){return void 0===window.navigator.onLine||
window.navigator.onLine},a}(d(24)["default"]);f.NetInfo=b;f.Network=new b},function(b,f){f.__esModule=!0;f["default"]=function(b){var f;return f=b.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2E3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2E3,[":wss_loop"]],[":delayed",5E3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:b.wsHost+":"+b.wsPort,hostEncrypted:b.wsHost+":"+b.wssPort,httpPath:b.wsPath}],[":def","wss_options",[":extend",":ws_options",
{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:b.httpHost+":"+b.httpPort,hostEncrypted:b.httpHost+":"+b.httpsPort,httpPath:b.httpPath}],[":def","timeouts",{loop:!0,timeout:15E3,timeoutLimit:6E4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1E4,maxPingDelay:b.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1E4,maxPingDelay:b.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss",
"ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",
":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4E3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",
[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18E5,[":first_connected",[":if",[":is_supported",":ws"],f,":http_fallback_loop"]]]]]}},function(b,f,d){var h=d(3);f.__esModule=!0;f["default"]=function(){var b=this;b.timeline.info(b.buildTimelineMessage({transport:b.name+(b.options.encrypted?"s":"")}));b.hooks.isInitialized()?b.changeState("initialized"):b.hooks.file?(b.changeState("initializing"),h.Dependencies.load(b.hooks.file,{encrypted:b.options.encrypted},
function(a,c){b.hooks.isInitialized()?(b.changeState("initialized"),c(!0)):(a&&b.onError(a),b.onClose(),c(!1))})):b.onClose()}},function(b,f,d){var h=d(30);b=d(32);b["default"].createXDR=function(b,a){return this.createRequest(h["default"],b,a)};f.__esModule=!0;f["default"]=b["default"]},function(b,f,d){var h=d(31);f.__esModule=!0;f["default"]={getRequest:function(b){var a=new window.XDomainRequest;return a.ontimeout=function(){b.emit("error",new h.RequestTimedOut);b.close()},a.onerror=function(a){b.emit("error",
a);b.close()},a.onprogress=function(){a.responseText&&0<a.responseText.length&&b.onChunk(200,a.responseText)},a.onload=function(){a.responseText&&0<a.responseText.length&&b.onChunk(200,a.responseText);b.emit("finished",200);b.close()},a},abortRequest:function(b){b.ontimeout=b.onerror=b.onprogress=b.onload=null;b.abort()}}},function(b,f){var d=this&&this.__extends||function(b,a){function c(){this.constructor=b}for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);b.prototype=null===a?Object.create(a):(c.prototype=
a.prototype,new c)},h=function(b){function a(){b.apply(this,arguments)}return d(a,b),a}(Error);f.BadEventName=h;h=function(b){function a(){b.apply(this,arguments)}return d(a,b),a}(Error);f.RequestTimedOut=h;h=function(b){function a(){b.apply(this,arguments)}return d(a,b),a}(Error);f.TransportPriorityTooLow=h;h=function(b){function a(){b.apply(this,arguments)}return d(a,b),a}(Error);f.TransportClosed=h;h=function(b){function a(){b.apply(this,arguments)}return d(a,b),a}(Error);f.UnsupportedTransport=
h;h=function(b){function a(){b.apply(this,arguments)}return d(a,b),a}(Error);f.UnsupportedStrategy=h},function(b,f,d){var h=d(33),e=d(34),a=d(36),c=d(37),g=d(38);f.__esModule=!0;f["default"]={createStreamingSocket:function(b){return this.createSocket(a["default"],b)},createPollingSocket:function(a){return this.createSocket(c["default"],a)},createSocket:function(a,b){return new e["default"](a,b)},createXHR:function(a,b){return this.createRequest(g["default"],a,b)},createRequest:function(a,b,c){return new h["default"](a,
b,c)}}},function(b,f,d){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=d(2);b=function(a){function b(c,d,e){a.call(this);this.hooks=c;this.method=d;this.url=e}return h(b,a),b.prototype.start=function(a){var b=this;this.position=0;this.xhr=this.hooks.getRequest(this);this.unloader=function(){b.close()};e["default"].addUnloadListener(this.unloader);this.xhr.open(this.method,
this.url,!0);this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json");this.xhr.send(a)},b.prototype.close=function(){this.unloader&&(e["default"].removeUnloadListener(this.unloader),this.unloader=null);this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},b.prototype.onChunk=function(a,b){for(;;){var c=this.advanceBuffer(b);if(!c)break;this.emit("chunk",{status:a,data:c})}this.isBufferTooLong(b)&&this.emit("buffer_too_long")},b.prototype.advanceBuffer=function(a){a=
a.slice(this.position);var b=a.indexOf("\n");return-1!==b?(this.position+=b+1,a.slice(0,b)):null},b.prototype.isBufferTooLong=function(a){return this.position===a.length&&262144<a.length},b}(d(24)["default"]);f.__esModule=!0;f["default"]=b},function(b,f,d){function h(a){var b=-1===a.indexOf("?")?"?":"\x26";return a+b+"t\x3d"+ +new Date+"\x26n\x3d"+g++}var e=d(35),a=d(11),c=d(2),g=1;b=function(){function b(a,c){this.hooks=a;var d=Math.floor(1E3*Math.random())+"/",g;g=[];for(var f=0;8>f;f++)g.push(Math.floor(32*
Math.random()).toString(32));g=g.join("");this.session=d+g;d=/([^\?]*)\/*(\??.*)/.exec(c);this.location={base:d[1],queryString:d[2]};this.readyState=e["default"].CONNECTING;this.openStream()}return b.prototype.send=function(a){return this.sendRaw(JSON.stringify([a]))},b.prototype.ping=function(){this.hooks.sendHeartbeat(this)},b.prototype.close=function(a,b){this.onClose(a,b,!0)},b.prototype.sendRaw=function(a){if(this.readyState!==e["default"].OPEN)return!1;try{return c["default"].createSocketRequest("POST",
h(this.location.base+"/"+this.session+"/xhr_send")).start(a),!0}catch(b){return!1}},b.prototype.reconnect=function(){this.closeStream();this.openStream()},b.prototype.onClose=function(a,b,c){this.closeStream();this.readyState=e["default"].CLOSED;this.onclose&&this.onclose({code:a,reason:b,wasClean:c})},b.prototype.onChunk=function(a){if(200===a.status)switch(this.readyState===e["default"].OPEN&&this.onActivity(),a.data.slice(0,1)){case "o":a=JSON.parse(a.data.slice(1)||"{}");this.onOpen(a);break;
case "a":a=JSON.parse(a.data.slice(1)||"[]");for(var b=0;b<a.length;b++)this.onEvent(a[b]);break;case "m":a=JSON.parse(a.data.slice(1)||"null");this.onEvent(a);break;case "h":this.hooks.onHeartbeat(this);break;case "c":a=JSON.parse(a.data.slice(1)||"[]"),this.onClose(a[0],a[1],!0)}},b.prototype.onOpen=function(a){if(this.readyState===e["default"].CONNECTING){if(a&&a.hostname){var b=this.location;a=a.hostname;var c=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(this.location.base);b.base=c[1]+a+c[3]}this.readyState=
e["default"].OPEN;this.onopen&&this.onopen()}else this.onClose(1006,"Server lost session",!0)},b.prototype.onEvent=function(a){this.readyState===e["default"].OPEN&&this.onmessage&&this.onmessage({data:a})},b.prototype.onActivity=function(){this.onactivity&&this.onactivity()},b.prototype.onError=function(a){this.onerror&&this.onerror(a)},b.prototype.openStream=function(){var b=this;this.stream=c["default"].createSocketRequest("POST",h(this.hooks.getReceiveURL(this.location,this.session)));this.stream.bind("chunk",
function(a){b.onChunk(a)});this.stream.bind("finished",function(a){b.hooks.onFinished(b,a)});this.stream.bind("buffer_too_long",function(){b.reconnect()});try{this.stream.start()}catch(d){a["default"].defer(function(){b.onError(d);b.onClose(1006,"Could not start streaming",!1)})}},b.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},b}();f.__esModule=!0;f["default"]=b},function(b,f){var d,h=d||(d={});h[h.CONNECTING=0]="CONNECTING";h[h.OPEN=
1]="OPEN";h[h.CLOSED=3]="CLOSED";!0;f.__esModule=!0;f["default"]=d},function(b,f){f.__esModule=!0;f["default"]={getReceiveURL:function(b,f){return b.base+"/"+f+"/xhr_streaming"+b.queryString},onHeartbeat:function(b){b.sendRaw("[]")},sendHeartbeat:function(b){b.sendRaw("[]")},onFinished:function(b,f){b.onClose(1006,"Connection interrupted ("+f+")",!1)}}},function(b,f){f.__esModule=!0;f["default"]={getReceiveURL:function(b,f){return b.base+"/"+f+"/xhr"+b.queryString},onHeartbeat:function(){},sendHeartbeat:function(b){b.sendRaw("[]")},
onFinished:function(b,f){200===f?b.reconnect():b.onClose(1006,"Connection interrupted ("+f+")",!1)}}},function(b,f,d){var h=d(2);f.__esModule=!0;f["default"]={getRequest:function(b){var a=new (h["default"].getXHRAPI());return a.onreadystatechange=a.onprogress=function(){switch(a.readyState){case 3:a.responseText&&0<a.responseText.length&&b.onChunk(a.status,a.responseText);break;case 4:a.responseText&&0<a.responseText.length&&b.onChunk(a.status,a.responseText),b.emit("finished",a.status),b.close()}},
a},abortRequest:function(b){b.onreadystatechange=null;b.abort()}}},function(b,f,d){var h=d(9),e=d(11),a=d(40);b=function(){function b(a,c,d){this.key=a;this.session=c;this.events=[];this.options=d||{};this.uniqueID=this.sent=0}return b.prototype.log=function(a,b){a<=this.options.level&&(this.events.push(h.extend({},b,{timestamp:e["default"].now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},b.prototype.error=function(b){this.log(a["default"].ERROR,b)},b.prototype.info=
function(b){this.log(a["default"].INFO,b)},b.prototype.debug=function(b){this.log(a["default"].DEBUG,b)},b.prototype.isEmpty=function(){return 0===this.events.length},b.prototype.send=function(a,b){var c=this,d=h.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],a(d,function(a,d){a||c.sent++;b&&b(a,d)}),!0},b.prototype.generateUniqueID=
function(){return this.uniqueID++,this.uniqueID},b}();f.__esModule=!0;f["default"]=b},function(b,f){var d,h=d||(d={});h[h.ERROR=3]="ERROR";h[h.INFO=6]="INFO";h[h.DEBUG=7]="DEBUG";!0;f.__esModule=!0;f["default"]=d},function(b,f,d){function h(a){return function(b){return[a.apply(this,arguments),b]}}function e(a){return"string"==typeof a&&":"===a.charAt(0)}function a(b,c){if(0===b.length)return[[],c];var d=g(b[0],c),e=a(b.slice(1),d[1]);return[[d[0]].concat(e[0]),e[1]]}function c(b,c){if(e(b[0])){var d=
c[b[0].slice(1)];if(1<b.length){if("function"!=typeof d)throw"Calling non-function "+b[0];var f=[m.extend({},c)].concat(m.map(b.slice(1),function(a){return g(a,m.extend({},c))[0]}));return d.apply(this,f)}return[d,c]}return a(b,c)}function g(a,b){var d;if("string"==typeof a)if(e(a)){d=b[a.slice(1)];if(void 0===d)throw"Undefined symbol "+a;d=[d,b]}else d=[a,b];else d="object"==typeof a&&a instanceof Array&&0<a.length?c(a,b):[a,b];return d}var m=d(9),k=d(11),n=d(42),q=d(31),r=d(56),t=d(57),s=d(58),
u=d(59),v=d(60),x=d(61),w=d(62),y=d(2)["default"].Transports;f.build=function(a,b){var c=m.extend({},F,b);return g(a,c)[1].strategy};var z={isSupported:function(){return!1},connect:function(a,b){var c=k["default"].defer(function(){b(new q.UnsupportedStrategy)});return{abort:function(){c.ensureAborted()},forceMinPriority:function(){}}}},F={extend:function(a,b,c){return[m.extend({},b,c),a]},def:function(a,b,c){if(void 0!==a[b])throw"Redefining symbol "+b;return a[b]=c,[void 0,a]},def_transport:function(a,
b,c,d,g,e){var f=y[c];if(!f)throw new q.UnsupportedTransport(c);c=a.enabledTransports&&-1===m.arrayIndexOf(a.enabledTransports,b)||a.disabledTransports&&-1!==m.arrayIndexOf(a.disabledTransports,b)?z:new r["default"](b,d,e?e.getAssistant(f):f,m.extend({key:a.key,encrypted:a.encrypted,timeline:a.timeline,ignoreNullOrigin:a.ignoreNullOrigin},g));d=a.def(a,b,c)[1];return d.Transports=a.Transports||{},d.Transports[b]=c,[void 0,d]},transport_manager:h(function(a,b){return new n["default"](b)}),sequential:h(function(a,
b){var c=Array.prototype.slice.call(arguments,2);return new t["default"](c,b)}),cached:h(function(a,b,c){return new u["default"](c,a.Transports,{ttl:b,timeline:a.timeline,encrypted:a.encrypted})}),first_connected:h(function(a,b){return new w["default"](b)}),best_connected_ever:h(function(){var a=Array.prototype.slice.call(arguments,1);return new s["default"](a)}),delayed:h(function(a,b,c){return new v["default"](c,{delay:b})}),"if":h(function(a,b,c,d){return new x["default"](b,c,d)}),is_supported:h(function(a,
b){return function(){return b.isSupported()}})}},function(b,f,d){var h=d(43);b=function(){function b(a){this.options=a||{};this.livesLeft=this.options.lives||1/0}return b.prototype.getAssistant=function(a){return h["default"].createAssistantToTheTransportManager(this,a,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},b.prototype.isAlive=function(){return 0<this.livesLeft},b.prototype.reportDeath=function(){this.livesLeft-=1},b}();f.__esModule=!0;f["default"]=b},function(b,
f,d){var h=d(44),e=d(45),a=d(48),c=d(49),g=d(50),m=d(51),k=d(52),n=d(54),q=d(55);f.__esModule=!0;f["default"]={createChannels:function(){return new q["default"]},createConnectionManager:function(a,b){return new n["default"](a,b)},createChannel:function(a,b){return new k["default"](a,b)},createPrivateChannel:function(a,b){return new m["default"](a,b)},createPresenceChannel:function(a,b){return new g["default"](a,b)},createTimelineSender:function(a,b){return new c["default"](a,b)},createAuthorizer:function(b,
c){return c.authorizer?c.authorizer(b,c):new a["default"](b,c)},createHandshake:function(a,b){return new e["default"](a,b)},createAssistantToTheTransportManager:function(a,b,c){return new h["default"](a,b,c)}}},function(b,f,d){var h=d(11),e=d(9);b=function(){function a(a,b,d){this.manager=a;this.transport=b;this.minPingDelay=d.minPingDelay;this.maxPingDelay=d.maxPingDelay;this.pingDelay=void 0}return a.prototype.createConnection=function(a,b,d,f){var n=this;f=e.extend({},f,{activityTimeout:this.pingDelay});
var q=this.transport.createConnection(a,b,d,f),r=null,t=function(){q.unbind("open",t);q.bind("closed",s);r=h["default"].now()},s=function(a){(q.unbind("closed",s),1002===a.code||1003===a.code)?n.manager.reportDeath():!a.wasClean&&r&&(a=h["default"].now()-r,a<2*n.maxPingDelay&&(n.manager.reportDeath(),n.pingDelay=Math.max(a/2,n.minPingDelay)))};return q.bind("open",t),q},a.prototype.isSupported=function(a){return this.manager.isAlive()&&this.transport.isSupported(a)},a}();f.__esModule=!0;f["default"]=
b},function(b,f,d){var h=d(9),e=d(46),a=d(47);b=function(){function b(a,c){this.transport=a;this.callback=c;this.bindListeners()}return b.prototype.close=function(){this.unbindListeners();this.transport.close()},b.prototype.bindListeners=function(){var b=this;this.onMessage=function(c){b.unbindListeners();var d;try{d=e.processHandshake(c)}catch(f){return b.finish("error",{error:f}),void b.transport.close()}"connected"===d.action?b.finish("connected",{connection:new a["default"](d.id,b.transport),
activityTimeout:d.activityTimeout}):(b.finish(d.action,{error:d.error}),b.transport.close())};this.onClosed=function(a){b.unbindListeners();var c=e.getCloseAction(a)||"backoff";a=e.getCloseError(a);b.finish(c,{error:a})};this.transport.bind("message",this.onMessage);this.transport.bind("closed",this.onClosed)},b.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage);this.transport.unbind("closed",this.onClosed)},b.prototype.finish=function(a,b){this.callback(h.extend({transport:this.transport,
action:a},b))},b}();f.__esModule=!0;f["default"]=b},function(b,f){f.decodeMessage=function(b){try{var f=JSON.parse(b.data);if("string"==typeof f.data)try{f.data=JSON.parse(f.data)}catch(e){if(!(e instanceof SyntaxError))throw e;}return f}catch(a){throw{type:"MessageParseError",error:a,data:b.data};}};f.encodeMessage=function(b){return JSON.stringify(b)};f.processHandshake=function(b){if(b=f.decodeMessage(b),"pusher:connection_established"===b.event){if(!b.data.activity_timeout)throw"No activity timeout specified in handshake";
return{action:"connected",id:b.data.socket_id,activityTimeout:1E3*b.data.activity_timeout}}if("pusher:error"===b.event)return{action:this.getCloseAction(b.data),error:this.getCloseError(b.data)};throw"Invalid handshake";};f.getCloseAction=function(b){return 4E3>b.code?1002<=b.code&&1004>=b.code?"backoff":null:4E3===b.code?"ssl_only":4100>b.code?"refused":4200>b.code?"backoff":4300>b.code?"retry":"refused"};f.getCloseError=function(b){return 1E3!==b.code&&1001!==b.code?{type:"PusherError",data:{code:b.code,
message:b.reason||b.message}}:null}},function(b,f,d){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=d(9);b=d(24);var a=d(46),c=d(8);d=function(b){function d(a,c){b.call(this);this.id=a;this.transport=c;this.activityTimeout=c.activityTimeout;this.bindListeners()}return h(d,b),d.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},
d.prototype.send=function(a){return this.transport.send(a)},d.prototype.send_event=function(b,d,e){b={event:b,data:d};return e&&(b.channel=e),c["default"].debug("Event sent",b),this.send(a.encodeMessage(b))},d.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},d.prototype.close=function(){this.transport.close()},d.prototype.bindListeners=function(){var b=this,d={message:function(d){var e;try{e=a.decodeMessage(d)}catch(g){b.emit("error",
{type:"MessageParseError",error:g,data:d.data})}if(void 0!==e){switch(c["default"].debug("Event recd",e),e.event){case "pusher:error":b.emit("error",{type:"PusherError",data:e.data});break;case "pusher:ping":b.emit("ping");break;case "pusher:pong":b.emit("pong")}b.emit("message",e)}},activity:function(){b.emit("activity")},error:function(a){b.emit("error",{type:"WebSocketError",error:a})},closed:function(a){g();a&&a.code&&b.handleCloseEvent(a);b.transport=null;b.emit("closed")}},g=function(){e.objectApply(d,
function(a,c){b.transport.unbind(c,a)})};e.objectApply(d,function(a,c){b.transport.bind(c,a)})},d.prototype.handleCloseEvent=function(b){var c=a.getCloseAction(b);(b=a.getCloseError(b))&&this.emit("error",b);c&&this.emit(c)},d}(b["default"]);f.__esModule=!0;f["default"]=d},function(b,f,d){var h=d(2);b=function(){function b(a,c){this.channel=a;var d=c.authTransport;if("undefined"==typeof h["default"].getAuthorizers()[d])throw"'"+d+"' is not a recognized auth transport";this.type=d;this.options=c;this.authOptions=
(c||{}).auth||{}}return b.prototype.composeQuery=function(a){a="socket_id\x3d"+encodeURIComponent(a)+"\x26channel_name\x3d"+encodeURIComponent(this.channel.name);for(var b in this.authOptions.params)a+="\x26"+encodeURIComponent(b)+"\x3d"+encodeURIComponent(this.authOptions.params[b]);return a},b.prototype.authorize=function(a,c){return b.authorizers=b.authorizers||h["default"].getAuthorizers(),b.authorizers[this.type].call(this,h["default"],a,c)},b}();f.__esModule=!0;f["default"]=b},function(b,f,
d){var h=d(2);b=function(){function b(a,c){this.timeline=a;this.options=c||{}}return b.prototype.send=function(a,b){this.timeline.isEmpty()||this.timeline.send(h["default"].TimelineTransport.getAgent(this,a),b)},b}();f.__esModule=!0;f["default"]=b},function(b,f,d){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=d(51),a=d(8),c=d(53),g=d(14);b=function(b){function d(a,
e){b.call(this,a,e);this.members=new c["default"]}return h(d,b),d.prototype.authorize=function(c,d){var e=this;b.prototype.authorize.call(this,c,function(b,c){if(!b){if(void 0===c.channel_data){var f=g["default"].buildLogSuffix("authenticationEndpoint");return a["default"].warn("Invalid auth response for channel '"+e.name+"',expected 'channel_data' field. "+f),void d("Invalid auth response")}f=JSON.parse(c.channel_data);e.members.setMyID(f.user_id)}d(b,c)})},d.prototype.handleEvent=function(a,b){switch(a){case "pusher_internal:subscription_succeeded":this.subscriptionPending=
!1;this.subscribed=!0;this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(b),this.emit("pusher:subscription_succeeded",this.members));break;case "pusher_internal:member_added":var c=this.members.addMember(b);this.emit("pusher:member_added",c);break;case "pusher_internal:member_removed":(c=this.members.removeMember(b))&&this.emit("pusher:member_removed",c);break;default:e["default"].prototype.handleEvent.call(this,a,b)}},d.prototype.disconnect=function(){this.members.reset();
b.prototype.disconnect.call(this)},d}(e["default"]);f.__esModule=!0;f["default"]=b},function(b,f,d){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},e=d(43);b=function(a){function b(){a.apply(this,arguments)}return h(b,a),b.prototype.authorize=function(a,b){return e["default"].createAuthorizer(this,this.pusher.config).authorize(a,b)},b}(d(52)["default"]);
f.__esModule=!0;f["default"]=b},function(b,f,d){var h=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=d(24);var e=d(31),a=d(8);d=function(b){function d(e,g){b.call(this,function(b,c){a["default"].debug("No callbacks on "+e+" for "+b)});this.name=e;this.pusher=g;this.subscriptionCancelled=this.subscriptionPending=this.subscribed=!1}return h(d,b),d.prototype.authorize=
function(a,b){return b(!1,{})},d.prototype.trigger=function(a,b){if(0!==a.indexOf("client-"))throw new e.BadEventName("Event '"+a+"' does not start with 'client-'");return this.pusher.send_event(a,b,this.name)},d.prototype.disconnect=function(){this.subscriptionPending=this.subscribed=!1},d.prototype.handleEvent=function(a,b){0===a.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===a&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):
this.emit("pusher:subscription_succeeded",b)):this.emit(a,b)},d.prototype.subscribe=function(){var a=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(b,c){b?a.handleEvent("pusher:subscription_error",c):a.pusher.send_event("pusher:subscribe",{auth:c.auth,channel_data:c.channel_data,channel:a.name})}))},d.prototype.unsubscribe=function(){this.subscribed=!1;this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},
d.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},d.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},d}(b["default"]);f.__esModule=!0;f["default"]=d},function(b,f,d){var h=d(9);b=function(){function b(){this.reset()}return b.prototype.get=function(a){return Object.prototype.hasOwnProperty.call(this.members,a)?{id:a,info:this.members[a]}:null},b.prototype.each=function(a){var b=this;h.objectApply(this.members,function(d,e){a(b.get(e))})},b.prototype.setMyID=
function(a){this.myID=a},b.prototype.onSubscription=function(a){this.members=a.presence.hash;this.count=a.presence.count;this.me=this.get(this.myID)},b.prototype.addMember=function(a){return null===this.get(a.user_id)&&this.count++,this.members[a.user_id]=a.user_info,this.get(a.user_id)},b.prototype.removeMember=function(a){var b=this.get(a.user_id);return b&&(delete this.members[a.user_id],this.count--),b},b.prototype.reset=function(){this.members={};this.count=0;this.me=this.myID=null},b}();f.__esModule=
!0;f["default"]=b},function(b,f,d){var h=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=d(24);var e=d(12),a=d(8),c=d(9),g=d(2);d=function(b){function d(a,c){var e=this;b.call(this);this.key=a;this.options=c||{};this.state="initialized";this.connection=null;this.encrypted=!!c.encrypted;this.timeline=this.options.timeline;this.connectionCallbacks=this.buildConnectionCallbacks();
this.errorCallbacks=this.buildErrorCallbacks();this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var f=g["default"].getNetwork();f.bind("online",function(){e.timeline.info({netinfo:"online"});"connecting"!==e.state&&"unavailable"!==e.state||e.retryIn(0)});f.bind("offline",function(){e.timeline.info({netinfo:"offline"});e.connection&&e.sendActivityCheck()});this.updateStrategy()}return h(d,b),d.prototype.connect=function(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");
this.updateState("connecting");this.startConnecting();this.setUnavailableTimer()}},d.prototype.send=function(a){return!!this.connection&&this.connection.send(a)},d.prototype.send_event=function(a,b,c){return!!this.connection&&this.connection.send_event(a,b,c)},d.prototype.disconnect=function(){this.disconnectInternally();this.updateState("disconnected")},d.prototype.isEncrypted=function(){return this.encrypted},d.prototype.startConnecting=function(){var a=this,b=function(c,d){c?a.runner=a.strategy.connect(0,
b):"error"===d.action?(a.emit("error",{type:"HandshakeError",error:d.error}),a.timeline.error({handshakeError:d.error})):(a.abortConnecting(),a.handshakeCallbacks[d.action](d))};this.runner=this.strategy.connect(0,b)},d.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},d.prototype.disconnectInternally=function(){(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection)&&this.abandonConnection().close()},d.prototype.updateStrategy=
function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},d.prototype.retryIn=function(a){var b=this;this.timeline.info({action:"retry",delay:a});0<a&&this.emit("connecting_in",Math.round(a/1E3));this.retryTimer=new e.OneOffTimer(a||0,function(){b.disconnectInternally();b.connect()})},d.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},d.prototype.setUnavailableTimer=function(){var a=
this;this.unavailableTimer=new e.OneOffTimer(this.options.unavailableTimeout,function(){a.updateState("unavailable")})},d.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},d.prototype.sendActivityCheck=function(){var a=this;this.stopActivityCheck();this.connection.ping();this.activityTimer=new e.OneOffTimer(this.options.pongTimeout,function(){a.timeline.error({pong_timed_out:a.options.pongTimeout});a.retryIn(0)})},d.prototype.resetActivityCheck=
function(){var a=this;this.stopActivityCheck();this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new e.OneOffTimer(this.activityTimeout,function(){a.sendActivityCheck()}))},d.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},d.prototype.buildConnectionCallbacks=function(){var a=this;return{message:function(b){a.resetActivityCheck();a.emit("message",b)},ping:function(){a.send_event("pusher:pong",{})},activity:function(){a.resetActivityCheck()},
error:function(b){a.emit("error",{type:"WebSocketError",error:b})},closed:function(){a.abandonConnection();a.shouldRetry()&&a.retryIn(1E3)}}},d.prototype.buildHandshakeCallbacks=function(a){var b=this;return c.extend({},a,{connected:function(a){b.activityTimeout=Math.min(b.options.activityTimeout,a.activityTimeout,a.connection.activityTimeout||1/0);b.clearUnavailableTimer();b.setConnection(a.connection);b.socket_id=b.connection.id;b.updateState("connected",{socket_id:b.socket_id})}})},d.prototype.buildErrorCallbacks=
function(){var a=this,b=function(b){return function(c){c.error&&a.emit("error",{type:"WebSocketError",error:c.error});b(c)}};return{ssl_only:b(function(){a.encrypted=!0;a.updateStrategy();a.retryIn(0)}),refused:b(function(){a.disconnect()}),backoff:b(function(){a.retryIn(1E3)}),retry:b(function(){a.retryIn(0)})}},d.prototype.setConnection=function(a){this.connection=a;for(var b in this.connectionCallbacks)this.connection.bind(b,this.connectionCallbacks[b]);this.resetActivityCheck()},d.prototype.abandonConnection=
function(){if(this.connection){this.stopActivityCheck();for(var a in this.connectionCallbacks)this.connection.unbind(a,this.connectionCallbacks[a]);a=this.connection;return this.connection=null,a}},d.prototype.updateState=function(b,c){var d=this.state;if(this.state=b,d!==b){var e=b;"connected"===e&&(e+=" with new socket ID "+c.socket_id);a["default"].debug("State changed",d+" -\x3e "+e);this.timeline.info({state:b,params:c});this.emit("state_change",{previous:d,current:b});this.emit(b,c)}},d.prototype.shouldRetry=
function(){return"connecting"===this.state||"connected"===this.state},d}(b["default"]);f.__esModule=!0;f["default"]=d},function(b,f,d){var h=d(9),e=d(43);b=function(){function a(){this.channels={}}return a.prototype.add=function(a,b){if(!this.channels[a]){var d=this.channels,f;f=0===a.indexOf("private-")?e["default"].createPrivateChannel(a,b):0===a.indexOf("presence-")?e["default"].createPresenceChannel(a,b):e["default"].createChannel(a,b);d[a]=f}return this.channels[a]},a.prototype.all=function(){return h.values(this.channels)},
a.prototype.find=function(a){return this.channels[a]},a.prototype.remove=function(a){var b=this.channels[a];return delete this.channels[a],b},a.prototype.disconnect=function(){h.objectApply(this.channels,function(a){a.disconnect()})},a}();f.__esModule=!0;f["default"]=b},function(b,f,d){function h(b,c){return a["default"].defer(function(){c(b)}),{abort:function(){},forceMinPriority:function(){}}}var e=d(43),a=d(11),c=d(31),g=d(9);b=function(){function a(b,c,d,e){this.name=b;this.priority=c;this.transport=
d;this.options=e||{}}return a.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},a.prototype.connect=function(a,b){var d=this;if(!this.isSupported())return h(new c.UnsupportedStrategy,b);if(this.priority<a)return h(new c.TransportPriorityTooLow,b);var f=!1,m=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),s=null,u=function(){m.unbind("initialized",u);m.connect()},v=function(){s=e["default"].createHandshake(m,
function(a){f=!0;y();b(null,a)})},x=function(a){y();b(a)},w=function(){y();var a;a=g.safeJSONStringify(m);b(new c.TransportClosed(a))},y=function(){m.unbind("initialized",u);m.unbind("open",v);m.unbind("error",x);m.unbind("closed",w)};return m.bind("initialized",u),m.bind("open",v),m.bind("error",x),m.bind("closed",w),m.initialize(),{abort:function(){f||(y(),s?s.close():m.close())},forceMinPriority:function(a){f||d.priority<a&&(s?s.close():m.close())}}},a}();f.__esModule=!0;f["default"]=b},function(b,
f,d){var h=d(9),e=d(11),a=d(12);b=function(){function b(a,c){this.strategies=a;this.loop=Boolean(c.loop);this.failFast=Boolean(c.failFast);this.timeout=c.timeout;this.timeoutLimit=c.timeoutLimit}return b.prototype.isSupported=function(){return h.any(this.strategies,e["default"].method("isSupported"))},b.prototype.connect=function(a,b){var c=this,d=this.strategies,e=0,f=this.timeout,h=null,s=function(u,v){v?b(null,v):(e+=1,c.loop&&(e%=d.length),e<d.length?(f&&(f*=2,c.timeoutLimit&&(f=Math.min(f,c.timeoutLimit))),
h=c.tryStrategy(d[e],a,{timeout:f,failFast:c.failFast},s)):b(!0))};return h=this.tryStrategy(d[e],a,{timeout:f,failFast:this.failFast},s),{abort:function(){h.abort()},forceMinPriority:function(b){a=b;h&&h.forceMinPriority(b)}}},b.prototype.tryStrategy=function(b,c,d,e){var f=null,h=null;return 0<d.timeout&&(f=new a.OneOffTimer(d.timeout,function(){h.abort();e(!0)})),h=b.connect(c,function(a,b){a&&f&&f.isRunning()&&!d.failFast||(f&&f.ensureAborted(),e(a,b))}),{abort:function(){f&&f.ensureAborted();
h.abort()},forceMinPriority:function(a){h.forceMinPriority(a)}}},b}();f.__esModule=!0;f["default"]=b},function(b,f,d){function h(b,d,e){var g=c.map(b,function(a,b,c,g){return a.connect(d,e(b,g))});return{abort:function(){c.apply(g,a)},forceMinPriority:function(a){c.apply(g,function(b){b.forceMinPriority(a)})}}}function e(a){return c.all(a,function(a){return Boolean(a.error)})}function a(a){a.error||a.aborted||(a.abort(),a.aborted=!0)}var c=d(9),g=d(11);b=function(){function a(b){this.strategies=b}
return a.prototype.isSupported=function(){return c.any(this.strategies,g["default"].method("isSupported"))},a.prototype.connect=function(a,b){return h(this.strategies,a,function(a,d){return function(g,f){return d[a].error=g,g?void(e(d)&&b(!0)):(c.apply(d,function(a){a.forceMinPriority(f.transport.priority)}),void b(null,f))}})},a}();f.__esModule=!0;f["default"]=b},function(b,f,d){function h(a){return"pusherTransport"+(a?"Encrypted":"Unencrypted")}function e(b){var c=g["default"].getLocalStorage();
if(c)try{var d=c[h(b)];if(d)return JSON.parse(d)}catch(e){a(b)}return null}function a(a){var b=g["default"].getLocalStorage();if(b)try{delete b[h(a)]}catch(c){}}var c=d(11),g=d(2),m=d(57),k=d(9);b=function(){function b(a,c,d){this.strategy=a;this.transports=c;this.ttl=d.ttl||18E5;this.encrypted=d.encrypted;this.timeline=d.timeline}return b.prototype.isSupported=function(){return this.strategy.isSupported()},b.prototype.connect=function(b,d){var f=this.encrypted,n=e(f),u=[this.strategy];if(n&&n.timestamp+
this.ttl>=c["default"].now()){var v=this.transports[n.transport];v&&(this.timeline.info({cached:!0,transport:n.transport,latency:n.latency}),u.push(new m["default"]([v],{timeout:2*n.latency+1E3,failFast:!0})))}var x=c["default"].now(),w=u.pop().connect(b,function z(e,m){if(e)a(f),0<u.length?(x=c["default"].now(),w=u.pop().connect(b,z)):d(e);else{var n=m.transport.name,s=c["default"].now()-x,A=g["default"].getLocalStorage();if(A)try{A[h(f)]=k.safeJSONStringify({timestamp:c["default"].now(),transport:n,
latency:s})}catch(B){}d(null,m)}});return{abort:function(){w.abort()},forceMinPriority:function(a){b=a;w&&w.forceMinPriority(a)}}},b}();f.__esModule=!0;f["default"]=b},function(b,f,d){var h=d(12);b=function(){function b(a,c){var d=c.delay;this.strategy=a;this.options={delay:d}}return b.prototype.isSupported=function(){return this.strategy.isSupported()},b.prototype.connect=function(a,b){var d,e=this.strategy,f=new h.OneOffTimer(this.options.delay,function(){d=e.connect(a,b)});return{abort:function(){f.ensureAborted();
d&&d.abort()},forceMinPriority:function(b){a=b;d&&d.forceMinPriority(b)}}},b}();f.__esModule=!0;f["default"]=b},function(b,f){var d=function(){function b(d,a,c){this.test=d;this.trueBranch=a;this.falseBranch=c}return b.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},b.prototype.connect=function(b,a){return(this.test()?this.trueBranch:this.falseBranch).connect(b,a)},b}();f.__esModule=!0;f["default"]=d},function(b,f){var d=function(){function b(d){this.strategy=
d}return b.prototype.isSupported=function(){return this.strategy.isSupported()},b.prototype.connect=function(b,a){var c=this.strategy.connect(b,function(b,d){d&&c.abort();a(b,d)});return c},b}();f.__esModule=!0;f["default"]=d},function(b,f,d){var h=d(5);f.getGlobalConfig=function(){return{wsHost:h["default"].host,wsPort:h["default"].ws_port,wssPort:h["default"].wss_port,wsPath:h["default"].ws_path,httpHost:h["default"].sockjs_host,httpPort:h["default"].sockjs_http_port,httpsPort:h["default"].sockjs_https_port,
httpPath:h["default"].sockjs_path,statsHost:h["default"].stats_host,authEndpoint:h["default"].channel_auth_endpoint,authTransport:h["default"].channel_auth_transport,activity_timeout:h["default"].activity_timeout,pong_timeout:h["default"].pong_timeout,unavailable_timeout:h["default"].unavailable_timeout}};f.getClusterConfig=function(b){return{wsHost:"ws-"+b+".pusher.com",httpHost:"sockjs-"+b+".pusher.com"}}}])});"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);
"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);
(function(b,f){"function"===typeof define&&define.amd?define("sifter",f):"object"===typeof exports?module.exports=f():b.Sifter=f()})(this,function(){var b=function(a,b){this.items=a;this.settings=b||{diacritics:!0}};b.prototype.tokenize=function(a){a=(String(a||"").toLowerCase()+"").replace(/^\s+|\s+$|/g,"");if(!a||!a.length)return[];var b,d,f,h=[],q=a.split(/ +/);a=0;for(b=q.length;a<b;a++){d=(q[a]+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");if(this.settings.diacritics)for(f in e)e.hasOwnProperty(f)&&
(d=d.replace(new RegExp(f,"g"),e[f]));h.push({string:q[a],regex:new RegExp(d,"i")})}return h};b.prototype.iterator=function(a,b){(h(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;b<c;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)}).apply(a,[b])};b.prototype.getScoreFunction=function(a,b){var d,e,f;a=this.prepareSearch(a,b);e=a.tokens;d=a.options.fields;f=e.length;var h=function(a,b){var c,d;if(!a)return 0;a=String(a||"");d=a.search(b.regex);
if(-1===d)return 0;c=b.string.length/a.length;0===d&&(c+=.5);return c},r=function(){var a=d.length;return a?1===a?function(a,b){return h(b[d[0]],a)}:function(b,c){for(var e=0,g=0;e<a;e++)g+=h(c[d[e]],b);return g/a}:function(){return 0}}();return f?1===f?function(a){return r(e[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,d=0;c<f;c++){b=r(e[c],a);if(0>=b)return 0;d+=b}return d/f}:function(a){for(var b=0,c=0;b<f;b++)c+=r(e[b],a);return c/f}:function(){return 0}};b.prototype.getSortFunction=
function(a,b){var d,e,h,q,r,t,s,u,v,x;h=this;a=h.prepareSearch(a,b);x=!a.query&&b.sort_empty||b.sort;v=function(a,b){return"$score"===a?b.score:h.items[b.id][a]};r=[];if(x)for(d=0,e=x.length;d<e;d++)(a.query||"$score"!==x[d].field)&&r.push(x[d]);if(a.query){x=!0;d=0;for(e=r.length;d<e;d++)if("$score"===r[d].field){x=!1;break}x&&r.unshift({field:"$score",direction:"desc"})}else for(d=0,e=r.length;d<e;d++)if("$score"===r[d].field){r.splice(d,1);break}u=[];d=0;for(e=r.length;d<e;d++)u.push("desc"===
r[d].direction?-1:1);return(t=r.length)?1===t?(q=r[0].field,s=u[0],function(a,b){return s*f(v(q,a),v(q,b))}):function(a,b){var c,d;for(c=0;c<t;c++)if(d=r[c].field,d=u[c]*f(v(d,a),v(d,b)))return d;return 0}:null};b.prototype.prepareSearch=function(a,b){if("object"===typeof a)return a;b=d({},b);var e=b.fields,f=b.sort,n=b.sort_empty;e&&!h(e)&&(b.fields=[e]);f&&!h(f)&&(b.sort=[f]);n&&!h(n)&&(b.sort_empty=[n]);return{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}};
b.prototype.search=function(a,b){var d,e,f,h;e=this.prepareSearch(a,b);b=e.options;a=e.query;h=b.score||this.getScoreFunction(e);a.length?this.iterator(this.items,function(a,c){d=h(a);(!1===b.filter||0<d)&&e.items.push({score:d,id:c})}):this.iterator(this.items,function(a,b){e.items.push({score:1,id:b})});(f=this.getSortFunction(e,b))&&e.items.sort(f);e.total=e.items.length;"number"===typeof b.limit&&(e.items=e.items.slice(0,b.limit));return e};var f=function(b,d){if("number"===typeof b&&"number"===
typeof d)return b>d?1:b<d?-1:0;b=a(String(b||""));d=a(String(d||""));return b>d?1:d>b?-1:0},d=function(a,b){var d,e,f,h;d=1;for(e=arguments.length;d<e;d++)if(h=arguments[d])for(f in h)h.hasOwnProperty(f)&&(a[f]=h[f]);return a},h=Array.isArray||$&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},e={a:"[aÀ�?ÂÃÄÅàáâãäåĀ�?ąĄ]",c:"[cÇçćĆ�?Č]",d:"[dđ�?�?Ď]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌ�?Î�?ìíîïĪī]",l:"[lł�?]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌ�?]",r:"[rřŘ]",s:"[sŠšśŚ]",
t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿý�?]",z:"[zŽžżŻźŹ]"},a=function(){var a,b,d,f,h="",q={};for(d in e)if(e.hasOwnProperty(d))for(f=e[d].substring(2,e[d].length-1),h+=f,a=0,b=f.length;a<b;a++)q[f.charAt(a)]=d;var r=new RegExp("["+h+"]","g");return function(a){return a.replace(r,function(a){return q[a]}).toLowerCase()}}();return b});
(function(b,f){"function"===typeof define&&define.amd?define("microplugin",f):"object"===typeof exports?module.exports=f():b.MicroPlugin=f()})(this,function(){var b={isArray:Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}};return{mixin:function(f){f.plugins={};f.prototype.initializePlugins=function(d){var f,e,a=[];this.plugins={names:[],settings:{},requested:{},loaded:{}};if(b.isArray(d))for(f=0,e=d.length;f<e;f++)"string"===typeof d[f]?a.push(d[f]):(this.plugins.settings[d[f].name]=
d[f].options,a.push(d[f].name));else if(d)for(f in d)d.hasOwnProperty(f)&&(this.plugins.settings[f]=d[f],a.push(f));for(;a.length;)this.require(a.shift())};f.prototype.loadPlugin=function(b){var h=this.plugins,e=f.plugins[b];if(!f.plugins.hasOwnProperty(b))throw Error('Unable to find "'+b+'" plugin');h.requested[b]=!0;h.loaded[b]=e.fn.apply(this,[this.plugins.settings[b]||{}]);h.names.push(b)};f.prototype.require=function(b){var f=this.plugins;if(!this.plugins.loaded.hasOwnProperty(b)){if(f.requested[b])throw Error('Plugin has circular dependency ("'+
b+'")');this.loadPlugin(b)}return f.loaded[b]};f.define=function(b,h){f.plugins[b]={name:b,fn:h}}}}});
(function(b,f){"function"===typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],f):"object"===typeof exports?module.exports=f(require("jquery"),require("sifter"),require("microplugin")):b.Selectize=f(b.jQuery,b.Sifter,b.MicroPlugin)})(this,function(b,f,d){var h=function(a,b){if("string"!==typeof b||b.length){var c="string"===typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(0<=e&&0<a.data.length){var f=a.data.match(c),b=document.createElement("span");
b.className="highlight";a=a.splitText(e);a.splitText(f[0].length);e=a.cloneNode(!0);b.appendChild(e);a.parentNode.replaceChild(b,a);b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(e=0;e<a.childNodes.length;++e)e+=d(a.childNodes[e]);return b};return a.each(function(){d(this)})}},e=function(){};e.prototype={on:function(a,b){this._events=this._events||{};this._events[a]=this._events[a]||[];this._events[a].push(b)},off:function(a,b){var c=arguments.length;if(0===c)return delete this._events;
if(1===c)return delete this._events[a];this._events=this._events||{};!1!==a in this._events&&this._events[a].splice(this._events[a].indexOf(b),1)},trigger:function(a){this._events=this._events||{};if(!1!==a in this._events)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}};e.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=e.prototype[b[c]]};var a=/Mac/.test(navigator.userAgent),c=a?91:17,g=a?18:
17,m=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,k=function(a){return"undefined"===typeof a||null===a?null:"boolean"===typeof a?a?"1":"0":a+""},n=function(a){return(a+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;")},q=function(a){return(a+"").replace(/\$/g,"$$$$")},r={before:function(a,b,c){var d=a[b];a[b]=function(){c.apply(a,arguments);return d.apply(a,arguments)}},after:function(a,b,c){var d=a[b];
a[b]=function(){var b=d.apply(a,arguments);c.apply(a,arguments);return b}}},t=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},s=function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c);c=window.setTimeout(function(){a.apply(d,e)},b)}},u=function(a,b,c){var d,e=a.trigger,f={};a.trigger=function(){var c=arguments[0];if(-1!==b.indexOf(c))f[c]=arguments;else return e.apply(a,arguments)};c.apply(a,[]);a.trigger=e;for(d in f)f.hasOwnProperty(d)&&e.apply(a,
f[d])},v=function(a,b,c,d){a.on(b,c,function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;b.currentTarget=c;return d.apply(this,[b])})},x=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length);b.start=c.text.length-d;b.length=d}return b},w=function(a,c){var d=null,e=function(e,
f){var g,h,k;e=e||window.event||{};f=f||{};if(!e.metaKey&&!e.altKey&&(f.force||!1!==c.data("grow"))){g=c.val();e.type&&"keydown"===e.type.toLowerCase()&&(h=e.keyCode,k=97<=h&&122>=h||65<=h&&90>=h||48<=h&&57>=h||32===h,46===h||8===h?(k=x(c[0]),k.length?g=g.substring(0,k.start)+g.substring(k.start+k.length):8===h&&k.start?g=g.substring(0,k.start-1)+g.substring(k.start+1):46===h&&"undefined"!==typeof k.start&&(g=g.substring(0,k.start)+g.substring(k.start+1))):k&&(h=e.shiftKey,k=String.fromCharCode(e.keyCode),
k=h?k.toUpperCase():k.toLowerCase(),g+=k));h=c.attr("placeholder");!g&&h&&(g=h);if("single"==a.settings.mode){if(g){g=b("\x3ctest\x3e").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(g).appendTo("body");h=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];var m,n={};if(h)for(k=0,m=h.length;k<m;k++)n[h[k]]=c.css(h[k]);else n=c.css();g.css(n);h=g.width();g.remove();g=h}else g=0;g+=4}else{h=1;if(g){g=b(a.$control.find(".item"));for(k=
h=0;k<g.length;k++)h+=g[k].offsetWidth;h=a.$control[0].offsetWidth-90-h}g=h}g!==d&&(d=g,c.width(g),c.triggerHandler("resize"))}};c.on("keydown keyup update blur",e);e()},y=function(a,c){var d,e;d=a[0];d.selectize=this;e=(e=(e=window.getComputedStyle&&window.getComputedStyle(d,null))?e.getPropertyValue("direction"):d.currentStyle&&d.currentStyle.direction)||a.parents("[dir]:first").attr("dir")||"";b.extend(this,{order:0,settings:c,$input:a,tabIndex:a.attr("tabindex")||"",tagType:"select"===d.tagName.toLowerCase()?
1:2,rtl:/rtl/i.test(e),eventNS:".selectize"+ ++y.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:a.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===c.loadThrottle?
this.onSearchChange:s(this.onSearchChange,c.loadThrottle)});this.sifter=new f(this.options,{diacritics:c.diacritics});if(this.settings.options){d=0;for(e=this.settings.options.length;d<e;d++)this.registerOption(this.settings.options[d]);delete this.settings.options}if(this.settings.optgroups){d=0;for(e=this.settings.optgroups.length;d<e;d++)this.registerOptionGroup(this.settings.optgroups[d]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":
"multi");this.settings.dropdownDirection=this.settings.dropdownDirection||"auto";"boolean"!==typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode);this.initializePlugins(this.settings.plugins);this.setupCallbacks();this.setupTemplates();this.setup()};e.mixin(y);d.mixin(y);b.extend(y.prototype,{setup:function(){var d=this,e=d.settings,f=d.eventNS,h=b(window),k=b(document),n=d.$input,q=Math.floor(1E3*Math.random()),r,s,t,u,x,y;x=d.settings.mode;y=n.attr("class")||
"";r=b("\x3cdiv\x3e").addClass(e.wrapperClass).addClass(y).addClass(x);s=b("\x3cdiv\x3e").addClass(e.inputClass).addClass("items").appendTo(r);t=b('\x3cinput type\x3d"text" autocomplete\x3d"off" /\x3e').appendTo(s).attr("tabindex",n.is(":disabled")?"-1":d.tabIndex).attr({"aria-autocomplete":"list","aria-labelledby":"label-"+q,role:"combobox","aria-expanded":"false","aria-owns":"grid-"+q,"aria-haspopup":"grid"});"multi"===d.settings.mode&&b('\x3cspan class\x3d"multi-dropdown-send-btn"\x3e\x3c/span\x3e').appendTo(r);
u=b(e.dropdownParent||r);q=b("\x3cdiv\x3e").addClass(e.dropdownClass).addClass(x).hide().appendTo(u).attr({"aria-labelledby":"label-"+q,role:"grid",id:"grid-"+q});u=b("\x3cdiv\x3e").addClass(e.dropdownContentClass).appendTo(q);d.settings.copyClassesToDropdown&&q.addClass(y);r.css({width:n[0].style.width});d.plugins.names.length&&(y="plugin-"+d.plugins.names.join(" plugin-"),r.addClass(y),q.addClass(y));(null===e.maxItems||1<e.maxItems)&&1===d.tagType&&n.attr("multiple","multiple");d.settings.placeholder&&
t.attr("placeholder",e.placeholder);!d.settings.splitOn&&d.settings.delimiter&&(y=d.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26"),d.settings.splitOn=new RegExp("\\s*"+y+"+\\s*"));n.attr("autocorrect")&&t.attr("autocorrect",n.attr("autocorrect"));n.attr("autocapitalize")&&t.attr("autocapitalize",n.attr("autocapitalize"));d.$wrapper=r;d.$control=s;d.$control_input=t;d.$dropdown=q;d.$dropdown_content=u;q.on("mouseenter","[data-selectable]",function(){return d.onOptionHover.apply(d,arguments)});
q.on("mouseup","[data-selectable]",function(){if("multi"===d.settings.mode)return d.onOptionSelect.apply(d,arguments)});q.on("mousedown click","[data-selectable]",function(){if("single"===d.settings.mode)return d.onOptionSelect.apply(d,arguments)});v(s,"mousedown","*:not(input)",function(){return d.onItemSelect.apply(d,arguments)});w(d,t);s.on({mousedown:function(){return d.onMouseDown.apply(d,arguments)},click:function(){return d.onClick.apply(d,arguments)}});t.on({mousedown:function(a){a.stopPropagation()},
keydown:function(){return d.onKeyDown.apply(d,arguments)},keyup:function(){return d.onKeyUp.apply(d,arguments)},keypress:function(){return d.onKeyPress.apply(d,arguments)},resize:function(){d.positionDropdown.apply(d,[])},blur:function(){return d.onBlur.apply(d,arguments)},focus:function(){d.ignoreBlur=!1;return d.onFocus.apply(d,arguments)},paste:function(){return d.onPaste.apply(d,arguments)}});k.on("keydown"+f,function(b){d.isCmdDown=b[a?"metaKey":"ctrlKey"];d.isCtrlDown=b[a?"altKey":"ctrlKey"];
d.isShiftDown=b.shiftKey});k.on("keyup"+f,function(a){a.keyCode===g&&(d.isCtrlDown=!1);16===a.keyCode&&(d.isShiftDown=!1);a.keyCode===c&&(d.isCmdDown=!1)});k.on("mousedown"+f,function(a){if(d.isFocused){if(a.target===d.$dropdown[0]||a.target.parentNode===d.$dropdown[0])return!1;d.$control.has(a.target).length||a.target===d.$control[0]||d.blur(a.target)}});h.on(["scroll"+f,"resize"+f].join(" "),function(){d.isOpen&&d.positionDropdown.apply(d,arguments)});h.on("mousemove"+f,function(){d.ignoreHover=
!1});this.revertSettings={$children:n.children().detach(),tabindex:n.attr("tabindex")};n.attr("tabindex",-1).hide().after(d.$wrapper);b.isArray(e.items)&&(d.setValue(e.items),delete e.items);if(m)n.on("invalid"+f,function(a){a.preventDefault();d.isInvalid=!0;d.refreshState()});d.updateOriginalInput();d.refreshItems();d.refreshState();d.updatePlaceholder();d.isSetup=!0;n.is(":disabled")&&d.disable();d.on("change",this.onChange);n.data("selectize",d);n.addClass("selectized");d.trigger("initialize");
if(!0===e.preload)d.onSearchChange("")},setupTemplates:function(){var a=this,c=a.settings.labelField,d=a.settings.optgroupLabelField;a.settings.render=b.extend({},{optgroup:function(a){return'\x3cdiv class\x3d"optgroup"\x3e'+a.html+"\x3c/div\x3e"},optgroup_header:function(a,b){return'\x3cdiv class\x3d"optgroup-header"\x3e'+b(a[d])+"\x3c/div\x3e"},option:function(b,d){return"multi"===a.settings.mode?a.$dropdown_content&&a.$dropdown_content.find("[data-value\x3d"+b.value+"]").length?a.$dropdown_content.find("[data-value\x3d"+
b.value+"]")[0].outerHTML:'\x3cdiv class\x3d"option"\x3e\x3clabel class\x3d"checkbox-container"\x3e'+b[c]+'\x3cinput type\x3d"checkbox"\x3e\x3cspan class\x3d"checkmark"\x3e\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e':'\x3cdiv class\x3d"option"\x3e'+b[c]+"\x3c/div\x3e"},item:function(a,b){return'\x3cdiv class\x3d"item"\x3e\x3cdiv class\x3d"caret-text"\x3e'+b(a[c])+"\x3c/div\x3e\x3c/div\x3e"},option_create:function(a,b){return'\x3cdiv class\x3d"create"\x3eAdd \x3cstrong\x3e'+b(a.input)+"\x3c/strong\x3e\x26hellip;\x3c/div\x3e"}},
a.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in c)if(c.hasOwnProperty(a)&&
(b=this.settings[c[a]]))this.on(a,b)},onClick:function(a){this.isFocused||(this.focus(),a.preventDefault())},onMouseDown:function(a){var c=a.isDefaultPrevented();b(a.target);this.focus();if(a.target!==this.$control_input[0])return"single"===this.settings.mode||"multi"===this.settings.mode?this.isOpen?this.close():this.open():c||this.setActiveItem(null),!1},onChange:function(){this.$input.trigger("change")},onPaste:function(a){var c=this;c.isFull()||c.isInputHidden||c.isLocked?a.preventDefault():c.settings.splitOn&&
setTimeout(function(){for(var a=b.trim(c.$control_input.val()||"").split(c.settings.splitOn),d=0,e=a.length;d<e;d++)c.createItem(a[d])},0)},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);if(this.settings.create&&"multi"===this.settings.mode&&b===this.settings.delimiter)return this.createItem(),a.preventDefault(),!1},onKeyDown:function(b){if(this.isLocked)9!==b.keyCode&&b.preventDefault();else{switch(b.keyCode){case 65:if(this.isCmdDown)return;
break;case 27:this.isOpen&&(b.preventDefault(),b.stopPropagation(),this.close());return;case 78:if(!b.ctrlKey||b.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var c=this.getAdjacentOption(this.$activeOption,1);c.length&&this.setActiveOption(c,!0,!0)}b.preventDefault();return;case 80:if(!b.ctrlKey||b.altKey)break;case 38:this.$activeOption&&(this.ignoreHover=!0,c=this.getAdjacentOption(this.$activeOption,-1),c.length&&this.setActiveOption(c,
!0,!0));b.preventDefault();return;case 13:this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption},!0,!0),b.preventDefault());return;case 37:return;case 39:return;case 9:this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||b.preventDefault());this.settings.create&&this.createItem()&&b.preventDefault();return;case 8:case 46:this.deleteSelection(b);return}!this.isFull()&&!this.isInputHidden||
(a?b.metaKey:b.ctrlKey)||b.preventDefault()}},onKeyUp:function(a){if(Object.keys(this.options).length==this.items.length&&a.currentTarget.value)this.close();else{if(this.isLocked)return a&&a.preventDefault();a=this.$control_input.val()||"";if(this.lastValue!==a){this.lastValue=a;this.onSearchChange(a);this.refreshOptions();if(!a)for(var c=0;c<this.items.length;c++)this.$dropdown_content.find(b("[data-value\x3d"+this.items[c]+"]")).find("input").prop("checked",!0);this.trigger("type",a)}}},onSearchChange:function(a){var b=
this,c=b.settings.load;c&&!b.loadedSearches.hasOwnProperty(a)&&(b.loadedSearches[a]=!0,b.load(function(d){c.apply(b,[a,d])}))},onFocus:function(a){var b=this.isFocused;if(this.isDisabled)return this.blur(),a&&a.preventDefault(),!1;if(!this.ignoreFocus){this.isFocused=!0;if("focus"===this.settings.preload)this.onSearchChange("");b||this.trigger("focus");this.$activeItems.length||(this.showInput(),this.setActiveItem(null),("single"===this.settings.mode||"multi"===this.settings.mode&&this.items&&0==
this.items.length)&&this.refreshOptions(!!this.settings.openOnFocus));this.refreshState()}},onBlur:function(a,b){var c=this;if(c.isFocused&&("single"===c.settings.mode&&(c.isFocused=!1),!c.ignoreFocus))if(c.ignoreBlur||document.activeElement!==c.$dropdown_content[0]){var d=function(){"multi"!==c.settings.mode&&c.close();c.setTextboxValue("");c.setActiveItem(null);c.setActiveOption(null);c.setCaret(c.items.length);c.refreshState();(b||document.body).focus();c.ignoreFocus=!1;c.trigger("blur")};c.ignoreFocus=
!0;c.settings.create&&c.settings.createOnBlur?c.createItem(null,!1,d):"single"===c.settings.mode&&d()}else c.ignoreBlur=!0,c.onFocus(a)},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(a,c,d){var e,f=this;a.preventDefault&&"multi"!==f.settings.mode&&(a.preventDefault(),a.stopPropagation());e=b(a.currentTarget);e.hasClass("create")?f.createItem(null,function(){f.settings.closeAfterSelect&&f.close()}):(e=e.attr("data-value"),"undefined"!==
typeof e&&(f.lastQuery=null,f.setTextboxValue(""),f.$activeOption&&f.$activeOption.find("input").is(":checked")?d||f.removeItem(e):f.addItem(e,!1,"multi",void 0,c),f.settings.closeAfterSelect?f.close():!f.settings.hideSelected&&a.type&&/mouse/.test(a.type)&&f.setActiveOption(f.getOption(e))))},onItemSelect:function(a){this.isLocked||"multi"!==this.settings.mode||(a.preventDefault(),this.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass(b.settings.loadingClass);b.loading++;
a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0);a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden));b.loading||c.removeClass(b.settings.loadingClass);b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input;b.val()!==a&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){u(this,b?[]:["change"],
function(){this.clear(b);this.addItems(a,b)})},setActiveItem:function(a,c){var d,e,f;if("single"!==this.settings.mode)if(a=b(a),a.length){d=c&&c.type.toLowerCase();if("mousedown"===d&&this.isShiftDown&&this.$activeItems.length){d=this.$control.children(".active:last");e=Array.prototype.indexOf.apply(this.$control[0].childNodes,[d[0]]);d=Array.prototype.indexOf.apply(this.$control[0].childNodes,[a[0]]);e>d&&(f=e,e=d,d=f);for(;e<=d;e++)f=this.$control[0].childNodes[e],-1===this.$activeItems.indexOf(f)&&
(b(f).addClass("active"),this.$activeItems.push(f));c.preventDefault()}else"mousedown"===d&&this.isCtrlDown||"keydown"===d&&this.isShiftDown?a.hasClass("active")?(d=this.$activeItems.indexOf(a[0]),this.$activeItems.splice(d,1),a.removeClass("active")):this.$activeItems.push(a.addClass("active")[0]):(b(this.$activeItems).removeClass("active"),this.$activeItems=[a.addClass("active")[0]]);"multi"!==this.settings.mode&&this.hideInput();this.isFocused||this.focus()}else b(this.$activeItems).removeClass("active"),
this.$activeItems=[],this.isFocused&&this.showInput()},setActiveOption:function(a,c,d){var e,f,g;this.$activeOption&&(this.$activeOption.removeClass("active"),this.$control_input.attr("aria-activedescendant",""));this.$activeOption=null;a=b(a);a.length&&(this.$activeOption=a.addClass("active"),this.$control_input.attr("aria-activedescendant",this.$activeOption.attr("id")),c||"undefined"===typeof c)&&(a=this.$dropdown_content.height(),e=this.$activeOption.outerHeight(!0),c=this.$dropdown_content.scrollTop()||
0,f=this.$activeOption.offset().top-this.$dropdown_content.offset().top+c,g=f-a+e,f+e>a+c?this.$dropdown_content.stop().animate({scrollTop:g},d?this.settings.scrollDuration:0):f<c&&this.$dropdown_content.stop().animate({scrollTop:f},d?this.settings.scrollDuration:0))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue("");
this.$control_input.css({opacity:0,position:"relative",left:this.rtl?1E4:-1E4});this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1;a.onFocus()},0))},blur:function(a){this.$control_input[0].blur();this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},
getSearchOptions:function(){var a=this.settings,b=a.sortField;"string"===typeof b&&(b=[{field:b}]);return{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(a){var c,d=this.settings,e=this.getSearchOptions();if(d.score&&(c=this.settings.score.apply(this,[a]),"function"!==typeof c))throw Error('Selectize "score" setting must be a function that returns a function');a!==this.lastQuery?(this.lastQuery=a,this.currentResults=a=this.sifter.search(a,b.extend(e,{score:c}))):a=b.extend(!0,
{},this.currentResults);return a},updateDeletedOptionInList:function(a,b){var c="",c=a?a.attr("data-value"):b;this.$dropdown_content.find("[data-value\x3d'"+c+"']").find("input").prop("checked",!1)},refreshOptions:function(a,c,d){var e,f,g,m,n,q,r,s,t,v,u,x,y;"undefined"===typeof a&&(a=!0);var w=this;x=b.trim(w.$control_input.val());var G=w.search(x),U=w.$dropdown_content,ka=w.$activeOption&&k(w.$activeOption.attr("data-value"));m=G.items.length;"number"===typeof w.settings.maxOptions&&(m=Math.min(m,
w.settings.maxOptions));n={};q=[];for(e=0;e<m;e++){if(""==w.$control_input.val())r=w.options[G.items[e].id];else if(r=w.options[G.items[e].id],-1!==w.items.indexOf(r.value)){w.close();continue}s=w.render("option",r);t=r[w.settings.optgroupField]||"";v=b.isArray(t)?t:[t];f=0;for(g=v&&v.length;f<g;f++)t=v[f],w.optgroups.hasOwnProperty(t)||(t=""),n.hasOwnProperty(t)||(n[t]=[],q.push(t)),n[t].push(s)}f=[];e=0;for(m=q.length;e<m;e++)t=q[e],w.optgroups.hasOwnProperty(t)&&n[t].length?(g=w.render("optgroup_header",
w.optgroups[t])||"",g+=n[t].join(""),f.push(w.render("optgroup",b.extend({},w.optgroups[t],{html:g})))):f.push(n[t].join(""));"multi"!==c&&U.html(f.join(""));this.settings.lockOptgroupOrder&&q.sort(function(a,b){return(w.optgroups[a].$order||0)-(w.optgroups[b].$order||0)});if(w.settings.highlight&&G.query.length&&G.tokens.length)for(e=0,m=G.tokens.length;e<m;e++)h(U,G.tokens[e].regex);if(!w.settings.hideSelected)for(e=0,m=w.items.length;e<m;e++)w.getOption(w.items[e]).addClass("selected");if(e=w.canCreate(x))U.prepend(w.render("option_create",
{input:x})),y=b(U[0].childNodes[0]);w.hasOptions=0<G.items.length||e;w.hasOptions?(0<G.items.length?((x=ka&&w.getOption(ka))&&x.length?u=x:"single"===w.settings.mode&&w.items.length&&(u=w.getOption(w.items[0])),u&&u.length||(u=y&&!w.settings.addPrecedence?w.getAdjacentOption(y,1):U.find("[data-selectable]:first"))):u=y,"multi"===c?w.setActiveOption(d):w.setActiveOption(u),a&&!w.isOpen&&(-1===w.items.indexOf(r.value)?w.open():w.close())):(w.setActiveOption(null),a&&w.isOpen&&w.close());w.positionDropdown()},
addOption:function(a){var c,d;if(b.isArray(a))for(c=0,d=a.length;c<d;c++)this.addOption(a[c]);else if(c=this.registerOption(a))this.userOptions[c]=!0,this.lastQuery=null,this.trigger("option_add",c,a)},registerOption:function(a){var b=k(a[this.settings.valueField]);if(!b||this.options.hasOwnProperty(b))return!1;a.$order=a.$order||++this.order;this.options[b]=a;return b},registerOptionGroup:function(a){var b=k(a[this.settings.optgroupValueField]);if(!b)return!1;a.$order=a.$order||++this.order;this.optgroups[b]=
a;return b},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a;(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={};this.renderCache={};this.trigger("optgroup_clear")},updateOption:function(a,c){var d,e,f;a=k(a);d=k(c[this.settings.valueField]);if(null!==a&&this.options.hasOwnProperty(a)){if("string"!==
typeof d)throw Error("Value must be set in option data");f=this.options[a].$order;d!==a&&(delete this.options[a],e=this.items.indexOf(a),-1!==e&&this.items.splice(e,1,d));c.$order=c.$order||f;this.options[d]=c;e=this.renderCache.item;f=this.renderCache.option;e&&(delete e[a],delete e[d]);f&&(delete f[a],delete f[d]);-1!==this.items.indexOf(d)&&(d=this.getItem(a),e=b(this.render("item",c)),d.hasClass("active")&&e.addClass("active"),d.replaceWith(e));this.lastQuery=null;this.isOpen&&this.refreshOptions(!1)}},
removeOption:function(a,b){a=k(a);var c=this.renderCache.item,d=this.renderCache.option;c&&delete c[a];d&&delete d[a];delete this.userOptions[a];delete this.options[a];this.lastQuery=null;this.trigger("option_remove",a);this.removeItem(a,b)},clearOptions:function(){this.loadedSearches={};this.userOptions={};this.renderCache={};this.options=this.sifter.items={};this.lastQuery=null;this.trigger("option_clear");this.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},
getAdjacentOption:function(a,c){var d=this.$dropdown.find("[data-selectable]"),e=d.index(a)+c;return 0<=e&&e<d.length?d.eq(e):b()},getElementWithValue:function(a,c){a=k(a);if("undefined"!==typeof a&&null!==a)for(var d=0,e=c.length;d<e;d++)if(c[d].getAttribute("data-value")===a)return b(c[d]);return b()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(a,c){for(var d=b.isArray(a)?a:[a],e=0,f=d.length;e<f;e++)this.isPending=e<f-1,this.addItem(d[e],c)},
addItem:function(a,c,d,e,f){u(this,c?[]:["change"],function(){var e,g,h,m=this.settings.mode,n;a=k(a);if(-1!==this.items.indexOf(a)&&"multi"!==m)"single"===m&&this.close();else if(this.options.hasOwnProperty(a)&&("single"===m&&this.clear(c),"multi"!==m||!this.isFull())&&(e=b(this.render("item",this.options[a])),g=this.isFull(),this.items.splice(this.caretPos,0,a),this.insertAtCaret(e,f),(!this.isPending||!g&&this.isFull())&&this.refreshState(),this.isSetup)){h=this.$dropdown_content.find("[data-selectable]");
this.isPending||(g=this.getOption(a),n=this.getAdjacentOption(g,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==m,d,g),n&&"multi"!==d&&this.setActiveOption(this.getOption(n)));!h.length||this.isFull()?this.close():this.positionDropdown();this.refreshOptions();for(m=0;m<this.items.length;m++)this.$dropdown_content.find(b("[data-value\x3d"+this.items[m]+"]")).find("input").prop("checked",!0);this.updatePlaceholder();this.trigger("item_add",a,e);this.updateOriginalInput({silent:c})}})},
removeAllItem:function(){this.refreshOptions();b(".chat-container .selectize-input div").remove();this.setActiveOption(null);this.items.length=0;b(this.$control).removeClass("generic-caret");this.updatePlaceholder();this.$activeItems.length=0},removeItem:function(a,c){var d,e,f;d="object"===typeof a?a:this.getItem(a);b(this.$control).hasClass("generic-caret")?(e=this.items.indexOf(a),this.items.splice(e,1)):(a=k(d.attr("data-value")),e=this.items.indexOf(a));-1!==e&&(b(this.$control).hasClass("generic-caret")?
this.updateCaretSet():(d.remove(),d.hasClass("active")&&(f=this.$activeItems.indexOf(d[0]),this.$activeItems.splice(f,1)),this.items.splice(e,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(a)&&this.removeOption(a,c),e<this.caretPos&&!b(this.$control).hasClass("generic-caret")&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:c}),this.positionDropdown(),this.trigger("item_remove",a,d)))},createItem:function(a,
c){var d=this,e=d.caretPos;a=a||b.trim(d.$control_input.val()||"");var f=arguments[arguments.length-1];"function"!==typeof f&&(f=function(){});"boolean"!==typeof c&&(c=!0);if(!d.canCreate(a))return f(),!1;d.lock();var g="function"===typeof d.settings.create?this.settings.create:function(a){var b={};b[d.settings.labelField]=a;b[d.settings.valueField]=a;return b},h=t(function(a){d.unlock();if(!a||"object"!==typeof a)return f();var b=k(a[d.settings.valueField]);if("string"!==typeof b)return f();d.setTextboxValue("");
d.addOption(a);d.setCaret(e);d.addItem(b);d.refreshOptions(c&&"single"!==d.settings.mode);f(a)}),g=g.apply(this,[a,h]);"undefined"!==typeof g&&h(g);return!0},refreshItems:function(){this.lastQuery=null;this.isSetup&&this.addItem(this.items);this.refreshState();this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0));this.refreshClasses()},refreshClasses:function(){var a=this.isFull(),c=this.isLocked;this.$wrapper.toggleClass("rtl",
this.rtl);this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",c).toggleClass("full",a).toggleClass("not-full",!a).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!b.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length);this.isOpen?this.$control_input.attr("aria-expanded",
"true"):this.$control_input.attr("aria-expanded","false");this.$control_input.data("grow",!a&&!c)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,c,d,e;a=a||{};if(1===this.tagType){d=[];b=0;for(c=this.items.length;b<c;b++)e=this.options[this.items[b]][this.settings.labelField]||"",d.push('\x3coption value\x3d"'+n(this.items[b])+'" selected\x3d"selected"\x3e'+n(e)+"\x3c/option\x3e");d.length||this.$input.attr("multiple")||
d.push('\x3coption value\x3d"" selected\x3d"selected"\x3e\x3c/option\x3e');this.$input.html(d.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(a.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder);a.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||
this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var a=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput();this.isOpen=!1;this.$dropdown.hide();this.setActiveOption(null);this.refreshState();a&&this.trigger("dropdown_close",this.$dropdown)},
positionDropdown:function(){var a=this.settings.dropdownDirection;if("auto"!==a)return this.setDropdownDirection(a);this.setDropdownDirection("down");if(!(this.$dropdown[0].getBoundingClientRect().bottom<=(window.innerHeight||b(window).height())))return this.setDropdownDirection("up")},setDropdownDirection:function(a){var b=this.$control,c="body"===this.settings.dropdownParent?b.offset():b.position();c.top+=b.outerHeight(!0);this.$dropdown.css({width:"100%",left:c.left,top:"down"===a?c.top:"auto",
bottom:"down"===a?"auto":c.top+10}).toggleClass("dropdown-up","down"!==a)},clear:function(a){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:a}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(a){var c=Math.min(this.caretPos,this.items.length);if(0===c)this.$control.prepend(a);else{b(".chat-container .selectize-input input").before(a);
a=b(this.$control[0].childNodes);var d=0;this.updatePlaceholder();for(var e=0;e<a.length;e++)d+=a[e].offsetWidth;d>this.$control[0].offsetWidth-90||b(this.$control).hasClass("generic-caret")?(b(".chat-container .selectize-input div").remove(),a="\x3cdiv class\x3d'item' data-value\x3d''\x3e\x3cdiv class\x3d'caret-text'\x3e"+this.items.length+" "+this.settings.selected_caret_text+"\x3c/div\x3e\x3ca href\x3d'javascript:void(0)' class\x3d'remove remove-all' tabindex\x3d'-1' title\x3d'Remove'\x3e\x26times;\x3c/a\x3e\x3c/div\x3e",
b(".chat-container .selectize-input input").before(b(a)),b(this.$control).addClass("generic-caret")):b(this.$control).removeClass("generic-caret");this.caretPos-=1}this.setCaret(c+1)},updateCaretSet:function(){b(".chat-container .selectize-input div").remove();for(var a=0;a<this.items.length;a++){var c=b(this.render("item",this.options[this.items[a]]));b(this.$control[0].childNodes);b(".chat-container .selectize-input input").before(c)}var c=b(this.$control[0].childNodes),d=0;this.updatePlaceholder();
for(a=0;a<c.length;a++)d+=c[a].offsetWidth;d>this.$control[0].offsetWidth-90?(b(".chat-container .selectize-input div").remove(),c="\x3cdiv class\x3d'item' data-value\x3d''\x3e"+this.items.length+" "+this.settings.selected_caret_text+" \x3ca href\x3d'javascript:void(0)' class\x3d'remove remove-all' tabindex\x3d'-1' title\x3d'Remove'\x3e\x26times;\x3c/a\x3e\x3c/div\x3e",b(".chat-container .selectize-input input").before(b(c)),b(this.$control).addClass("generic-caret")):b(this.$control).removeClass("generic-caret");
this.caretPos-=1},deleteSelection:function(a){var c,d,e,f,g,h;c=a&&8===a.keyCode?-1:1;d=x(this.$control_input[0]);this.$activeOption&&!this.settings.hideSelected&&(g=this.getAdjacentOption(this.$activeOption,-1).attr("data-value"));e=[];if(this.$activeItems.length){h=this.$control.children(".active:"+(0<c?"last":"first"));f=this.$control.children(":not(input)").index(h);0<c&&f++;c=0;for(d=this.$activeItems.length;c<d;c++)e.push(b(this.$activeItems[c]).attr("data-value"));a&&"single"===this.settings.mode&&
(a.preventDefault(),a.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(0>c&&0===d.start&&0===d.length?e.push(this.items[this.caretPos-1]):0<c&&d.start===this.$control_input.val().length&&e.push(this.items[this.caretPos]));if(!e.length||"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[e]))return!1;if(b(this.$control).hasClass("generic-caret"))this.removeAllItem();else{for("undefined"!==typeof f&&0<=f&&this.setCaret(f);e.length;)this.updateDeletedOptionInList(h,
e[0]),this.removeItem(e.pop());this.showInput();this.positionDropdown();"multi"!==this.settings.mode&&this.refreshOptions(!0);g&&(a=this.getOption(g),a.length&&this.setActiveOption(a));return!0}},advanceSelection:function(a,b){var c,d;0!==a&&(this.rtl&&(a*=-1),c=0<a?"last":"first",d=x(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(c=this.$control_input.val().length,(d=0>a?0===d.start&&0===d.length:d.start===c)&&!c&&this.advanceCaret(a,b)):(d=this.$control.children(".active:"+c),d.length&&
(d=this.$control.children(":not(input)").index(d),this.setActiveItem(null),this.setCaret(0<a?d+1:d))))},advanceCaret:function(a,b){var c;0!==a&&(c=0<a?"next":"prev",this.isShiftDown?(c=this.$control_input[c](),c.length&&(this.hideInput(),this.setActiveItem(c),b&&b.preventDefault())):this.setCaret(this.caretPos+a))},setCaret:function(a){a="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,a));if(!this.isPending){var c,d,e,f;e=this.$control.children(":not(input)");
c=0;for(d=e.length;c<d;c++)f=b(e[c]).detach(),c<a?this.$control_input.before(f):this.$control.append(f)}this.caretPos=a},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked=!1;this.refreshState()},disable:function(){this.$input.prop("disabled",!0);this.$control_input.prop("disabled",!0).prop("tabindex",-1);this.isDisabled=!0;this.lock()},enable:function(){this.$input.prop("disabled",!1);this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex);
this.isDisabled=!1;this.unlock()},destroy:function(){var a=this.eventNS,c=this.revertSettings;this.trigger("destroy");this.off();this.$wrapper.remove();this.$dropdown.remove();this.$input.html("").append(c.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:c.tabindex}).show();this.$control_input.removeData("grow");this.$input.removeData("selectize");b(window).off(a);b(document).off(a);b(document.body).off(a);delete this.$input[0].selectize},render:function(a,b){var c,d,e="",
f=!1,g=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i,h=Math.floor(1E7*Math.random());if("option"===a||"item"===a)c=k(b[this.settings.valueField]),"multi"!==this.settings.mode&&(f=!!c);if(f&&("undefined"===typeof this.renderCache[a]&&(this.renderCache[a]={}),this.renderCache[a].hasOwnProperty(c)))return this.renderCache[a][c];e=this.settings.render[a].apply(this,[b,n]);if("option"===a||"option_create"===a)e=e.replace(g,"\x3c$1 data-selectable");"optgroup"===a&&(d=b[this.settings.optgroupValueField]||
"",e=e.replace(g,'\x3c$1 data-group\x3d"'+q(n(d))+'"'));if("option"===a||"item"===a)e=e.replace(g,'\x3c$1 data-value\x3d"'+q(n(c||""))+'" role\x3d"option" id\x3d"option-'+q(n(c||""))+h+'"');f&&(this.renderCache[a][c]=e);return e},clearCache:function(a){"undefined"===typeof a?this.renderCache={}:delete this.renderCache[a]},canCreate:function(a){if(!this.settings.create)return!1;var b=this.settings.createFilter;return a.length&&("function"!==typeof b||b.apply(this,[a]))&&("string"!==typeof b||(new RegExp(b)).test(a))&&
(!(b instanceof RegExp)||b.test(a))}});y.count=0;y.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1E3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",
optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}};b.fn.selectize=function(a){var c=b.fn.selectize.defaults,d=b.extend({},c,a),e=d.dataAttr,f=d.labelField,g=d.valueField,h=d.optgroupField,m=d.optgroupLabelField,n=d.optgroupValueField,
q=function(a,c){var q,r,s,t,u=c.options,v={},w=function(a){a=e&&a.attr(e);return"string"===typeof a&&a.length?JSON.parse(a):null},x=function(a,e){a=b(a);var m=k(a.attr("value"));if(m||d.allowEmptyOption)if(v.hasOwnProperty(m)){if(e){var n=v[m][h];n?b.isArray(n)?n.push(e):v[m][h]=[n,e]:v[m][h]=e}}else n=w(a)||{},n[f]=n[f]||a.text(),n[g]=n[g]||m,n[h]=n[h]||e,v[m]=n,u.push(n),a.is(":selected")&&c.items.push(m)},y=function(a){var d,e,f;a=b(a);if(e=a.attr("label"))d=w(a)||{},d[m]=e,d[n]=e,c.optgroups.push(d);
f=b("option",a);a=0;for(d=f.length;a<d;a++)x(f[a],e)};c.maxItems=a.attr("multiple")?null:1;t=a.children();q=0;for(r=t.length;q<r;q++)s=t[q].tagName.toLowerCase(),"optgroup"===s?y(t[q]):"option"===s&&x(t[q])};return this.each(function(){if(!this.selectize){var h=b(this),k=this.tagName.toLowerCase(),m=h.attr("placeholder")||h.attr("data-placeholder");m||d.allowEmptyOption||(m=h.children('option[value\x3d""]').text());m={placeholder:m,options:[],optgroups:[],items:[]};if("select"===k)q(h,m);else{var n,
r,s;if(k=h.attr(e))for(m.options=JSON.parse(k),k=0,n=m.options.length;k<n;k++)m.items.push(m.options[k][g]);else if(k=b.trim(h.val()||""),d.allowEmptyOption||k.length){r=k.split(d.delimiter);k=0;for(n=r.length;k<n;k++)s={},s[f]=r[k],s[g]=r[k],m.options.push(s);m.items=r}}new y(h,b.extend(!0,{},c,m,a))}})};b.fn.selectize.defaults=y.defaults;b.fn.selectize.support={validity:m};y.define("drag_drop",function(a){if(!b.fn.sortable)throw Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===
this.settings.mode){var c=this;c.lock=function(){var a=c.lock;return function(){var b=c.$control.data("sortable");b&&b.disable();return a.apply(c,arguments)}}();c.unlock=function(){var a=c.unlock;return function(){var b=c.$control.data("sortable");b&&b.enable();return a.apply(c,arguments)}}();c.setup=function(){var a=c.setup;return function(){a.apply(this,arguments);var d=c.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:c.isLocked,start:function(a,b){b.placeholder.css("width",
b.helper.css("width"));d.css({overflow:"visible"})},stop:function(){d.css({overflow:"hidden"});var a=c.$activeItems?c.$activeItems.slice():null,e=[];d.children("[data-value]").each(function(){e.push(b(this).attr("data-value"))});c.setValue(e);c.setActiveItem(a)}})}}()}});y.define("dropdown_header",function(a){var c=this;a=b.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",
html:function(a){return'\x3cdiv class\x3d"'+a.headerClass+'"\x3e\x3cdiv class\x3d"'+a.titleRowClass+'"\x3e\x3cspan class\x3d"'+a.labelClass+'"\x3e'+a.title+'\x3c/span\x3e\x3ca href\x3d"javascript:void(0)" class\x3d"'+a.closeClass+'"\x3e\x26times;\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'}},a);c.setup=function(){var d=c.setup;return function(){d.apply(c,arguments);c.$dropdown_header=b(a.html(a));c.$dropdown.prepend(c.$dropdown_header)}}()});y.define("optgroup_columns",function(a){var c=this;a=b.extend({equalizeWidth:!0,
equalizeHeight:!0},a);this.getAdjacentOption=function(a,c){var d=a.closest("[data-group]").find("[data-selectable]"),e=d.index(a)+c;return 0<=e&&e<d.length?d.eq(e):b()};this.onKeyDown=function(){var a=c.onKeyDown;return function(b){var d,e;if(!this.isOpen||37!==b.keyCode&&39!==b.keyCode)return a.apply(this,arguments);c.ignoreHover=!0;e=this.$activeOption.closest("[data-group]");d=e.find("[data-selectable]").index(this.$activeOption);e=37===b.keyCode?e.prev("[data-group]"):e.next("[data-group]");e=
e.find("[data-selectable]");d=e.eq(Math.min(e.length-1,d));d.length&&this.setActiveOption(d)}}();var d=function(){var a,b=d.width,c=document;"undefined"===typeof b&&(a=c.createElement("div"),a.innerHTML='\x3cdiv style\x3d"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"\x3e\x3cdiv style\x3d"width:1px;height:100px;"\x3e\x3c/div\x3e\x3c/div\x3e',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a));return b},e=function(){var e,
f,g,h;h=b("[data-group]",c.$dropdown_content);if((f=h.length)&&c.$dropdown_content.width()){if(a.equalizeHeight){for(e=g=0;e<f;e++)g=Math.max(g,h.eq(e).height());h.css({height:g})}a.equalizeWidth&&(g=c.$dropdown_content.innerWidth()-d(),e=Math.round(g/f),h.css({width:e}),1<f&&(e=g-e*(f-1),h.eq(f-1).css({width:e})))}};if(a.equalizeHeight||a.equalizeWidth)r.after(this,"positionDropdown",e),r.after(this,"refreshOptions",e)});y.define("remove_button",function(a){if("single"!==this.settings.mode){a=b.extend({label:"\x26times;",
title:"Remove",className:"remove",append:!0},a);var c=this,d='\x3ca href\x3d"javascript:void(0)" class\x3d"'+a.className+'" tabindex\x3d"-1" title\x3d"'+n(a.title)+'"\x3e'+a.label+"\x3c/a\x3e";this.setup=function(){var e=c.setup;return function(){if(a.append){var f=c.settings.render.item;c.settings.render.item=function(a){var b=f.apply(this,arguments),c=b.search(/(<\/[^>]+>\s*)$/);return b.substring(0,c)+d+b.substring(c)}}e.apply(this,arguments);this.$control.on("click","."+a.className,function(a){a.preventDefault();
c.isLocked||(a=b(a.currentTarget).parent(),c.setActiveItem(a),c.deleteSelection()&&c.setCaret(c.items.length))});this.$control.on("click",".remove-all",function(a){c.removeAllItem()})}}()}});y.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]};this.onKeyDown=function(){var c=b.onKeyDown;return function(b){var d;if(8===b.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(d=this.caretPos-1,0<=d&&d<this.items.length)){d=
this.options[this.items[d]];this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[d])),this.refreshOptions(!0));b.preventDefault();return}return c.apply(this,arguments)}}()});return y});"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);var momentNoConflict;window.moment&&(momentNoConflict=window.moment);
!function(b,f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define(f):b.moment=f()}(this,function(){function b(){return bc.apply(null,arguments)}function f(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function h(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function e(a){return a instanceof
Date||"[object Date]"===Object.prototype.toString.call(a)}function a(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function c(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function m(a,b,c,d){return nb(a,b,c,d,!0).utc()}function k(a){return null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,
invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),a._pf}function n(a){if(null==a._isValid){var b=k(a),c=jc.call(b.parsedDateParts,function(a){return null!=a}),c=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(c=c&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return c;
a._isValid=c}return a._isValid}function q(a){var b=m(NaN);return null!=a?g(k(b),a):k(b).userInvalidated=!0,b}function r(a){return void 0===a}function t(a,b){var c,d,l;if(r(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),r(b._i)||(a._i=b._i),r(b._f)||(a._f=b._f),r(b._l)||(a._l=b._l),r(b._strict)||(a._strict=b._strict),r(b._tzm)||(a._tzm=b._tzm),r(b._isUTC)||(a._isUTC=b._isUTC),r(b._offset)||(a._offset=b._offset),r(b._pf)||(a._pf=k(b)),r(b._locale)||(a._locale=b._locale),0<Gb.length)for(c in Gb)d=
Gb[c],l=b[d],r(l)||(a[d]=l);return a}function s(a){t(this,a);this._d=new Date(null!=a._d?a._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===Qb&&(Qb=!0,b.updateOffset(this),Qb=!1)}function u(a){return a instanceof s||null!=a&&null!=a._isAMomentObject}function v(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function x(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=v(a)),b}function w(a,b,c){var d,l=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(d=0;d<l;d++)(c&&a[d]!==b[d]||
!c&&x(a[d])!==x(b[d]))&&f++;return f+e}function y(a){!1===b.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function z(a,c){var d=!0;return g(function(){if(null!=b.deprecationHandler&&b.deprecationHandler(null,a),d){for(var l,e=[],f=0;f<arguments.length;f++){if(l="","object"==typeof arguments[f]){l+="\n["+f+"] ";for(var g in arguments[0])l+=g+": "+arguments[0][g]+", ";l=l.slice(0,-2)}else l=arguments[f];e.push(l)}y(a+"\nArguments: "+
Array.prototype.slice.call(e).join("")+"\n"+Error().stack);d=!1}return c.apply(this,arguments)},c)}function F(a,c){null!=b.deprecationHandler&&b.deprecationHandler(a,c);Yb[a]||(y(c),Yb[a]=!0)}function K(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function C(a,b){var l,e=g({},a);for(l in b)c(b,l)&&(d(a[l])&&d(b[l])?(e[l]={},g(e[l],a[l]),g(e[l],b[l])):null!=b[l]?e[l]=b[l]:delete e[l]);for(l in a)c(a,l)&&!c(b,l)&&d(a[l])&&(e[l]=g({},e[l]));return e}function L(a){null!=
a&&this.set(a)}function A(a,b){var c=a.toLowerCase();db[c]=db[c+"s"]=db[b]=a}function B(a){return"string"==typeof a?db[a]||db[a.toLowerCase()]:void 0}function J(a){var b,d,l={};for(d in a)c(a,d)&&(b=B(d),b&&(l[b]=a[d]));return l}function P(a){var b=[],c;for(c in a)b.push({unit:c,priority:ja[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function M(a,c){return function(d){null!=d?(this.isValid()&&this._d["set"+(this._isUTC?"UTC":"")+a](d),d=(b.updateOffset(this,c),this)):d=ia(this,
a);return d}}function ia(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function aa(a,b,c){var d=""+Math.abs(a);return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,b-d.length)).toString().substr(1)+d}function E(a,b,c,d){var l=d;"string"==typeof d&&(l=function(){return this[d]()});a&&(eb[a]=l);b&&(eb[b[0]]=function(){return aa(l.apply(this,arguments),b[1],b[2])});c&&(eb[c]=function(){return this.localeData().ordinal(l.apply(this,arguments),a)})}function ua(a){return a.match(/\[[\s\S]/)?
a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function va(a){var b,c,d=a.match(Rb);b=0;for(c=d.length;b<c;b++)eb[d[b]]?d[b]=eb[d[b]]:d[b]=ua(d[b]);return function(b){var l,e="";for(l=0;l<c;l++)e+=d[l]instanceof Function?d[l].call(b,a):d[l];return e}}function Ba(a,b){return a.isValid()?(b=V(b,a.localeData()),Cb[b]=Cb[b]||va(b),Cb[b](a)):a.localeData().invalidDate()}function V(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Bb.lastIndex=0;0<=d&&Bb.test(a);)a=a.replace(Bb,c),Bb.lastIndex=
0,d-=1;return a}function G(a,b,c){Jb[a]=K(b)?b:function(a,d){return a&&c?c:b}}function U(a,b){return c(Jb,a)?Jb[a](b._strict,b._locale):new RegExp(ka(a))}function ka(a){return oa(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,l){return b||c||d||l}))}function oa(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26")}function Q(a,b){var c,d=b;"string"==typeof a&&(a=[a]);h(b)&&(d=function(a,c){c[b]=x(a)});for(c=0;c<a.length;c++)Kb[a[c]]=d}function la(a,b){Q(a,function(a,
c,d,l){d._w=d._w||{};b(a,d._w,d,l)})}function ba(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function T(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=x(b);else if(b=a.localeData().monthsParse(b),!h(b))return a;return c=Math.min(a.date(),ba(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ga(a){return null!=a?(T(this,a),b.updateOffset(this,!0),this):ia(this,"Month")}function Xa(){function a(b,c){return c.length-b.length}var b,c,d=[],l=
[],e=[];for(b=0;12>b;b++)c=m([2E3,b]),d.push(this.monthsShort(c,"")),l.push(this.months(c,"")),e.push(this.months(c,"")),e.push(this.monthsShort(c,""));d.sort(a);l.sort(a);e.sort(a);for(b=0;12>b;b++)d[b]=oa(d[b]),l[b]=oa(l[b]);for(b=0;24>b;b++)e[b]=oa(e[b]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+e.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+l.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function Z(a){return 0===a%4&&0!==a%100||
0===a%400}function Ea(a,b,c,d,l,e,f){b=new Date(a,b,c,d,l,e,f);return 100>a&&0<=a&&isFinite(b.getFullYear())&&b.setFullYear(a),b}function X(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function na(a,b,c){c=7+b-c;return-((7+X(a,0,c).getUTCDay()-b)%7)+c-1}function sa(a,b,c,d,l){var e,f;c=(7+c-d)%7;d=na(a,d,l);b=1+7*(b-1)+c+d;return 0>=b?(e=a-1,f=(Z(e)?366:365)+b):b>(Z(a)?366:365)?(e=a+1,f=b-(Z(a)?366:365)):(e=a,f=b),{year:e,
dayOfYear:f}}function ca(a,b,c){var d,l,e=na(a.year(),b,c),e=Math.floor((a.dayOfYear()-e-1)/7)+1;return 1>e?(l=a.year()-1,d=e+ta(l,b,c)):e>ta(a.year(),b,c)?(d=e-ta(a.year(),b,c),l=a.year()+1):(l=a.year(),d=e),{week:d,year:l}}function ta(a,b,c){var d=na(a,b,c);b=na(a+1,b,c);return((Z(a)?366:365)-d+b)/7}function cb(){function a(b,c){return c.length-b.length}var b,c,d,l,e=[],f=[],g=[],h=[];for(b=0;7>b;b++)c=m([2E3,1]).day(b),d=this.weekdaysMin(c,""),l=this.weekdaysShort(c,""),c=this.weekdays(c,""),e.push(d),
f.push(l),g.push(c),h.push(d),h.push(l),h.push(c);e.sort(a);f.sort(a);g.sort(a);h.sort(a);for(b=0;7>b;b++)f[b]=oa(f[b]),g[b]=oa(g[b]),h[b]=oa(h[b]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+f.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Qa(){return this.hours()%12||12}function Ua(a,
b){E(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ma(a,b){return b._meridiemParse}function Na(a){return a?a.toLowerCase().replace("_","-"):a}function Ra(a){var b=null;if(!ea[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Lb._abbr,require("./locale/"+a),Ja(b)}catch(c){}return ea[a]}function Ja(a,b){var c;return a&&(c=r(b)?l(a):qb(a,b),c&&(Lb=c)),Lb._abbr}function qb(a,b){if(null!==b){var c=Db;if(b.abbr=a,null!=ea[a])F("defineLocaleOverride",
"use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=ea[a]._config;else if(null!=b.parentLocale){if(null==ea[b.parentLocale])return ib[b.parentLocale]||(ib[b.parentLocale]=[]),ib[b.parentLocale].push({name:a,config:b}),null;c=ea[b.parentLocale]._config}return ea[a]=new L(C(c,b)),ib[a]&&ib[a].forEach(function(a){qb(a.name,
a.config)}),Ja(a),ea[a]}return delete ea[a],null}function l(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Lb;if(!f(a)){if(b=Ra(a))return b;a=[a]}a:{for(var c,d,l,e=0;e<a.length;){l=Na(a[e]).split("-");b=l.length;for(c=(c=Na(a[e+1]))?c.split("-"):null;0<b;){if(d=Ra(l.slice(0,b).join("-"))){a=d;break a}if(c&&c.length>=b&&w(l,c,!0)>=b-1)break;b--}e++}a=null}return a}function H(a){var b,c=a._a;return c&&-2===k(a).overflow&&(b=0>c[La]||11<c[La]?La:1>c[Ha]||c[Ha]>ba(c[xa],c[La])?
Ha:0>c[pa]||24<c[pa]||24===c[pa]&&(0!==c[Ia]||0!==c[Ta]||0!==c[hb])?pa:0>c[Ia]||59<c[Ia]?Ia:0>c[Ta]||59<c[Ta]?Ta:0>c[hb]||999<c[hb]?hb:-1,k(a)._overflowDayOfYear&&(b<xa||b>Ha)&&(b=Ha),k(a)._overflowWeeks&&-1===b&&(b=lc),k(a)._overflowWeekday&&-1===b&&(b=mc),k(a).overflow=b),a}function ma(a){var b,c,d,l,e,f;b=a._i;var g=nc.exec(b)||xb.exec(b);if(g){k(a).iso=!0;b=0;for(c=yb.length;b<c;b++)if(yb[b][1].exec(g[1])){l=yb[b][0];d=!1!==yb[b][2];break}if(null==l)return void(a._isValid=!1);if(g[3]){b=0;for(c=
zb.length;b<c;b++)if(zb[b][1].exec(g[3])){e=(g[2]||" ")+zb[b][0];break}if(null==e)return void(a._isValid=!1)}if(!d&&null!=e)return void(a._isValid=!1);if(g[4]){if(!gc.exec(g[4]))return void(a._isValid=!1);f="Z"}a._f=l+(e||"")+(f||"");ya(a)}else a._isValid=!1}function O(a){var c=oc.exec(a._i);return null!==c?void(a._d=new Date(+c[1])):(ma(a),void(!1===a._isValid&&(delete a._isValid,b.createFromInputFallback(a))))}function ra(a,b,c){return null!=a?a:null!=b?b:c}function p(a){var c,d,l,e=[];if(!a._d){d=
new Date(b.now());d=a._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];if(a._w&&null==a._a[Ha]&&null==a._a[La]){var f,g,h,H,p,m,n,ma;(f=a._w,null!=f.GG||null!=f.W||null!=f.E)?(p=1,m=4,g=ra(f.GG,a._a[xa],ca(da(),1,4).year),h=ra(f.W,1),H=ra(f.E,1),(1>H||7<H)&&(ma=!0)):(p=a._locale._week.dow,m=a._locale._week.doy,h=ca(da(),p,m),g=ra(f.gg,a._a[xa],h.year),h=ra(f.w,h.week),null!=f.d?(H=f.d,(0>H||6<H)&&(ma=!0)):null!=f.e?(H=f.e+p,(0>f.e||6<f.e)&&(ma=
!0)):H=p);1>h||h>ta(g,p,m)?k(a)._overflowWeeks=!0:null!=ma?k(a)._overflowWeekday=!0:(n=sa(g,h,H,p,m),a._a[xa]=n.year,a._dayOfYear=n.dayOfYear)}a._dayOfYear&&(l=ra(a._a[xa],d[xa]),a._dayOfYear>(Z(l)?366:365)&&(k(a)._overflowDayOfYear=!0),c=X(l,0,a._dayOfYear),a._a[La]=c.getUTCMonth(),a._a[Ha]=c.getUTCDate());for(c=0;3>c&&null==a._a[c];++c)a._a[c]=e[c]=d[c];for(;7>c;c++)a._a[c]=e[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[pa]&&0===a._a[Ia]&&0===a._a[Ta]&&0===a._a[hb]&&(a._nextDay=!0,a._a[pa]=0);a._d=
(a._useUTC?X:Ea).apply(null,e);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[pa]=24)}}function ya(a){if(a._f===b.ISO_8601)return void ma(a);a._a=[];k(a).empty=!0;var d,l,e,f,g,h=""+a._i,m=h.length,n=0;e=V(a._f,a._locale).match(Rb)||[];for(d=0;d<e.length;d++)if(f=e[d],(l=(h.match(U(f,a))||[])[0])&&(g=h.substr(0,h.indexOf(l)),0<g.length&&k(a).unusedInput.push(g),h=h.slice(h.indexOf(l)+l.length),n+=l.length),eb[f]){l?k(a).empty=!1:k(a).unusedTokens.push(f);var O=a;null!=
l&&c(Kb,f)&&Kb[f](l,O._a,O,f)}else a._strict&&!l&&k(a).unusedTokens.push(f);k(a).charsLeftOver=m-n;0<h.length&&k(a).unusedInput.push(h);12>=a._a[pa]&&!0===k(a).bigHour&&0<a._a[pa]&&(k(a).bigHour=void 0);k(a).parsedDateParts=a._a.slice(0);k(a).meridiem=a._meridiem;d=a._a;e=pa;h=a._locale;g=a._a[pa];var m=a._meridiem,q,h=null==m?g:null!=h.meridiemHour?h.meridiemHour(g,m):null!=h.isPM?(q=h.isPM(m),q&&12>g&&(g+=12),q||12!==g||(g=0),g):g;d[e]=h;p(a);H(a)}function Ya(b){if(!b._d){var c=J(b._i);b._a=a([c.year,
c.month,c.day||c.date,c.hour,c.minute,c.second,c.millisecond],function(a){return a&&parseInt(a,10)});p(b)}}function Za(a){var b=a._i,c=a._f;a._locale=a._locale||l(a._l);if(null===b||void 0===c&&""===b)a=q({nullInput:!0});else if("string"==typeof b&&(a._i=b=a._locale.preparse(b)),u(b))a=new s(H(b));else{if(e(b))a._d=b;else if(f(c)){var d,h,p;if(0===a._f.length)k(a).invalidFormat=!0,a._d=new Date(NaN);else{for(b=0;b<a._f.length;b++)c=0,d=t({},a),null!=a._useUTC&&(d._useUTC=a._useUTC),d._f=a._f[b],ya(d),
n(d)&&(c+=k(d).charsLeftOver,c+=10*k(d).unusedTokens.length,k(d).score=c,(null==p||c<p)&&(p=c,h=d));g(a,h||d)}}else c?ya(a):Eb(a);a=(n(a)||(a._d=null),a)}return a}function Eb(c){var d=c._i;void 0===d?c._d=new Date(b.now()):e(d)?c._d=new Date(d.valueOf()):"string"==typeof d?O(c):f(d)?(c._a=a(d.slice(0),function(a){return parseInt(a,10)}),p(c)):"object"==typeof d?Ya(c):h(d)?c._d=new Date(d):b.createFromInputFallback(c)}function nb(a,b,c,l,e){var g={};!0!==c&&!1!==c||(l=c,c=void 0);var h;if(h=d(a))a:{h=
a;for(var k in h){h=!1;break a}h=!0}(h||f(a)&&0===a.length)&&(a=void 0);g._isAMomentObject=!0;g._useUTC=g._isUTC=e;g._l=c;g._i=a;g._f=b;g._strict=l;a=new s(H(Za(g)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function da(a,b,c,d){return nb(a,b,c,d,!1)}function Fb(a,b){var c,d;if(1===b.length&&f(b[0])&&(b=b[0]),!b.length)return da();c=b[0];for(d=1;d<b.length;++d)b[d].isValid()&&!b[d][a](c)||(c=b[d]);return c}function fb(a){a=J(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,f=
a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+f+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=l();this._bubble()}function za(a){return a instanceof fb}function Da(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function $b(a,b){E(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+aa(~~(a/60),2)+b+aa(~~a%60,2)})}function sb(a,b){var c=(b||"").match(a);if(null===c)return null;var c=((c[c.length-1]||[])+
"").match(R)||["-",0,0],d=+(60*c[1])+x(c[2]);return 0===d?0:"+"===c[0]?d:-d}function Ka(a,c){var d,l;return c._isUTC?(d=c.clone(),l=(u(a)||e(a)?a.valueOf():da(a).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+l),b.updateOffset(d,!1),d):da(a).local()}function Mb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Vb(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Fa(a,b){var d,l,e,f=a;e=null;za(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:h(a)?(f={},b?f[b]=a:f.milliseconds=
a):(e=uc.exec(a))?(d="-"===e[1]?-1:1,f={y:0,d:x(e[Ha])*d,h:x(e[pa])*d,m:x(e[Ia])*d,s:x(e[Ta])*d,ms:x(Da(1E3*e[hb]))*d}):(e=vc.exec(a))?(d="-"===e[1]?-1:1,f={y:I(e[2],d),M:I(e[3],d),w:I(e[4],d),d:I(e[5],d),h:I(e[6],d),m:I(e[7],d),s:I(e[8],d)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=da(f.from),f=da(f.to),e=e.isValid()&&f.isValid()?(f=Ka(f,e),e.isBefore(f)?d=wa(e,f):(d=wa(f,e),d.milliseconds=-d.milliseconds,d.months=-d.months),d):{milliseconds:0,months:0},f={},f.ms=e.milliseconds,
f.M=e.months);return l=new fb(f),za(a)&&c(a,"_locale")&&(l._locale=a._locale),l}function I(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function wa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Xb(a,b){return function(c,d){var l,e;return null===d||isNaN(+d)||(F(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+
b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),e=c,c=d,d=e),c="string"==typeof c?+c:c,l=Fa(c,d),Wb(this,l,a),this}}function Wb(a,c,d,l){var e=c._milliseconds,f=Da(c._days);c=Da(c._months);a.isValid()&&(l=null==l||l,e&&a._d.setTime(a._d.valueOf()+e*d),f&&(e=ia(a,"Date")+f*d,a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+"Date"](e)),c&&T(a,ia(a,"Month")+c*d),l&&b.updateOffset(a,f||c))}function Pb(a){var b;return void 0===a?this._locale._abbr:(b=l(a),
null!=b&&(this._locale=b),this)}function jb(){return this._locale}function Ca(a,b){E(0,[a,a.length],0,b)}function $a(a,b,c,d,l){var e;null==a?a=ca(this,d,l).year:(e=ta(a,d,l),b>e&&(b=e),a=sa(a,b,c,d,l),a=X(a.year,0,a.dayOfYear),a=(this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this));return a}function kb(a,b){b[hb]=x(1E3*("0."+a))}function ac(a){return a}function bb(a,b,c,d){var e=l();b=m().set(d,b);return e[c](b,a)}function Nb(a,b,c){if(h(a)&&(b=a,a=void 0),a=
a||"",null!=b)return bb(a,b,c,"month");var d=[];for(b=0;12>b;b++)d[b]=bb(a,b,c,"month");return d}function Sa(a,b,c,d){"boolean"==typeof a?(h(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,h(b)&&(c=b,b=void 0),b=b||"");var e=l();a=a?e._week.dow:0;if(null!=c)return bb(b,(c+a)%7,d,"day");e=[];for(c=0;7>c;c++)e[c]=bb(b,(c+a)%7,d,"day");return e}function tb(a,b,c,d){b=Fa(b,c);return a._milliseconds+=d*b._milliseconds,a._days+=d*b._days,a._months+=d*b._months,a._bubble()}function ob(a){return 0>a?Math.floor(a):
Math.ceil(a)}function Oa(a){return function(){return this.as(a)}}function Wa(a){return function(){return this._data[a]}}function Aa(a,b,c,d,l){return l.relativeTime(b||1,!!c,a,d)}function Ab(){var a,b,c,d=ic(this._milliseconds)/1E3,l=ic(this._days),e=ic(this._months);a=v(d/60);b=v(a/60);d%=60;a%=60;c=v(e/12);var e=e%12,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(c?c+"Y":"")+(e?e+"M":"")+(l?l+"D":"")+(b||a||d?"T":"")+(b?b+"H":"")+(a?a+"M":"")+(d?d+"S":""):"P0D"}var bc,jc=Array.prototype.some?Array.prototype.some:
function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1},Gb=b.momentProperties=[],Qb=!1,Yb={};b.suppressDeprecationWarnings=!1;b.deprecationHandler=null;var hc=Object.keys?Object.keys:function(a){var b,d=[];for(b in a)c(a,b)&&d.push(b);return d},db={},ja={},Rb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
Bb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Cb={},eb={},Ob=/\d/,Ga=/\d\d/,Sb=/\d{3}/,Tb=/\d{4}/,ub=/[+-]?\d{6}/,S=/\d\d?/,pb=/\d\d\d\d?/,gb=/\d\d\d\d\d\d?/,vb=/\d{1,3}/,Ub=/\d{1,4}/,Hb=/[+-]?\d{1,6}/,cc=/\d+/,ab=/[+-]?\d+/,kc=/Z|[+-]\d\d:?\d\d/gi,Ib=/Z|[+-]\d\d(?::?\d\d)?/gi,wb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Jb={},Kb={},xa=0,La=1,Ha=2,pa=3,Ia=4,Ta=5,hb=6,lc=7,mc=8,qa=Array.prototype.indexOf?Array.prototype.indexOf:
function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};E("M",["MM",2],"Mo",function(){return this.month()+1});E("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});E("MMMM",0,0,function(a){return this.localeData().months(this,a)});A("month","M");ja.month=8;G("M",S);G("MM",S,Ga);G("MMM",function(a,b){return b.monthsShortRegex(a)});G("MMMM",function(a,b){return b.monthsRegex(a)});Q(["M","MM"],function(a,b){b[La]=x(a)-1});Q(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,
d,c._strict);null!=d?b[La]=d:k(c).invalidMonth=a});var dc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;E("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a});E(0,["YY",2],0,function(){return this.year()%100});E(0,["YYYY",4],0,"year");E(0,["YYYYY",5],0,"year");E(0,["YYYYYY",6,!0],0,"year");A("year","y");ja.year=1;G("Y",ab);G("YY",S,Ga);G("YYYY",Ub,Tb);G("YYYYY",Hb,ub);G("YYYYYY",Hb,ub);Q(["YYYYY","YYYYYY"],xa);Q("YYYY",function(a,c){c[xa]=2===a.length?b.parseTwoDigitYear(a):x(a)});Q("YY",function(a,
c){c[xa]=b.parseTwoDigitYear(a)});Q("Y",function(a,b){b[xa]=parseInt(a,10)});b.parseTwoDigitYear=function(a){return x(a)+(68<x(a)?1900:2E3)};var ec=M("FullYear",!0);E("w",["ww",2],"wo","week");E("W",["WW",2],"Wo","isoWeek");A("week","w");A("isoWeek","W");ja.week=5;ja.isoWeek=5;G("w",S);G("ww",S,Ga);G("W",S);G("WW",S,Ga);la(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=x(a)});E("d",0,"do","day");E("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});E("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,
a)});E("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});E("e",0,0,"weekday");E("E",0,0,"isoWeekday");A("day","d");A("weekday","e");A("isoWeekday","E");ja.day=11;ja.weekday=11;ja.isoWeekday=11;G("d",S);G("e",S);G("E",S);G("dd",function(a,b){return b.weekdaysMinRegex(a)});G("ddd",function(a,b){return b.weekdaysShortRegex(a)});G("dddd",function(a,b){return b.weekdaysRegex(a)});la(["dd","ddd","dddd"],function(a,b,c,d){d=c._locale.weekdaysParse(a,d,c._strict);null!=d?b.d=d:k(c).invalidWeekday=
a});la(["d","e","E"],function(a,b,c,d){b[d]=x(a)});E("H",["HH",2],0,"hour");E("h",["hh",2],0,Qa);E("k",["kk",2],0,function(){return this.hours()||24});E("hmm",0,0,function(){return""+Qa.apply(this)+aa(this.minutes(),2)});E("hmmss",0,0,function(){return""+Qa.apply(this)+aa(this.minutes(),2)+aa(this.seconds(),2)});E("Hmm",0,0,function(){return""+this.hours()+aa(this.minutes(),2)});E("Hmmss",0,0,function(){return""+this.hours()+aa(this.minutes(),2)+aa(this.seconds(),2)});Ua("a",!0);Ua("A",!1);A("hour",
"h");ja.hour=13;G("a",Ma);G("A",Ma);G("H",S);G("h",S);G("HH",S,Ga);G("hh",S,Ga);G("hmm",pb);G("hmmss",gb);G("Hmm",pb);G("Hmmss",gb);Q(["H","HH"],pa);Q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});Q(["h","hh"],function(a,b,c){b[pa]=x(a);k(c).bigHour=!0});Q("hmm",function(a,b,c){var d=a.length-2;b[pa]=x(a.substr(0,d));b[Ia]=x(a.substr(d));k(c).bigHour=!0});Q("hmmss",function(a,b,c){var d=a.length-4,l=a.length-2;b[pa]=x(a.substr(0,d));b[Ia]=x(a.substr(d,2));b[Ta]=x(a.substr(l));
k(c).bigHour=!0});Q("Hmm",function(a,b,c){c=a.length-2;b[pa]=x(a.substr(0,c));b[Ia]=x(a.substr(c))});Q("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[pa]=x(a.substr(0,c));b[Ia]=x(a.substr(c,2));b[Ta]=x(a.substr(d))});var Lb,fc=M("Hours",!0),Db={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",
LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),meridiemParse:/[ap]\.?m?\.?/i},ea={},ib={},nc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xb=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gc=/Z|[+-]\d\d(?::?\d\d)?/,yb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],
["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],zb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],
["HHmm",/\d\d\d\d/],["HH",/\d\d/]],oc=/^\/?Date\((\-?\d+)/i;b.createFromInputFallback=z("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});b.ISO_8601=function(){};var pc=z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",
function(){var a=da.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:q()}),qc=z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=da.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:q()});$b("Z",":");$b("ZZ","");G("Z",Ib);G("ZZ",Ib);Q(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=sb(Ib,a)});var R=/([\+\-]|\d\d)/gi;b.updateOffset=function(){};var uc=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,
vc=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Fa.fn=fb.prototype;var wc=Xb(1,"add"),xc=Xb(-1,"subtract");b.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";b.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var rc=z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});
E(0,["gg",2],0,function(){return this.weekYear()%100});E(0,["GG",2],0,function(){return this.isoWeekYear()%100});Ca("gggg","weekYear");Ca("ggggg","weekYear");Ca("GGGG","isoWeekYear");Ca("GGGGG","isoWeekYear");A("weekYear","gg");A("isoWeekYear","GG");ja.weekYear=1;ja.isoWeekYear=1;G("G",ab);G("g",ab);G("GG",S,Ga);G("gg",S,Ga);G("GGGG",Ub,Tb);G("gggg",Ub,Tb);G("GGGGG",Hb,ub);G("ggggg",Hb,ub);la(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=x(a)});la(["gg","GG"],function(a,c,d,l){c[l]=
b.parseTwoDigitYear(a)});E("Q",0,"Qo","quarter");A("quarter","Q");ja.quarter=7;G("Q",Ob);Q("Q",function(a,b){b[La]=3*(x(a)-1)});E("D",["DD",2],"Do","date");A("date","D");ja.date=9;G("D",S);G("DD",S,Ga);G("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient});Q(["D","DD"],Ha);Q("Do",function(a,b){b[Ha]=x(a.match(S)[0],10)});var sc=M("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear");A("dayOfYear","DDD");ja.dayOfYear=4;G("DDD",vb);G("DDDD",Sb);Q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=
x(a)});E("m",["mm",2],0,"minute");A("minute","m");ja.minute=14;G("m",S);G("mm",S,Ga);Q(["m","mm"],Ia);var yc=M("Minutes",!1);E("s",["ss",2],0,"second");A("second","s");ja.second=15;G("s",S);G("ss",S,Ga);Q(["s","ss"],Ta);var zc=M("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)});E(0,["SS",2],0,function(){return~~(this.millisecond()/10)});E(0,["SSS",3],0,"millisecond");E(0,["SSSS",4],0,function(){return 10*this.millisecond()});E(0,["SSSSS",5],0,function(){return 100*this.millisecond()});
E(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});E(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});E(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});E(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});A("millisecond","ms");ja.millisecond=16;G("S",vb,Ob);G("SS",vb,Ga);G("SSS",vb,Sb);var Va;for(Va="SSSS";9>=Va.length;Va+="S")G(Va,cc);for(Va="S";9>=Va.length;Va+="S")Q(Va,kb);var Ac=M("Milliseconds",!1);E("z",0,0,"zoneAbbr");E("zz",0,0,"zoneName");
var D=s.prototype;D.add=wc;D.calendar=function(a,c){var d=a||da(),l=Ka(d,this).startOf("day"),l=b.calendarFormat(this,l)||"sameElse",e=c&&(K(c[l])?c[l].call(this,d):c[l]);return this.format(e||this.localeData().calendar(l,this,da(d)))};D.clone=function(){return new s(this)};D.diff=function(a,b,c){var d,l;if(this.isValid())if(a=Ka(a,this),a.isValid()){d=6E4*(a.utcOffset()-this.utcOffset());b=B(b);if("year"===b||"month"===b||"quarter"===b){var e;d=12*(a.year()-this.year())+(a.month()-this.month());
var f=this.clone().add(d,"months");a=(0>a-f?(l=this.clone().add(d-1,"months"),e=(a-f)/(f-l)):(l=this.clone().add(d+1,"months"),e=(a-f)/(l-f)),-(d+e)||0);"quarter"===b?a/=3:"year"===b&&(a/=12)}else l=this-a,a="second"===b?l/1E3:"minute"===b?l/6E4:"hour"===b?l/36E5:"day"===b?(l-d)/864E5:"week"===b?(l-d)/6048E5:l;b=c?a:v(a)}else b=NaN;else b=NaN;return b};D.endOf=function(a){return a=B(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,
"ms"))};D.format=function(a){a||(a=this.isUtc()?b.defaultFormatUtc:b.defaultFormat);a=Ba(this,a);return this.localeData().postformat(a)};D.from=function(a,b){return this.isValid()&&(u(a)&&a.isValid()||da(a).isValid())?Fa({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};D.fromNow=function(a){return this.from(da(),a)};D.to=function(a,b){return this.isValid()&&(u(a)&&a.isValid()||da(a).isValid())?Fa({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};
D.toNow=function(a){return this.to(da(),a)};D.get=function(a){return a=B(a),K(this[a])?this[a]():this};D.invalidAt=function(){return k(this).overflow};D.isAfter=function(a,b){var c=u(a)?a:da(a);return!(!this.isValid()||!c.isValid())&&(b=B(r(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())};D.isBefore=function(a,b){var c=u(a)?a:da(a);return!(!this.isValid()||!c.isValid())&&(b=B(r(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():
this.clone().endOf(b).valueOf()<c.valueOf())};D.isBetween=function(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))};D.isSame=function(a,b){var c,d=u(a)?a:da(a);return!(!this.isValid()||!d.isValid())&&(b=B(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))};D.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,
b)};D.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)};D.isValid=function(){return n(this)};D.lang=rc;D.locale=Pb;D.localeData=jb;D.max=qc;D.min=pc;D.parsingFlags=function(){return g({},k(this))};D.set=function(a,b){if("object"==typeof a){a=J(a);for(var c=P(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=B(a),K(this[a]))return this[a](b);return this};D.startOf=function(a){switch(a=B(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":case "date":this.hours(0);
case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this};D.subtract=xc;D.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};D.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),
milliseconds:this.milliseconds()}};D.toDate=function(){return new Date(this.valueOf())};D.toISOString=function(){var a=this.clone().utc();return 0<a.year()&&9999>=a.year()?K(Date.prototype.toISOString)?this.toDate().toISOString():Ba(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Ba(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")};D.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var a="["+a+'("]',
c=0<this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(a+c+"-MM-DD[T]HH:mm:ss.SSS"+(b+'[")]'))};D.toJSON=function(){return this.isValid()?this.toISOString():null};D.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};D.unix=function(){return Math.floor(this.valueOf()/1E3)};D.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};D.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,
strict:this._strict}};D.year=ec;D.isLeapYear=function(){return Z(this.year())};D.weekYear=function(a){return $a.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};D.isoWeekYear=function(a){return $a.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};D.quarter=D.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};D.month=ga;D.daysInMonth=function(){return ba(this.year(),this.month())};D.week=D.weeks=function(a){var b=
this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};D.isoWeek=D.isoWeeks=function(a){var b=ca(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};D.weeksInYear=function(){var a=this.localeData()._week;return ta(this.year(),a.dow,a.doy)};D.isoWeeksInYear=function(){return ta(this.year(),1,4)};D.date=sc;D.day=D.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a)var c=a,d=this.localeData(),b=(a="string"!=typeof c?
c:isNaN(c)?(c=d.weekdaysParse(c),"number"==typeof c?c:null):parseInt(c,10),this.add(a-b,"d"));return b};D.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};D.isoWeekday=function(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=this.localeData();a="string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a;return this.day(this.day()%7?a:a-7)}return this.day()||7};D.dayOfYear=function(a){var b=
Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};D.hour=D.hours=fc;D.minute=D.minutes=yc;D.second=D.seconds=zc;D.millisecond=D.milliseconds=Ac;D.utcOffset=function(a,c){var d,l=this._offset||0;if(!this.isValid())return null!=a?this:NaN;if(null!=a){if("string"==typeof a){if(a=sb(Ib,a),null===a)return this}else 16>Math.abs(a)&&(a*=60);return!this._isUTC&&c&&(d=Mb(this)),this._offset=a,this._isUTC=!0,null!=d&&this.add(d,"m"),l!==a&&(!c||
this._changeInProgress?Wb(this,Fa(a-l,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,b.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?l:Mb(this)};D.utc=function(a){return this.utcOffset(0,a)};D.local=function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Mb(this),"m")),this};D.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var a=sb(kc,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,
!0)}return this};D.hasAlignedHourOffset=function(a){return!!this.isValid()&&(a=a?da(a).utcOffset():0,0===(this.utcOffset()-a)%60)};D.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};D.isLocal=function(){return!!this.isValid()&&!this._isUTC};D.isUtcOffset=function(){return!!this.isValid()&&this._isUTC};D.isUtc=Vb;D.isUTC=Vb;D.zoneAbbr=function(){return this._isUTC?"UTC":""};D.zoneName=function(){return this._isUTC?"Coordinated Universal Time":
""};D.dates=z("dates accessor is deprecated. Use date instead.",sc);D.months=z("months accessor is deprecated. Use month instead",ga);D.years=z("years accessor is deprecated. Use year instead",ec);D.zone=z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});D.isDSTShifted=z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",
function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var a={};if(t(a,this),a=Za(a),a._a){var b=a._isUTC?m(a._a):da(a._a);this._isDSTShifted=this.isValid()&&0<w(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var fa=L.prototype;fa.calendar=function(a,b,c){a=this._calendar[a]||this._calendar.sameElse;return K(a)?a.call(b,c):a};fa.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=
c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])};fa.invalidDate=function(){return this._invalidDate};fa.ordinal=function(a){return this._ordinal.replace("%d",a)};fa.preparse=ac;fa.postformat=ac;fa.relativeTime=function(a,b,c,d){var l=this._relativeTime[c];return K(l)?l(a,b,c,d):l.replace(/%d/i,a)};fa.pastFuture=function(a,b){var c=this._relativeTime[0<a?"future":"past"];return K(c)?c(b):c.replace(/%s/i,b)};fa.set=function(a){var b,c;for(c in a)b=a[c],K(b)?this[c]=
b:this["_"+c]=b;this._config=a;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)};fa.months=function(a,b){return a?f(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||dc).test(b)?"format":"standalone"][a.month()]:this._months};fa.monthsShort=function(a,b){return a?f(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[dc.test(b)?"format":"standalone"][a.month()]:this._monthsShort};fa.monthsParse=function(a,b,c){var d,l,e;if(this._monthsParseExact){e=
a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;12>a;++a)l=m([2E3,a]),this._shortMonthsParse[a]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(l,"").toLocaleLowerCase();return c?"MMM"===b?(d=qa.call(this._shortMonthsParse,e),-1!==d?d:null):(d=qa.call(this._longMonthsParse,e),-1!==d?d:null):"MMM"===b?(d=qa.call(this._shortMonthsParse,e),-1!==d?d:(d=qa.call(this._longMonthsParse,e),-1!==d?d:
null)):(d=qa.call(this._longMonthsParse,e),-1!==d?d:(d=qa.call(this._shortMonthsParse,e),-1!==d?d:null))}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if((l=m([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(l,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(l,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(e="^"+this.months(l,"")+"|^"+this.monthsShort(l,
""),this._monthsParse[d]=new RegExp(e.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d};fa.monthsRegex=function(a){return this._monthsParseExact?(c(this,"_monthsRegex")||Xa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=wb),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)};fa.monthsShortRegex=function(a){return this._monthsParseExact?
(c(this,"_monthsRegex")||Xa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=wb),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)};fa.week=function(a){return ca(a,this._week.dow,this._week.doy).week};fa.firstDayOfYear=function(){return this._week.doy};fa.firstDayOfWeek=function(){return this._week.dow};fa.weekdays=function(a,b){return a?f(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?
"format":"standalone"][a.day()]:this._weekdays};fa.weekdaysMin=function(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin};fa.weekdaysShort=function(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort};fa.weekdaysParse=function(a,b,c){var d,l,e;if(this._weekdaysParseExact){e=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;7>a;++a)l=m([2E3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(l,"").toLocaleLowerCase(),
this._shortWeekdaysParse[a]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(l,"").toLocaleLowerCase();return c?"dddd"===b?(d=qa.call(this._weekdaysParse,e),-1!==d?d:null):"ddd"===b?(d=qa.call(this._shortWeekdaysParse,e),-1!==d?d:null):(d=qa.call(this._minWeekdaysParse,e),-1!==d?d:null):"dddd"===b?(d=qa.call(this._weekdaysParse,e),-1!==d?d:(d=qa.call(this._shortWeekdaysParse,e),-1!==d?d:(d=qa.call(this._minWeekdaysParse,e),-1!==d?d:null))):"ddd"===b?(d=qa.call(this._shortWeekdaysParse,
e),-1!==d?d:(d=qa.call(this._weekdaysParse,e),-1!==d?d:(d=qa.call(this._minWeekdaysParse,e),-1!==d?d:null))):(d=qa.call(this._minWeekdaysParse,e),-1!==d?d:(d=qa.call(this._weekdaysParse,e),-1!==d?d:(d=qa.call(this._shortWeekdaysParse,e),-1!==d?d:null)))}this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(d=0;7>d;d++)if((l=m([2E3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(l,
"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(l,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(l,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(e="^"+this.weekdays(l,"")+"|^"+this.weekdaysShort(l,"")+"|^"+this.weekdaysMin(l,""),this._weekdaysParse[d]=new RegExp(e.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))||c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a)||c&&"dd"===b&&
this._minWeekdaysParse[d].test(a)||!c&&this._weekdaysParse[d].test(a))return d};fa.weekdaysRegex=function(a){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||cb.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=wb),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)};fa.weekdaysShortRegex=function(a){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||cb.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):
(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wb),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)};fa.weekdaysMinRegex=function(a){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||cb.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=wb),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)};fa.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};
fa.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};Ja("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,b=1===x(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});b.lang=z("moment.lang is deprecated. Use moment.locale instead.",Ja);b.langData=z("moment.langData is deprecated. Use moment.localeData instead.",l);var Pa=Math.abs,Bc=Oa("ms"),Cc=Oa("s"),Hc=Oa("m"),Ic=Oa("h"),Jc=Oa("d"),Lc=Oa("w"),Dc=Oa("M"),Gc=Oa("y"),Mc=Wa("milliseconds"),Nc=Wa("seconds"),
Ec=Wa("minutes"),Oc=Wa("hours"),Fc=Wa("days"),Kc=Wa("months"),Pc=Wa("years"),mb=Math.round,lb={s:45,m:45,h:22,d:26,M:11},ic=Math.abs,W=fb.prototype;W.abs=function(){var a=this._data;return this._milliseconds=Pa(this._milliseconds),this._days=Pa(this._days),this._months=Pa(this._months),a.milliseconds=Pa(a.milliseconds),a.seconds=Pa(a.seconds),a.minutes=Pa(a.minutes),a.hours=Pa(a.hours),a.months=Pa(a.months),a.years=Pa(a.years),this};W.add=function(a,b){return tb(this,a,b,1)};W.subtract=function(a,
b){return tb(this,a,b,-1)};W.as=function(a){var b,c,d=this._milliseconds;if(a=B(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+4800*b/146097,"month"===a?c:c/12;switch(b=this._days+Math.round(146097*this._months/4800),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw Error("Unknown unit "+a);}};W.asMilliseconds=
Bc;W.asSeconds=Cc;W.asMinutes=Hc;W.asHours=Ic;W.asDays=Jc;W.asWeeks=Lc;W.asMonths=Dc;W.asYears=Gc;W.valueOf=function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*x(this._months/12)};W._bubble=function(){var a,b,c,d,l,e=this._milliseconds,f=this._days,g=this._months,h=this._data;return 0<=e&&0<=f&&0<=g||0>=e&&0>=f&&0>=g||(e+=864E5*ob(146097*g/4800+f),f=0,g=0),h.milliseconds=e%1E3,a=v(e/1E3),h.seconds=a%60,b=v(a/60),h.minutes=b%60,c=v(b/60),h.hours=c%24,f+=v(c/24),l=v(4800*
f/146097),g+=l,f-=ob(146097*l/4800),d=v(g/12),g%=12,h.days=f,h.months=g,h.years=d,this};W.get=function(a){return a=B(a),this[a+"s"]()};W.milliseconds=Mc;W.seconds=Nc;W.minutes=Ec;W.hours=Oc;W.days=Fc;W.weeks=function(){return v(this.days()/7)};W.months=Kc;W.years=Pc;W.humanize=function(a){var b=this.localeData(),c;c=!a;var d=Fa(this).abs(),l=mb(d.as("s")),e=mb(d.as("m")),f=mb(d.as("h")),g=mb(d.as("d")),h=mb(d.as("M")),d=mb(d.as("y")),l=l<lb.s&&["s",l]||1>=e&&["m"]||e<lb.m&&["mm",e]||1>=f&&["h"]||
f<lb.h&&["hh",f]||1>=g&&["d"]||g<lb.d&&["dd",g]||1>=h&&["M"]||h<lb.M&&["MM",h]||1>=d&&["y"]||["yy",d];c=(l[2]=c,l[3]=0<+this,l[4]=b,Aa.apply(null,l));return a&&(c=b.pastFuture(+this,c)),b.postformat(c)};W.toISOString=Ab;W.toString=Ab;W.toJSON=Ab;W.locale=Pb;W.localeData=jb;W.toIsoString=z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ab);W.lang=rc;E("X",0,0,"unix");E("x",0,0,"valueOf");G("x",ab);G("X",/[+-]?\d+(\.\d{1,3})?/);Q("X",function(a,b,c){c._d=new Date(1E3*
parseFloat(a,10))});Q("x",function(a,b,c){c._d=new Date(x(a))});b.version="2.17.1";bc=da;return b.fn=D,b.min=function(){var a=[].slice.call(arguments,0);return Fb("isBefore",a)},b.max=function(){var a=[].slice.call(arguments,0);return Fb("isAfter",a)},b.now=function(){return Date.now?Date.now():+new Date},b.utc=m,b.unix=function(a){return da(1E3*a)},b.months=function(a,b){return Nb(a,b,"months")},b.isDate=e,b.locale=Ja,b.invalid=q,b.duration=Fa,b.isMoment=u,b.weekdays=function(a,b,c){return Sa(a,
b,c,"weekdays")},b.parseZone=function(){return da.apply(null,arguments).parseZone()},b.localeData=l,b.isDuration=za,b.monthsShort=function(a,b){return Nb(a,b,"monthsShort")},b.weekdaysMin=function(a,b,c){return Sa(a,b,c,"weekdaysMin")},b.defineLocale=qb,b.updateLocale=function(a,b){if(null!=b){var c;c=Db;null!=ea[a]&&(c=ea[a]._config);b=C(c,b);c=new L(b);c.parentLocale=ea[a];ea[a]=c;Ja(a)}else null!=ea[a]&&(null!=ea[a].parentLocale?ea[a]=ea[a].parentLocale:null!=ea[a]&&delete ea[a]);return ea[a]},
b.locales=function(){return hc(ea)},b.weekdaysShort=function(a,b,c){return Sa(a,b,c,"weekdaysShort")},b.normalizeUnits=B,b.relativeTimeRounding=function(a){return void 0===a?mb:"function"==typeof a&&(mb=a,!0)},b.relativeTimeThreshold=function(a,b){return void 0!==lb[a]&&(void 0===b?lb[a]:(lb[a]=b,!0))},b.calendarFormat=function(a,b){var c=a.diff(b,"days",!0);return-6>c?"sameElse":-1>c?"lastWeek":0>c?"lastDay":1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse"},b.prototype=D,b});var joeMoment=window.moment;
window.moment=momentNoConflict;"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);
var Freshbots=function(b,f,d){b=b.noConflict(!0);String.prototype.includes||(String.prototype.includes=function(a,b){"number"!==typeof b&&(b=0);return b+a.length>this.length?!1:-1!==this.indexOf(a,b)});String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});String.prototype.endsWith||(String.prototype.endsWith=function(a,b){b=b<this.length?b|0:this.length;return this.substr(b-a.length,a.length)===a});String.prototype.trim||(String.prototype.trim=
function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});FormData.prototype.joeAppendIfNotEmpty=function(b,c){a.Object.isNotNull(c)&&this.append(b,c)};var h={EUC_REGION:{NAME:"euc",PROD_DOMAIN:"euc-freshbots.ai"},US_REGION:{NAME:"us",PROD_DOMAIN:"freshbots.ai"},IN_REGION:{NAME:"in",PROD_DOMAIN:"in-freshbots.ai"},AU_REGION:{NAME:"au",PROD_DOMAIN:"au-freshbots.ai"}},e={},a={},c=!1,g,m=!1,k=!1,n=d.getElementById("spd-busns-spt"),q=n.getAttribute("data-client"),r=n.getAttribute("data-bot-hash"),
t=n.getAttribute("data-bot-version"),s=n.getAttribute("data-flow-hash"),u=n.getAttribute("data-self-init"),v=n.getAttribute("data-init-type"),x=n.getAttribute("data-ext-client-id"),w=n.getAttribute("data-prdct-hash"),y=n.getAttribute("data-client-toggle"),z=n.getAttribute("data-debug-mode"),F=n.getAttribute("data-client-email"),K=n.getAttribute("data-client-identifier"),C=n.getAttribute("data-client-session-id"),L=n.getAttribute("data-client-params"),A=n.getAttribute("widget-style"),B=n.getAttribute("parent-selector"),
J,P=[],M=n.getAttribute("data-env"),ia=n.getAttribute("data-region"),aa=!1;M&&""!==M?(n=n.getAttribute("src"))&&n.includes("freshbots.com")&&(n=n.replace("https://","").replace("http://",""),n=n.substring(0,n.indexOf("/")).replace("www.","").replace("freshbots.com","").trim(),n.includes("cdn.")&&(n=n.replace("cdn.","").trim(),aa=!0),n&&""!==n&&n!==M&&"prod"!==n&&(console.log("Changing env from "+M+" to "+n),M=n)):M="prod";ia=function(a,b){if("prod"===a)for(var c in h)if(h[c].NAME===b)return h[c].PROD_DOMAIN;
return h.US_REGION.PROD_DOMAIN}(M,ia);"prod"!==M&&(n=new Date,console.log("["+n+", "+n.getTime()+"] Freshbots script started"));var E=null,ua=!1,va=!1,u=!u||"true"===u,Ba=null!==z&&"true"===z,V="",G="https:"===d.location.protocol?"https:":"http:",U="";"prod"===M?(V="https://www."+ia,U="https://cdn."+ia):"dev"===M?U=V=G+"//"+f.location.host:(V="https://www."+M+"freshbots.com",U=aa?"https://cdn."+M+"freshbots.com":V);var ka,oa=d.referrer,Q=navigator.userAgent,la=f.location.pathname,ba=f.location.href,
T=null,ga=null,Xa=[],Z=null,Ea="undefined"!==typeof Storage;Ea&&(Z=f.localStorage);b.extend(b.expr[":"],{spdCaseInsensitiveContains:function(a,b,c,d){return 0<=(a.textContent||a.innerText||"").toLowerCase().indexOf((c[3]||"").toLowerCase())}});v||(v="opt");v=v.toLowerCase();try{var X=Boolean(Q.match(/Android/i)||Q.match(/webOS/i)||Q.match(/iPhone/i)||Q.match(/iPad/i)||Q.match(/iPod/i)||Q.match(/BlackBerry/i)||Q.match(/Windows Phone/i));/Mac/.test(navigator.userAgent);var na="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
sa=-1*(new Date).getTimezoneOffset();q?console.log("client: "+q):console.log("client-id :"+x+"\nproduct-id :"+w);b.extend(a,{LocaleUtils:function(){function a(b){this.address=b.address;this.ago=b.ago;this.am=b.am;this.would_you_really_want_to_send_this_image=b.would_you_really_want_to_send_this_image;this.yes=b.yes;this.no=b.no;this.powered=b.powered;this.by=b.by;this.freshworks=b.freshworks;this.hi=b.hi;this.thanks_for_feedback=b.thanks_for_feedback;this.today=b.today;this.new_messages=b.new_messages;
this.max_character_limit_exceeded=b.max_character_limit_exceeded;this.max_character_limit_reached=b.max_character_limit_reached;this.i_want=b.i_want;this.would_you_want_to_send_this_file=b.would_you_want_to_send_this_file;this.enter_valid_message=b.enter_valid_message;this.type_your_message_here=b.type_your_message_here;this.start_new_conversation=b.start_new_conversation;this.enter_password=b.enter_password;this.enter_number=b.enter_number;this.enter_valid_number=b.enter_valid_number;this.enter_valid_mail=
b.enter_valid_mail;this.enter_mail_id=b.enter_mail_id;this.enter_valid_full_name=b.enter_valid_full_name;this.enter_valid_first_name=b.enter_valid_first_name;this.type_your_full_name_hit_enter=b.type_your_full_name_hit_enter;this.type_your_first_name_hit_enter=b.type_your_first_name_hit_enter;this.enter_your_name_here=b.enter_your_name_here;this.enter_mobile_number=b.enter_mobile_number;this.enter_valid_phone_number=b.enter_valid_phone_number;this.male_or_female=b.male_or_female;this.year=b.year;
this.month=b.month;this.day=b.day;this.hours=b.hours;this.mins=b.mins;this.start_typing_to_see_options=b.start_typing_to_see_options;this.thanks_for_your_feedback=b.thanks_for_your_feedback;this.error_while_sending_please_try_again=b.error_while_sending_please_try_again;this.unexpected_error_please_try_again=b.unexpected_error_please_try_again;this.more_articels=b.more_articels;this.placed_on=b.placed_on;this.status=b.status;this.order_id=b.order_id;this.order_status=b.order_status;this.payment_for=
b.payment_for;this.would_you_like_to_trim_message=b.would_you_like_to_trim_message;this.would_you_really_want_to_end_chat=b.would_you_really_want_to_end_chat;this.send=b.send;this.please_give_feedback=b.please_give_feedback;this.kindly_rate_chat_exp=b.kindly_rate_chat_exp;this.start_over=b.start_over;this.sending=b.sending;this.delivered=b.delivered;this.pm=b.pm;this.maximum=b.maximum;this.limit=b.limit;this.exceeded=b.exceeded;this.months=b.months.split(",");this.days=b.days.split(",");this.moment_a=
b.moment_a;this.moment_an=b.moment_an;this.moment_hour=b.moment_hour;this.moment_hours=b.moment_hours;this.moment_minute=b.moment_minute;this.moment_minutes=b.moment_minutes;this.moment_seconds=b.moment_seconds;this.moment_day=b.moment_day;this.moment_days=b.moment_days;this.moment_few=b.moment_few;this.moment_ago=b.moment_ago}var b={},c;return{setLocaleData:function(d,e){if(null!=d&&void 0!=d&&(b=new a(d),na=d.months.split(","),d.days.split(","),c=e,null!=c&&void 0!=c)){var f=joeMoment()._locale;
f._relativeTime.d=b.moment_a+" "+b.moment_day;f._relativeTime.dd=f._relativeTime.dd.replace("days",b.moment_days);f._relativeTime.h=b.moment_an+" "+b.moment_hour;f._relativeTime.hh=f._relativeTime.hh.replace("hours",b.moment_hours);f._relativeTime.m=b.moment_a+" "+b.moment_minute;f._relativeTime.mm=f._relativeTime.mm.replace("minutes",b.moment_minutes);f._relativeTime.s=b.moment_a+" "+b.moment_few+" "+b.moment_seconds;f._relativeTime.past=f._relativeTime.past.replace("ago",b.moment_ago);f._monthsShort=
b.months;joeMoment()._locale=f}},getLocaleData:function(){return b}}}(),Options:function(){var b;return{reservedOptions:{sessionData:"getSessionData",clientParams:"getClientParams"},setObject:function(c){a.Object.isNull(c)&&(c={});b=c},getObject:function(){return b},getData:function(c,d){var e;a.String.isNotBlank(c)&&a.Object.isNotNull(b)&&a.Object.isNotNull(b[c])?"function"===typeof b[c]?(a.Log.logMessage("Calling options function: "+c+" with args: "+d,!0),e=a.Function.executeFunctionWithArgumentString(b[c],
d)):(a.Log.logMessage("Getting value for options key: "+c,!0),e=b[c]):a.Log.logMessage("Could not find options with key: "+c,!0);return e},getDataStr:function(b,c){var d=null,l=a.Options.getData(b,c);a.Object.isNotNull(l)&&(d="string"!==typeof l?JSON.stringify(l):l);return d},getNewSessionParams:function(){var b={},c=a.Options.getData(a.Options.reservedOptions.clientParams);a.Object.isNotNull(c)&&(c["sn::cstmr::id"]&&(b["sn::cstmr::id"]=c["sn::cstmr::id"]),c["sn::auth::id"]&&(b["sn::auth::id"]=c["sn::auth::id"]));
return b}}}(),RealTimeConnection:{realtimeConnectOnInit:!1,fallbackToPusherOnCSP:!1,pusher:{active:null,apiKey:null,clusterCode:null,instance:null,connectedState:"connected"},rts:{active:null,accountId:null,jwt:null,endpoint:null,instance:null,connected:!1,origin:null,serviceId:null,traceId:null},setConnectionParams:function(a){this.pusher.active=a.pshrActv;this.pusher.apiKey=a.pshrApiKy;this.pusher.clusterCode=a.pshrClstrCd;this.rts.active=a.rtsActv;this.rts.accountId=a.rtsAcId;this.rts.jwt=a.rtsAcKy;
this.rts.endpoint=a.rtsEndPt;this.realtimeConnectOnInit=a.rltmCnctnOnLd;this.rts.origin=a.rtsOrigin;this.rts.traceId=a.rtsTraceId;this.rts.serviceId=a.rtsServiceId},unsubscribe:function(b){this.isRealTimeConnectionPresent()&&(this.pusher.active?(this.pusher.instance.unsubscribe(b),this.pusher.instance=null,a.Log.logMessage("Realtime connection unsubscription succeeded")):this.rts.active&&(this.rts.instance.unsubscribe(b),this.rts.instance=null,a.Log.logMessage("Realtime connection unsubscription succeeded")))},
isRealTimeConnectionPresent:function(){return this.pusher.active&&!this.pusher.instance||this.rts.active&&!this.rts.instance?!1:!0}},initiateWidgetParams:{successCallback:null,errorCallback:null},chatInstance:null,historyActionEnable:!0,isWidgetDeActivated:!1,maxTextareaCharLength:2E3,Handlebars:Handlebars.noConflict(),Html:{agentImgDefaultUrl:"https://www."+ia+"/assets/imgs/frankbot.svg"},htmlEncode:function(a){return b("\x3cdiv/\x3e").text(a).html()},htmlDecode:function(a){return b("\x3cdiv/\x3e").html(a).text()},
Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(a){var b="",c,d,e,f,g,h,k=0;for(a=Base64._utf8_encode(a);k<a.length;)c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=a.charCodeAt(k++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this._keyStr.charAt(f)+this._keyStr.charAt(c)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return b},decode:function(a){var b="",c,d,e,f,g,h=0;for(a=a.replace(/[^A-Za-z0-9+/=]/g,"");h<
a.length;)c=this._keyStr.indexOf(a.charAt(h++)),d=this._keyStr.indexOf(a.charAt(h++)),f=this._keyStr.indexOf(a.charAt(h++)),g=this._keyStr.indexOf(a.charAt(h++)),c=c<<2|d>>4,d=(d&15)<<4|f>>2,e=(f&3)<<6|g,b+=String.fromCharCode(c),64!=f&&(b+=String.fromCharCode(d)),64!=g&&(b+=String.fromCharCode(e));return b=Base64._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/rn/g,"n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>
6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d,e,f=0;c<a.length;)f=a.charCodeAt(c),128>f?(b+=String.fromCharCode(f),c++):191<f&&224>f?(d=a.charCodeAt(c+1),b+=String.fromCharCode((f&31)<<6|d&63),c+=2):(d=a.charCodeAt(c+1),e=a.charCodeAt(c+2),b+=String.fromCharCode((f&15)<<12|(d&63)<<6|e&63),c+=3);return b}},Log:function(){return{logMessage:function(a,b,c){b||(b=!1);if(!b||Ba||"prod"!==
M)b=new Date,c?console.log("["+b.getTime()+"] "+a,c):console.log("["+b.getTime()+"] "+a)}}}(),Ajax:function(){return{getJson:function(a,c,d,e,f,g,h,k){null==g&&(g=!0);null==h&&(h=!0);null==k&&(k=6E4);null==c?c={"X-TimezoneOffset":sa}:c["X-TimezoneOffset"]=sa;c["Client-Id"]=q;b.ajax({type:"GET",url:a,headers:c,data:d,dataType:"json",async:g,cache:h,timeout:k,success:function(a){"function"===typeof e&&e.call(this,a)},error:function(a,b){var c;"function"===typeof f?f.call(this,a,b):"error"===b?404==
a.status?c=" This request does not exist.":500==a.status&&(c="An unexpected error occured on server while processing this request. Try Again."):"timeout"===b?c="Stay the patient course. Of little worth is your ire. The network is down.":"parsererror"===b&&(c="Yesterday it worked. Today it is not working. The response from server couldn't be processed properly.");c&&console.log(c)},beforeSend:function(a){a&&a.setRequestHeader("Accept","application/json")}})},postJson:function(a,c,d,e,f){d?d["X-TimezoneOffset"]=
sa:d={"X-TimezoneOffset":sa};d["Client-Id"]=q;b.ajax({type:"POST",contentType:"application/json; charset\x3dutf-8",url:a,data:JSON.stringify(c),headers:d,dataType:"json",success:function(a){"function"===typeof e&&e.call(this,a)},error:function(a,b){"function"===typeof f?f.call(this,a,b):"error"===b?404==a.status?console.log("You step in the stream, but the water has moved on. This request does not exist."):500==a.status&&console.log("An unexpected error occured on server while processing this request. Try Again."):
"timeout"===b?console.log("Stay the patient course. Of little worth is your ire. The network is down."):"parsererror"===b&&console.log("Yesterday it worked. Today it is not working. The response from server couldn't be processed properly.")},beforeSend:function(a){a&&a.setRequestHeader("Accept","application/json")}})},postFile:function(a,c,d,e,f){null==d?d={"X-TimezoneOffset":sa}:d["X-TimezoneOffset"]=sa;d["Client-Id"]=q;b.ajax({type:"POST",processData:!1,contentType:!1,url:a,data:c,headers:d,dataType:"json",
success:function(a){"function"===typeof e&&e.call(this,a)},error:function(a,b){"function"===typeof f?f.call(this,a,b):"error"===b?404==a.status?console.log("You step in the stream, but the water has moved on. This request does not exist."):500==a.status&&console.log("An unexpected error occured on server while processing this request. Try Again."):"timeout"===b?console.log("Stay the patient course. Of little worth is your ire. The network is down."):"parsererror"===b&&console.log("Yesterday it worked. Today it is not working. The response from server couldn't be processed properly.")},
beforeSend:function(a){a&&a.setRequestHeader("Accept","application/json")}})}}}(),Audio:function(){var b=null;return{setAudioFile:function(a){b=new Audio(U+"/assets/share/audio/ping.mp3")},playMessagePing:function(c){if(b&&null!==b){var d=!0,e=0,f={};if(null!=c)if(Ea){var g=Z.getItem("msg-ping-details");a.String.isNotBlank(g)&&(f=JSON.parse(g),null!=f&&null!=f.date&&null!=f.ctr&&(new Date).toDateString()==(new Date(f.date)).toDateString()&&(e=parseInt(f.ctr)));e>=c&&(d=!1)}else console.log("Local storage not supported!");
d&&(b.play(),Ea&&null!=c&&(f.date=new Date,f.ctr=e+1,Z.setItem("msg-ping-details",JSON.stringify(f))))}else a.Log.logMessage("No audio file found!",!0)}}}(),Validation:function(){return{validateEmail:function(a){return/^([\w-\.'+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,10})(\]?)$/.test(a)},validatePhone:function(a){return/^\+?(-?[0-9]){9,15}$/.test(a)},validateDecimal:function(a){return/^[-+]?[0-9]+\.[0-9]+$/.test(a)},validateNumber:function(a){return/^[-+]?[0-9]+(\.?[0-9]+)*$/.test(a)},
validatePincode:function(a){return/^\d{6}$/.test(a)},validateTimeFormat:function(a){return/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(a)},validateMaxLength:function(a,b){return a<=parseInt(b)},validateMinLength:function(a,b){return a>=parseInt(b)},validateEqualLength:function(a,b){return a==parseInt(b)},validationEvent:function(c){var d=!0,e=!0;c=b(c).find("input[fieldType]");for(var f=0;f<c.length;f++)e=c[f].getAttribute("fieldType"),0<c[f].value.length&&"email"==e?(e=a.Validation.validateEmail(c[f].value),
d=d&&e,e||(b(c[f]).css("border-color","red"),b(c[f]).addClass("joe-text-red"))):0<c[f].value.length&&"phone"==e?(e=a.Validation.validatePhone(c[f].value),d=d&&e,e||b(c[f]).css("border-color","red")):0<c[f].value.length&&"number"==e?(e=a.Validation.validateNumber(c[f].value),d=d&&e,e||b(c[f]).css("border-color","red")):0<c[f].value.length&&"pincode"==e?(e=a.Validation.validatePincode(c[f].value),d=d&&e,e||b(c[f]).css("border-color","red")):0<c[f].value.length&&"decimal"==e?(e=a.Validation.validateDecimal(c[f].value),
d=d&&e,e||b(c[f]).css("border-color","red")):0<c[f].value.length&&"time"==e?(e=a.Validation.validateTimeFormat(c[f].value),d=d&&e,e||b(c[f]).css("border-color","red")):"max-length"==e?(e=a.Validation.validateMaxLength(c[f].value.length,c[f].getAttribute("max-length")),d=d&&e,e||(b(c[f]).css("border-color","red"),e=b(c[f]).attr("id"),b("[errormsg\x3d'"+e+"']").removeClass("hide"))):"min-length"==e?(e=a.Validation.validateMinLength(c[f].value.length,c[f].getAttribute("min-length")),d=d&&e,e||b(c[f]).css("border-color",
"red")):"lengthequalsto"==e&&(e=a.Validation.validateEqualLength(c[f].value.length,c[f].getAttribute("lengthequalsto")),d=d&&e,e||b(c[f]).css("border-color","red"));return d}}}(),Date:function(){return{getEndDateForMonth:function(a,b){return"Feb"==b&&0==a%4?29:{Jan:31,Feb:28,Mar:31,Apr:30,May:31,Jun:30,Jul:31,Aug:31,Sep:30,Oct:31,Nov:30,Dec:31}[b]},getDateMonthYearTime:function(a){var b=a.split(" ");a={};a.date=parseInt(b[0]);a.month=b[1];a.year=parseInt(b[2]);3<b.length&&(b=b[3].split(":"),a.hours=
parseInt(b[0].trim()),a.minutes=parseInt(b[1].trim()),a.seconds=parseInt(b[2].trim()));return a},getYears:function(a,b){for(var c=[],d=a.year;d<=b.year;d++)c.push(d);return c},getMonthsForYear:function(a,b,c){var d=b.year,e=c.year;return a===d?d===e?na.slice(na.indexOf(b.month),na.indexOf(c.month)+1):na.slice(na.indexOf(b.month)):a===e?na.slice(0,na.indexOf(c.month)+1):na},getDatesForYearAndMonth:function(b,c,d,e){var f=d.year,g=e.year,h=d.month,k=e.month,m=[],n=1,q=a.Date.getEndDateForMonth(b,c);
b===f&&c===h?(n=d.date,f===g&&h===k&&(q=e.date)):b===g&&c===k&&(q=e.date);for(b=n;b<=q;b++)m.push(b);return m},getHours:function(a,b,c){var d=[],e=1;120<=c&&(e=parseInt(c/60));for(a=a.hours;a<=b.hours;a+=e)d.push(a);return d},getMinutesForHour:function(a,b,c,d){var e=[],f=b.hours,g=c.hours,h=1,h=d%60,k=0;d=59;a===f?f===g?(k=b.minutes,d=c.minutes):k=b.minutes:a===g&&(d=c.minutes);for(a=k;a<=d;a+=h)10>a?e.push("0"+a):e.push(a);return e},getCurrentTime:function(){var a=new Date;a.getDay();var b=a.getHours(),
c=a.getMinutes();a.getSeconds();10>c&&(c="0"+c);var d=12>b?"am":"pm";a.getDate();a.getMonth();a.getFullYear();0==b&&(b=12);return ka.today+" "+b+":"+c+" "+d},getDateString:function(a,b,c){b||(b="Do MMM");c||(c="h:mm a");a=parseInt(a);return joeMoment().isSame(joeMoment(a),"day")?joeMoment(a).fromNow():joeMoment(a).format(b+", "+c)},isDateStringRelative:function(a){var b=!1;a.endsWith(ka.ago)&&(b=!0);return b}}}(),openUrlInNewTab:function(a){(a=f.open(a,"_blank"))&&a.focus()},getNewUrl:function(a){var b=
/:\/\//i;"/"==a.charAt(0)||b.test(a)||(a=G+"//"+a);return a},getValueFromPage:function(c,d){var e=null,f="";c&&(c.startsWith("css:")?(f=c.replace("css:",""),0<b(f).length&&""!=d&&(e="text"==d.toLowerCase()?b(f).text().trim():"value"==d.toLowerCase()?b(f).val().trim():b(f).attr(d).trim())):c.startsWith("cookie:")?(f=c.replace("cookie:",""),e=a.readCookie(f)):c.startsWith("queryParam:")&&(f=c.replace("queryParam:",""),e=a.Url.getValueForQueryParam(f)),""==e&&(e=null));return e},readCookie:function(a,
b,c,e){if(J)return J[a];b=d.cookie.split("; ");J={};for(e=b.length-1;0<=e;e--)c=b[e].split("\x3d"),J[c[0]]=c[1];return J[a]},getCssFile:function(c,e,f){var g=d.createElement("link");g.rel="stylesheet";g.type="text/css";g.readyState?g.onreadystatechange=function(){if("loaded"===g.readyState||"complete"===g.readyState)g.onreadystatechange=null,a.Log.logMessage("Stylesheet with src: "+c+" loaded successfully",!0),f&&f()}:g.onload=function(){a.Log.logMessage("Stylesheet with src: "+c+" loaded successfully",
!0);f&&f()};g.href=c;e?b("head").append(g):b("head").prepend(g)},getJsFile:function(a,c){var e=d.createElement("script");e.type="text/javascript";e.readyState?e.onreadystatechange=function(){if("loaded"==e.readyState||"complete"==e.readyState)e.onreadystatechange=null}:e.onload=function(){};e.src=a;e.async=!0;c?b("head").append(e):b("head").prepend(e)},setCookieWithValidityInDays:function(a,b,c){var e=new Date;e.setTime(e.getTime()+864E5*c);c="expires\x3d"+e.toUTCString();d.cookie=a+"\x3d"+b+";path\x3d/; "+
c;J=null},getValueFromCookie:function(b,c){var d=a.readCookie(c);d&&(d=d.trim());return d&&""!==d?JSON.parse(d)[b]:null},setValueForKeyInCookie:function(b,c,d){var e=a.readCookie(d);e&&(e=e.trim());var f={};e&&""!=e&&(f=JSON.parse(e));f[b]=c;a.setCookieWithValidityInDays(d,JSON.stringify(f),30);return!0},Function:function(){var b=function(a){if(a){var b=((a+"").replace(/\/\*[\s\S]*?\*\/|\/\/.*?[\r\n]/g,"").match(/\(([\s\S]*?)\)/)[1]||"").match(/[$\w]+/g)||[];return function(c){var d=[],e=b.length;
for(d[e]=c;e--;)d[e]=c[b[e]];return a.apply(a,d)}}};return{executeWithNamedArguments:function(a,c){return b(a)(c)},executeFunctionWithArgumentString:function(b,c){if(c){var d;if(c.startsWith("["))return d=JSON.parse(c),"prod"!==M&&console.log("Calling function: "+b.name+" with args array: "+d),b.apply(b,d);if(c.startsWith("{"))return d=JSON.parse(c),"prod"!==M&&console.log("Calling function: "+b.name+" with named args: "+c),a.Function.executeWithNamedArguments(b,d)}else return"prod"!==M&&console.log("Calling function: "+
b.name+" with no args"),b.apply(b,[])}}}(),Url:function(){return{getValueForQueryParam:function(b){var c=null;if(b){var d=d;a.Object.isNull(d)?(b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),b=(new RegExp("[\\?\x26]"+b+"\x3d([^\x26#]*)")).exec(f.location.search),c=null===b?"":decodeURIComponent(b[1].replace(/\+/g," "))):c=(new d(f.location.search)).get(b)}return c}}}(),Object:function(){return{isNull:function(a){return"undefined"===typeof a||!a&&!1!==a||null===a||"undefined"==a||"null"==a},isNotNull:function(b){return!a.Object.isNull(b)}}}(),
String:function(){return{getHash:function(a){for(var b=0,c,d=0;d<a.length;d++)c=a.charCodeAt(d),b=(b<<5)-b+c,b&=b;return b},getRandomChar:function(){var a=Math.floor(62*Math.random());return 10>a?a:36>a?String.fromCharCode(a+55):String.fromCharCode(a+61)},getRandomString:function(b){for(var c="";c.length<b;)c+=a.String.getRandomChar();return c},isNotBlank:function(a){return a&&null!==a&&"undefined"!==a&&""!==a.trim()},isBlank:function(b){return!a.String.isNotBlank(b)}}}(),RemoteCall:function(){return{initCombined:function(b,
c,d){a.Ajax.postJson(V+"/customer/v3/combined-init/",{cstmrHsh:b,botHsh:r,botVrsnNmbr:t,ndGrpHsh:s,chnlCstmrId:ga,pthNm:la,href:ba,usrAgnt:Q,rfrUrl:oa,email:F,idntfr:K,snId:C,prmsStr:L,prms:E,cntMsgToRtrv:1,ordrBy:"desc"},{"External-Client-Id":x,"Product-Id":w,clntHsh:q,chnlSnId:T,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData)},c,d)},initCustomer:function(b,c,d){a.Ajax.postJson(V+"/customer/v3/submit/initCustomer/",{cstmrHsh:b,botHsh:r,botVrsnNmbr:t,ndGrpHsh:s,chnlCstmrId:ga,pthNm:la,
href:ba,usrAgnt:Q,rfrUrl:oa,email:F,idntfr:K,snId:C,prmsStr:L,prms:a.Options.getNewSessionParams()},{clntHsh:q,"External-Client-Id":x,"Product-Id":w,chnlSnId:T,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData)},c,d)},sendFileMessage:function(b,c,e,f,g,h){c=new FormData(d.getElementById(c));c.joeAppendIfNotEmpty("fileName",a.chatInstance.uploadFileProp.name||"");c.joeAppendIfNotEmpty("clntHsh",q);c.joeAppendIfNotEmpty("External-Client-Id",x);c.joeAppendIfNotEmpty("Product-Id",w);c.joeAppendIfNotEmpty("cstmrHsh",
b);c.joeAppendIfNotEmpty("chnlMsgIdntfr",e);c.joeAppendIfNotEmpty("botHsh",r);c.joeAppendIfNotEmpty("botVrsnNmbr",t);c.joeAppendIfNotEmpty("ndGrpHsh",s);c.joeAppendIfNotEmpty("prms",null==E?E:JSON.stringify(E));c.joeAppendIfNotEmpty("refTcktMsgHsh",f);a.Ajax.postFile(V+"/ticket/v3/submit/chat/file",c,{sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),chnlSnId:T,ws:a.RealTimeConnection.pusher.active?"PUSHER":"RTS",PUSHER_FALLBACK_ON_CSP:a.RealTimeConnection.fallbackToPusherOnCSP},g,h)},
postMessageToServer:function(b,c,d,e,f,g,h,k,m,n){a.Ajax.postJson(V+"/ticket/v3/submit/chat/response/",{clntHsh:q,"External-Client-Id":x,"Product-Id":w,botHsh:r,botVrsnNmbr:t,ndGrpHsh:s,cstmrHsh:b,msg:c,pthNm:la,href:ba,prvt:f,refTcktMsgHsh:d,chnlMsgIdntfr:e,cntntTyp:k,ndId:g,prms:E,ndIntnt:h},{sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),chnlSnId:T,ws:a.RealTimeConnection.pusher.active?"PUSHER":"RTS",PUSHER_FALLBACK_ON_CSP:a.RealTimeConnection.fallbackToPusherOnCSP},function(a){"function"===
typeof m&&m.call(this,a)},function(a){"function"===typeof n&&n.call(this,a)})},closeChat:function(b,c,d){a.Ajax.postJson(V+"/ticket/v3/closeChat/"+b+"?pthNm\x3d"+f.location.pathname,{},{clntHsh:q,"External-Client-Id":x,"Product-Id":w,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),chnlSnId:T},c,d)},rateChat:function(b,c,d,e,f){a.Ajax.postJson(V+"/ticket/v3/rateChat/",{tcktHsh:b,rtng:c,fdbck:d},{clntHsh:q,"External-Client-Id":x,"Product-Id":w,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),
chnlSnId:T,ws:a.RealTimeConnection.pusher.active?"PUSHER":"RTS",PUSHER_FALLBACK_ON_CSP:a.RealTimeConnection.fallbackToPusherOnCSP},e,f)},msgFaqfeedback:function(b,c,d,e,f,g,h){a.Ajax.postJson(V+"/feedback/record",{cstmrHsh:b,tcktMsgHsh:c,answr:d,enty:e,tcktMsgOptnId:f},{sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),"External-Client-Id":x,"Product-Id":w,clntHsh:q,ws:a.RealTimeConnection.pusher.active?"PUSHER":"RTS",PUSHER_FALLBACK_ON_CSP:a.RealTimeConnection.fallbackToPusherOnCSP},
g,h)},getHistoryAndInitiateChat:function(b,c,d,e,g){a.Ajax.postJson(V+"/ticket/v3/getHistoryAndInitChat",{cstmrHsh:b,botHsh:r,botVrsnNmbr:t,ndGrpHsh:s,pthNm:f.location.pathname,href:f.location.href,cntMsgToRtrv:c,prms:E,ordrBy:d},{clntHsh:q,"External-Client-Id":x,"Product-Id":w,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),chnlSnId:T,ws:a.RealTimeConnection.pusher.active?"PUSHER":"RTS",PUSHER_FALLBACK_ON_CSP:a.RealTimeConnection.fallbackToPusherOnCSP},e,g)},getPreviousMessages:function(b,
c,d,e,g,h){a.Ajax.getJson(V+"/ticket/v3/groupRsync",{clntHsh:q,"External-Client-Id":x,"Product-Id":w,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),chnlSnId:T},{cstmrHsh:b,botHsh:r,botVrsnNmbr:t,pthNm:f.location.pathname,href:f.location.href,tcktMsgHsh:c,cntMsgToRtrv:d,xtrnlTcktId:E?E.xtrnlTcktId:null,ordrBy:e},g,h)},getMessageDetails:function(b,c,d){a.Ajax.getJson(V+"/ticket/v3/message/"+b+"/details",{clnthsh:q,"External-Client-Id":x,"Product-Id":w,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),
chnlSnId:T},null,c,d,!1)},getWebClientDetails:function(b,c){a.Ajax.getJson("http://ip-api.com/json",null,null,b,c,!1,!1,1E3)},logChatOpen:function(b,c,d,e){a.Ajax.getJson(V+"/customer/v3/"+b+"/log/chatOpen",{clntHsh:q,"External-Client-Id":x,"Product-Id":w,chnlSnId:T},{pthNm:f.location.pathname,href:f.location.href,lstAgntMsgHsh:c},d,e)},sendInactivityAlert:function(b,c,d){a.Ajax.getJson(V+"/customer/v3/inactivityAlert",{clntHsh:q,"External-Client-Id":x,"Product-Id":w,chnlSnId:T},{cstmrHsh:b,pthNm:f.location.pathname,
href:f.location.href},c,d)},logAction:function(b,c,d,e){a.Ajax.getJson(V+"/ticket/v3/logAction",{clntHsh:q,"External-Client-Id":x,"Product-Id":w,chnlSnId:T},{cstmrHsh:b,actnObjct:c,pthNm:f.location.pathname,href:f.location.href},d,e)},updateTicketInfo:function(b,c,d,e,f){a.Ajax.postJson(V+"/ticket/v3/"+b+"/update/info?tcktMsgHsh\x3d"+c,d,{"External-Client-Id":x,"Product-Id":w,clntHsh:q,ws:a.RealTimeConnection.pusher.active?"PUSHER":"RTS",PUSHER_FALLBACK_ON_CSP:a.RealTimeConnection.fallbackToPusherOnCSP},
function(a){"function"===typeof e&&e.call(this,a)},function(a){"function"===typeof f&&f.call(this,a)})}}}(),joeMapify:function(){b.fn.mapify=function(a,c){var e=b(this).attr("id"),f=d.getElementById(e),g,h=b.extend({address:null,city:null,state:null,longitude:null,latitude:null,postalCode:null},a);if(null!=h.latitude&&null!=h.longitude){b(this).bind("keypress",function(a){if(13==a.which)return!1;g&&g.addClass("joe-pac");return!0});b(this).bind("focusout",function(a){g&&g.removeClass("joe-pac")});
var k=new google.maps.places.Autocomplete(f,c);google.maps.event.addDomListener(f,"focus",function(){g||(g=b(".pac-container").last());g.addClass("joe-pac");k.addListener("place_changed",function(){(new google.maps.Geocoder).geocode({address:f.value},function(b,c){if(c==google.maps.GeocoderStatus.OK){var d={adrs:null,cty:null,st:null,pncd:null,lon:null,lat:null,plcId:null},e=b[0].geometry.location,g=k.getPlace(),m=g.place_id;m&&(d.plcId=m);if(g=g.address_components){for(m=0;m<g.length;m++){var n=
g[m].types[0];"postal_code"===n&&(h.postalCode.val(g[m].long_name),d.pncd=h.postalCode.val())}for(m=0;m<g.length;m++)n=g[m].types[0],"locality"===n&&(h.city.val(g[m].long_name),d.cty=h.city.val());""===h.address.val().trim()&&(h.address.val(f.value),d.adrs=h.address.val());g=f.value.split(",");""===h.state.val().trim()&&(h.state.val(g[g.length-2]),d.st=h.state.val());h.longitude.val(e.lng().toFixed(5));h.latitude.val(e.lat().toFixed(5));d.lon=h.longitude.val();d.lat=h.latitude.val()}else d.orgnlTxt=
f.value;""!=f.value&&(a.self.createConnectionIfNeededAndSendMessage({type:a.self.message.type.text,messageToSend:JSON.stringify(d),displayText:f.value,refTmHash:null,contentType:"googleAdrs"}),f.value="")}})})})}};b.fn.mapify.cleaner=function(a){a.address.val("");a.city.val("");a.state.val("");a.longitude.val("");a.latitude.val("")};b.fn.showMapify=function(a){b(this).hide();b(this).show();var c=b.extend({whereToShow:null,longitude:null,latitude:null},a);null!=c.longitude&&null!=c.latitude&&(a=new google.maps.LatLng(c.latitude.val(),
c.longitude.val()),c=new google.maps.Map(d.getElementById(b(c.whereToShow).attr("id")),{zoom:14,center:a}),new google.maps.Marker({position:a,map:c,title:"http://www.gogetspeedy.com/"}))}}(jQuery),JoeCarousel:function(){var c,e,f,g,h,k,m=0,n=0,q=!0;return{init:function(d,m){c=b(".image_slider"+m);e=b(c[0]).children();c.attr("imgNbr",e.length);f=e.length;g=230;c.outerWidth(parseInt(g*f));h="#prev"+m;k="#next"+m;1>=f&&(b(h).addClass("joe-hide"),b(k).addClass("joe-hide"));a.JoeCarousel.bindEvents(d,
m)},bindEvents:function(e,f){b(d.body).on("touchstart",".image_slider"+f,function(d){var e=d.originalEvent.touches[0].clientX;this.ontouchend=function(d){if(0<d.changedTouches.length){d=d.changedTouches[0];var g=d.clientX-e,g=Math.abs(g);100<g&&(d.clientX>e?(a.JoeCarousel.onClickPrev(),c=b(".image_slider"+f)):d.clientX<e&&(c=b(".image_slider"+f),a.JoeCarousel.onClickNext()))}}});b(d.body).on("click",h,function(){a.JoeCarousel.onClickPrev();c=b(".image_slider"+b(this).parents(a.chatInstance.selectors.sliderContainer).attr("msghash"))});
b(d.body).on("click",k,function(){c=b(".image_slider"+b(this).parents(a.chatInstance.selectors.sliderContainer).attr("msghash"));a.JoeCarousel.onClickNext()});b(".image_slider"+f+" img").on("load",function(){e.scrollToBottom()})},animate:function(a){if(q){q=!1;var b=new Date,c=setInterval(function(){var d=(new Date-b)/a.duration;1<d&&(d=1);var e=a.delta(d);a.step(e);1==d&&(clearInterval(c),a.callback())},a.delay||17)}},slideTo:function(b){var d,e=Math.abs(b-n);d=n>b?1:-1;m=-1*n*g;a.JoeCarousel.animate({duration:500,
delta:function(a){return a},step:function(a){c.css("left",parseInt(m+d*a*g*e)+"px")},callback:function(){n=c.attr("crntImg",b);q=!0}})},onClickPrev:function(){n=parseInt(c.attr("crntImg"));f=parseInt(c.attr("imgNbr"));0!=n&&a.JoeCarousel.slideTo(n-1)},onClickNext:function(){n=parseInt(c.attr("crntImg"));f=parseInt(c.attr("imgNbr"));n!=f-1&&a.JoeCarousel.slideTo(n+1)}}}(),uiElementsHtml:function(){return{getTypingIndicator:function(a){return'\x3cdiv class\x3d"typing-container joe-typing joe-message other-message" typingid\x3d"'+
a+'" \x3e \x3cspan class\x3d"circle"\x3e\x3c/span\x3e \x3cspan class\x3d"circle"\x3e\x3c/span\x3e \x3cspan class\x3d"circle"\x3e\x3c/span\x3e\x3c/div\x3e'}}}()});b.extend(a,{HandlebarsHtml:function(){a.Handlebars||console.log("Handlebars not found");var c=b('\x3cscript id\x3d"message-template" type\x3d"text/x-handlebars-template"\x3e{{#if publicNote}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-message my-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}" hash\x3d"{{hash}}"\x3e{{#ifCond msgCntntTyp "\x3d\x3d" "img"}}\x3cimg src\x3d"{{messageOutput}}" class\x3d"img-file" style\x3d"max-width:100%; max-height: 250px;"/\x3e\x3cbr/\x3e{{else ifCond msgCntntTyp "\x3d\x3d" "fl"}}\x3cdiv style\x3d"text-align: center;position: relative; padding:0px;"\x3e\x3ci class\x3d"fa fa-file-text-o fa-5x" style\x3d"font-size: 50px;padding: 10px;"aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ca href\x3d"{{messageOutput}}" target\x3d"_blank"\x3e\x3cdiv class\x3d"joe-blur-div"\x3e\x3cspan class\x3d"joe-helper" style\x3d"height:100%;"\x3e\x3c/span\x3e\x3ci class\x3d"fa fa-arrow-circle-o-down fa-2x" aria-hidden\x3d"true" style\x3d"vertical-align: middle;"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e{{else ifCond msgCntntTyp "\x3d\x3d" "loader"}}\x3cdiv style\x3d"text-align: center;" class\x3d"file_loader"\x3e\x3ci class\x3d"fa fa-spinner fa-pulse fa-2x fa-fw"\x3e\x3c/i\x3e\x3c/div\x3e{{else}}\x3cspan\x3e{{linkify messageOutput}}\x3c/span\x3e\x3cbr/\x3e{{/ifCond}}\x3cdiv class\x3d"joe-my-message-satus"\x3e\x3cspan class\x3d"font-sm msg-status"\x3e{{#if msgSent}}{{getLanguageBasedTerm "delivered"}}\x26nbsp;\x26nbsp;{{else}}{{getLanguageBasedTerm "sending"}}\x26nbsp;\x26nbsp;{{/if}}\x3c/span\x3e\x3cspan class\x3d"font-sm joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e{{/if}}\x3c/script\x3e\x3cscript id\x3d"joe-message-group-template" type\x3d"text/x-handlebars-template"\x3e{{#if publicNote}}\x3cdiv class\x3d"joe-message-group" author\x3d"{{author}}"\x3e\x3c/div\x3e{{/if}}\x3c/script\x3e\x3cscript id\x3d"header-menu-list-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"Slsh-list-items" id\x3d"joe-menu-dropdown" style\x3d"background: transparent; margin-left:0px; height: auto; overflow-y:visible; top:42px; right:16px; z-index: 1000; display: none; width:auto; "\x3e\x3cul class\x3d"font-1x joe-shadow joe-menu-list-items" style\x3d"margin-left:10px;display:inline-block;min-width: 150px;max-width: 250px;text-align: left;border-radius: 3px;padding:5px 0px;position: relative;background-color: white;box-shadow: 0 0 13px 0 rgba(0, 0, 0, 0.19) !important;"\x3e{{#each menuItems}}{{#ifCond this.cmnd "!\x3d" "/share-fb"}}{{#ifCond this.cmnd "!\x3d" "/share-wa"}}\x3cli sendText\x3d"{{this.cmnd}}" style\x3d"border-top: none;padding: 5px 10px!important;font-size: 14px !important;"\x3e{{this.dispVl}}\x3c/li\x3e{{/ifCond}}{{/ifCond}}{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"full-body-input-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay prevent-hide" id\x3d"joe-chat-body-overlay" style\x3d"background: white;"\x3e\x3cspan class\x3d"joe-helper"\x3e\x3c/span\x3e\x3cdiv style\x3d"display:inline-block; vertical-align: middle; width:100%; text-align:center;"\x3e\x3cdiv style\x3d"width:80%;text-align:center; margin:auto; position: relative;"\x3e\x3ch4 style\x3d"margin-bottom: -32px;font-size: 25px;text-align: left; color:#42A5F5;"\x3e {{getLanguageBasedTerm "i_want"}} \x3c/h4\x3e\x3cinput class\x3d"center-input-text joe-input-shadow" id\x3d"joe-center-input" style\x3d"width:100%; font-family: inherit; padding: 0px 0px 0px 85px; box-sizing: border-box;" placeholder\x3d""/\x3e\x3cbutton class\x3d"joe-btn bold" id\x3d"joe-center-input-send" style\x3d"border-radius:5px; padding: 10px 20px; font-size:16px; width:auto;"\x3e {{getLanguageBasedTerm "send"}} \x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"header-menu-icons-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-icon-header" id\x3d"joe-chat-icon-header"\x3e\x3cul\x3e\x3cli\x3e\x3cbutton sendText\x3d"/startover" class\x3d"joe-chat-menu-button" style\x3d"color:#1a73e8;" title\x3d"Start Over"\x3e{{getLanguageBasedTerm "start_over"}}\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"chat-rate-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay"\x3e\x3cdiv class\x3d"text-center joe-end-chat-alert"\x3e\x3cdiv style\x3d"text-align: right; margin-top: -10px;"\x3e\x3cspan id\x3d"joe-overlay-cross-btn" class\x3d"joe-overlay-cross-btn joe-rate-div"\x3e\x3ci class\x3d"fa fa-times" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"text-center joe-star-rating" id\x3d"joe-star-rate"\x3e\x3cdiv class\x3d"font-2x joe-text-div"\x3e{{getLanguageBasedTerm "kindly_rate_chat_exp"}}\x3c/div\x3e\x3ci class\x3d"fa fa-star fa-2x" aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ci class\x3d"fa fa-star fa-2x" aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ci class\x3d"fa fa-star fa-2x" aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ci class\x3d"fa fa-star fa-2x" aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ci class\x3d"fa fa-star fa-2x" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"text-center joe-feedback" id\x3d"joe-feedback"\x3e\x3cdiv class\x3d"font-2x joe-text-div"\x3e{{getLanguageBasedTerm "please_give_feedback"}}\x3c/div\x3e\x3ctextarea class\x3d"joe-textarea" id\x3d"joe-feedback-txt"\x3e\x3c/textarea\x3e\x3cinput type\x3d\'hidden\' id\x3d\'ticket-hash-rate\' data-ticket\x3d\'{{tcktHsh}}\'/\x3e\x3cdiv class\x3d"font-2x joe-text-div"\x3e\x3cbutton class\x3d"joe-btn" id\x3d"joe-feedback-btn"\x3e{{getLanguageBasedTerm "send"}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"end-chat-confirmation-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay"\x3e\x3cdiv class\x3d"text-center joe-end-chat-alert"\x3e\x3cdiv class\x3d"input-widget-loader" style\x3d"display:none; position:relative;"\x3e\x3c/div\x3e\x3clable class\x3d"lt-blck font-2x" style\x3d"display:block;"\x3e{{getLanguageBasedTerm "would_you_really_want_to_end_chat"}}\x3c/lable\x3e\x3cbutton id\x3d"joe-chat-end-yes" class\x3d"joe-chat-yes-btn"\x3e {{getLanguageBasedTerm "yes"}} \x3c/button\x3e\x3cbutton id\x3d"joe-chat-end-no" class\x3d"joe-chat-no-btn"\x3e {{getLanguageBasedTerm "no"}} \x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"trim-message-confirmation-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay"\x3e\x3cdiv class\x3d"text-center joe-end-chat-alert"\x3e\x3cdiv class\x3d"input-widget-loader" style\x3d"display:none; position:relative;"\x3e\x3c/div\x3e\x3clable class\x3d"lt-blck font-2x" style\x3d"display:block;"\x3e{{getLanguageBasedTerm "maximum"}}  ('+
a.maxTextareaCharLength+') {{getLanguageBasedTerm "limit"}} {{getLanguageBasedTerm "exceeded"}}. {{getLanguageBasedTerm "would_you_like_to_trim_message"}}\x3c/lable\x3e\x3cbutton id\x3d"joe-trim-yes" class\x3d"joe-chat-yes-btn"\x3e  {{getLanguageBasedTerm "yes"}} \x3c/button\x3e\x3cbutton id\x3d"joe-trim-no" class\x3d"joe-chat-no-btn"\x3e {{getLanguageBasedTerm "no"}} \x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"full-img-mobview-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay" style\x3d"text-align: center;"\x3e\x3cdiv style\x3d"text-align: right; margin-right: 5px;"\x3e\x3cspan id\x3d"joe-overlay-cross-btn" class\x3d"joe-overlay-cross-btn" style\x3d"margin-right: 5px; color:white;"\x3e\x3ci class\x3d"fa fa-times-circle-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d"joe-helper"\x3e\x3c/span\x3e\x3cimg src\x3d"{{imgSrc}}" style\x3d"max-width:100%; vertical-align: middle; "/\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"full-img-fullview-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-full-body-overlay" id\x3d"joe-chat-full-body-overlay" style\x3d"text-align: center;"\x3e\x3cdiv style\x3d"text-align: right; margin-right: 5px;"\x3e\x3cspan id\x3d"joe-full-overlay-cross-btn" class\x3d"joe-full-overlay-cross-btn" style\x3d"margin-right: 5px;"\x3e\x3ci class\x3d"fa fa-times" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d"joe-helper"\x3e\x3c/span\x3e\x3cimg src\x3d"{{imgSrc}}" style\x3d"max-width:90%; vertical-align: middle; "/\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"Slsh-Cmnds-List-Items-template" type\x3d"text/x-handlebars-template"\x3e\x3cul class\x3d"font-1x fbot-bottom-list Slsh-list-items joe-box hide" id\x3d"Slsh-Cmnds-List-Items" style\x3d"bottom:100%;left:0;"\x3e{{#each slshCmndsItems}}{{#ifCond this.cmnd "!\x3d" "/share-fb"}}{{#ifCond this.cmnd "!\x3d" "/share-wa"}}\x3cli sendText\x3d"{{this.cmnd}}"\x3e{{this.intnt}}\x3c/li\x3e{{/ifCond}}{{/ifCond}}{{/each}}\x3c/ul\x3e\x3c/script\x3e\x3cscript id\x3d"Bots-List-Items-template" type\x3d"text/x-handlebars-template"\x3e\x3cul class\x3d"font-1x fbot-bottom-list Slsh-list-items joe-box hide" id\x3d"Bots-List-Items" style\x3d"bottom:100%;left:0;"\x3e{{#each bots}}\x3cli sendText\x3d"{{this.nm}}"\x3e{{this.nm}}\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/script\x3e\x3cscript id\x3d"message-date-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"h-divide {{key}}" style\x3d"text-align:center; margin-bottom: 5px; margin-top:5px; padding-bottom: 1px;"\x3e\x3cdiv class\x3d"text-devide-ul"\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cdiv class\x3d"d-line-left"\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cspan class\x3d"date"\x3e{{key}}\x3c/span\x3e\x3c/div\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cdiv class\x3d"d-line-right"\x3e\x3c/div\x3e\x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"new-message-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"h-divide joe-new-message" style\x3d"text-align:center; margin-bottom: 10px; margin-top:5px; padding-bottom: 5px;"\x3e\x3cdiv class\x3d"text-devide-ul"\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cspan class\x3d"text"\x3e{{key}}\x3c/span\x3e\x3c/div\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"message-response-template" type\x3d"text/x-handlebars-template"\x3e{{#if publicNote}}{{#ifCond msgCntntTyp "\x3d\x3d" "img"}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-agent-pic" style\x3d"background-image: url({{sndrImg}})"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cdiv class\x3d"joe-agent-name"\x3e\x3cspan class\x3d"bold"\x3e\x3c!--\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e --\x3e{{sndrNm}}\x3c/span\x3e \x26nbsp;\x3cspan class\x3d"font-sm joe-msg-date-time joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-img-palceholder-div"\x3e\x3cimg src\x3d"{{response}}" style\x3d"max-width:100%; background:#EFEFEF;"/\x3e\x3c/br\x3e\x3c/div\x3e{{#if longDesc}}\x3cspan class\x3d""\x3e{{linkify longDesc}}\x3c/span\x3e\x3cbr/\x3e{{/if}}\x3c/div\x3e\x3c/li\x3e{{else ifCond msgCntntTyp "\x3d\x3d" "fl"}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-agent-pic" style\x3d"background-image: url({{sndrImg}})"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}" hash\x3d"{{hash}}"\x3e\x3cdiv class\x3d"joe-agent-name"\x3e\x3cspan class\x3d"bold"\x3e{{sndrNm}}\x3c/span\x3e \x26nbsp;\x3cspan class\x3d"font-sm joe-msg-date-time joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3cdiv style\x3d"text-align: center;position: relative; padding:0px;"\x3e\x3ci class\x3d"fa fa-file-text-o fa-5x" style\x3d"font-size: 50px;padding: 10px;"aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ca href\x3d"{{response}}" target\x3d"_blank"\x3e\x3cdiv class\x3d"joe-blur-div"\x3e\x3cspan class\x3d"joe-helper" style\x3d"height:100%;"\x3e\x3c/span\x3e\x3ci class\x3d"fa fa-arrow-circle-o-down fa-2x" aria-hidden\x3d"true" style\x3d"vertical-align: middle;"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e{{else ifCond msgCntntTyp \'\x3d\x3d\' \'pymnt\'}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cspan class\x3d"bold"\x3e\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e {{sndrNm}}\x3c/span\x3e\x3cbr/\x3e{{#if paymentCard.amnt}}\x3cspan class\x3d\'\'\x3e{{getLanguageBasedTerm \'payment_for\'}}\x3ci class\x3d\'fa fa-inr\' aria-hidden\x3d\'true\'\x3e\x3c/i\x3e {{paymentCard.amnt}}\x3c/span\x3e\x3cbr/\x3e{{/if}}\x3cspan class\x3d"font-sm joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3cbr/\x3e\x3ca href\x3d\'{{paymentCard.url}}\' target\x3d\'_blank\'\x3e\x3cbutton class\x3d\'joe-button-0 joe-box\'\x3e {{paymentCard.btnTxt}}\x3c/button\x3e\x3c/a\x3e\x3cbr/\x3e\x3c/div\x3e\x3c/li\x3e{{else ifCond msgCntntTyp "\x3d\x3d" "ordrSmry"}}\x3cdiv style\x3d"padding: 0px 10px"\x3e\x3cdiv class\x3d"joe-card font-1x" style\x3d"display: block;"\x3e\x3cdiv class\x3d"joe-box" style\x3d"margin-bottom: 3px;padding: 6px;"\x3e\x3cdiv class\x3d"" style\x3d"width:20%;display: inline-block;vertical-align: middle;"\x3e\x3cimg src\x3d"'+
U+'/assets/imgs/yes-icon-v1.png" width\x3d"50px"/\x3e\x3c/div\x3e\x3cdiv class\x3d"" style\x3d"width:60%;display: inline-block;vertical-align: middle;"\x3e\x3cspan\x3e\x3cb\x3eHeading\x3c/b\x3e\x3c/span\x3e\x3c/br\x3e\x3cspan style\x3d"font-size:11px;"\x3eLorem ipsum \x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"" style\x3d"width:20%;display: inline-block;vertical-align: middle;text-align: right;"\x3e\x3cspan\x3e\x3ci class\x3d"fa fa-inr" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3cb\x3e\x26nbsp;2000\x3c/b\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"" style\x3d"margin-bottom: 3px;padding:6px;background-color: #EFEFEF"\x3e\x3cdiv style\x3d"width:80%;display:inline-block;text-align: center;vertical-align: bottom;"\x3e\x3caddress class\x3d""\x3e{{getLanguageBasedTerm "address"}}\x3cbr/\x3eBox 564, Disneyland USA\x3c/address\x3e\x3c/div\x3e\x3cdiv style\x3d"width:20%;display:inline-block;text-align:right;vertical-align: middle"\x3e\x3cspan\x3e\x3cb\x3eTotal\x3c/b\x3e\x3cbr/\x3e\x3ci class\x3d"fa fa-inr" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3cb\x3e\x26nbsp;4000\x3c/b\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond msgCntntTyp "\x3d\x3d" "ordrSts"}}\x3cdiv style\x3d"padding: 0 10px;"\x3e\x3ctable class\x3d"joe-table joe-card"\x3e \x3ccolgroup\x3e\x3ccol width\x3d"30%"\x3e\x3ccol width\x3d"40%"\x3e\x3ccol width\x3d"30%"\x3e\x3c/colgroup\x3e\x3ctr\x3e\x3cth colspan\x3d"3" style\x3d"text-align: center; color: beige; background-color: gray; border-radius: 5px 5px 0px 0px;"\x3e{{getLanguageBasedTerm "order_status"}}\x3c/th\x3e\x3c/tr\x3e\x3ctr\x3e\x3cth\x3e{{getLanguageBasedTerm "order_id" }}: \x3c/th\x3e\x3cth colspan\x3d"2"\x3e{{orderStatusCard.ordrId}}\x3c/th\x3e\x3c/tr\x3e{{#if orderStatusCard.ordrSts}}\x3ctr\x3e\x3cth\x3e{{getLanguageBasedTerm "status"}}: \x3c/th\x3e\x3cth colspan\x3d"2"\x3e{{orderStatusCard.ordrSts}}\x3c/th\x3e\x3c/tr\x3e{{/if}}{{#if orderStatusCard.ordrPlcdDt}}\x3ctr\x3e\x3cth\x3e{{getLanguageBasedTerm "placed_on"}}: \x3c/th\x3e\x3cth colspan\x3d"2"\x3e{{orderStatusCard.ordrPlcdDt}}\x3c/th\x3e\x3c/tr\x3e{{/if}}{{#each orderStatusCard.itms}}\x3ctr\x3e\x3ctd colspan\x3d"2"\x3e{{this.nm}}\x3cbr/\x3e{{#ifCond this.sts \'\x3d\x3d\' \'Delivered\'}}\x3cspan class\x3d\'status-done\'\x3e{{else ifCond this.sts \'\x3d\x3d\' \'Cancelled\'}}\x3cspan class\x3d\'status-cancelled\'\x3e{{else}}\x3cspan class\x3d\'status-pending\'\x3e{{/ifCond}}{{this.sts}}\x3c/span\x3e{{#if this.trckLnk}}\x26nbsp;\x26nbsp;\x3cspan\x3e\x3ca href\x3d"{{this.trckLnk}}" target\x3d"_blank" style\x3d"color: blue;"\x3e{{this.trckLnkBtnTxt}}\x3c/a\x3e\x3c/span\x3e{{/if}}\x3c/td\x3e\x3ctd width\x3d"30%"\x3e\x3cimg src\x3d"{{this.imgUrl}}" width\x3d"100%"/\x3e\x3c/td\x3e\x3c/tr\x3e{{/each}}\x3c/table\x3e\x3cdiv\x3e{{else ifCond tmorplycntnttyp "\x3d\x3d" "artcl"}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-agent-pic" style\x3d"background-image: url({{sndrImg}})"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" style\x3d"padding: 15px 0px;" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cdiv class\x3d"joe-agent-name" style\x3d"margin-left:0px;"\x3e\x3cspan class\x3d"bold"\x3e\x3c!--\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e --\x3e{{sndrNm}}\x3c/span\x3e \x26nbsp;\x3cspan class\x3d"font-sm joe-msg-date-time joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3cdiv style\x3d"padding: 0px 15px 15px;"\x3e\x3cspan\x3e{{linkify response}}\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e{{#each ticketmsgoptn}}\x3cdiv class\x3d"joe-faq-items" id\x3d"{{../ticketMessageHash}}{{this.id}}"\x3e\x3cspan class\x3d"joe-faq-item-text"\x3e{{{this.displayText}}}\x3c/span\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e{{#if mrUrl}}\x3cdiv style\x3d"padding:5px 15px 0 15px; text-align:center; margin-bottom: -10px; "\x3e\x3ca href\x3d"{{mrUrl}}" target\x3d"_blank"\x3e\x3cspan class\x3d"joe-more-articels"\x3e {{getLanguageBasedTerm "more_articels"}}\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/li\x3e{{else ifCond tmorplycntnttyp "\x3d\x3d" "itm"}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-agent-pic" style\x3d"background-image: url({{sndrImg}})"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cdiv class\x3d"joe-agent-name"\x3e\x3cspan class\x3d"bold"\x3e\x3c!--\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e --\x3e{{sndrNm}}\x3c/span\x3e \x26nbsp;\x3cspan class\x3d"font-sm joe-msg-date-time joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d""\x3e{{linkify response}}\x3c/span\x3e\x3cbr/\x3e\x3c/div\x3e\x3c/li\x3e\x3cdiv class\x3d"joe-slider-container" style\x3d"padding-bottom: 10px; position:relative;" msghash\x3d"{{ticketMessageHash}}"\x3e \x3cdiv class\x3d"joe-slider_wrapper" style\x3d"display: table; border-spacing: 5px 0px; table-layout: fixed;"\x3e \x3cdiv class\x3d"joe-image_slider image_slider{{ticketMessageHash}}" style\x3d"display: table-row;" id\x3d"image_slider{{ticketMessageHash}}" crntImg\x3d"0" imgNbr\x3d""\x3e {{#each ticketmsgoptn}}{{#ifCond this.cntntTyp "\x3d\x3d" "itm"}}{{#if this.mtdt}}\x3cdiv style\x3d"display:table-cell; vertical-align: top; -moz-box-sizing: border-box; min-width: 223px; border-radius: 5px 5px 0 0; border-bottom: none;" class\x3d"joe-listitem bg-white"\x3e \x3cdiv style\x3d"height: 100%; overflow: auto; -moz-box-sizing: border-box;"\x3e \x3cdiv class\x3d"bg-white" style\x3d"position:relative; height:100%; margin-bottom: 0px; border-radius: 5px 5px 0 0"\x3e {{#if this.mtdt.itm.imgUrl}}\x3cdiv class\x3d"joe-flip" style\x3d"text-align: center; min-height: 1px; max-height: 200px; overflow: hidden; border-radius: 0 0 5px 5px;"\x3e \x3cimg class\x3d"joe-flip" src\x3d"{{this.mtdt.itm.imgUrl}}"\x3e \x3c/div\x3e {{/if}} \x3cdiv class\x3d"slider-card-content-section"\x3e {{#if this.mtdt.itm.nm}}\x3cdiv class\x3d"joe-padd-tb-5 block-with-text el-max-height"\x3e\x3cspan class\x3d"joe-slider-card-title" title\x3d"{{this.mtdt.itm.nm}}"\x3e{{this.mtdt.itm.nm}}\x3c/span\x3e\x3c/div\x3e {{/if}}{{#if this.mtdt.itm.sbTtl}}\x3cdiv class\x3d"joe-card-border-up"\x3e\x3c/div\x3e \x3cdiv class\x3d"joe-padd-tb-5 block-with-text el-max-height"\x3e\x3cspan class\x3d"joe-slider-card-subtitle"\x3e{{linkify this.mtdt.itm.sbTtl}}\x3c/span\x3e\x3c/div\x3e {{/if}}{{#if this.mtdt.itm.rtng}}\x3cdiv class\x3d"joe-padd-tb-5"\x3e \x3cspan class\x3d"font-sm"\x3e \x26nbsp; \x26nbsp; \x3ci class\x3d"fa fa-star fa-2x joe-star-active" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x26nbsp;\x3cspan class\x3d"font-2x"\x3e{{this.mtdt.itm.rtng}}\x3c/span\x3e\x3c/span\x3e \x3c/div\x3e {{/if}}{{#if this.mtdt.itm.shrtDscrptn}}\x3cdiv class\x3d"joe-padd-tb-5"\x3e\x3cdiv class\x3d"joe-slider-card-desc block-with-text" title\x3d"{{this.mtdt.itm.shrtDscrptn}}"\x3e{{linkify this.mtdt.itm.shrtDscrptn}}\x3c/div\x3e\x3c/div\x3e {{/if}}{{#if this.mtdt.itm.dscPrcntg}}\x3cdiv class\x3d"" style\x3d"display:inline-block; min-width: 30%;"\x3e\x3cspan class\x3d"font-2x joe-padd-tb-5 status-done"\x3e\x3ci class\x3d"fa fa-inr" aria-hidden\x3d"true"\x3e\x3c/i\x3e {{this.mtdt.itm.dscPrcntg}}\x3c/span\x3e\x3c/div\x3e {{/if}}{{#ifCond this.mtdt.itm.ofrPrc "||" this.mtdt.itm.mrp}}\x3cdiv class\x3d"" style\x3d"text-align: right; display:inline-block; min-width: 70%;"\x3e{{#if this.mtdt.itm.mrp}}{{#ifCond this.mtdt.itm.mrp "!\x3d" this.mtdt.itm.ofrPrc}}\x3cdel class\x3d"joe-slider-card-baseprice font-2x joe-padd-tb-5" style\x3d"color:#9e9e9e; margin-right: 10px;"\x3e\x3ci class\x3d"fa fa-inr" aria-hidden\x3d"true"\x3e\x3c/i\x3e {{this.mtdt.itm.mrp}}\x3c/del\x3e {{/ifCond}}{{/if}}{{#if this.mtdt.itm.ofrPrc}}\x3cspan class\x3d"font-2x joe-padd-tb-5" style\x3d"color:#424242;"\x3e\x3ci class\x3d"fa fa-inr" aria-hidden\x3d"true"\x3e\x3c/i\x3e {{this.mtdt.itm.ofrPrc}}\x3c/span\x3e{{/if}}\x3c/div\x3e {{/ifCond}}\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e \x3c/div\x3e {{/if}}{{/ifCond}}{{/each}}\x3c/div\x3e \x3cdiv style\x3d"clear: both;"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-image_slider image_slider{{ticketMessageHash}}" style\x3d"display: table-row;"\x3e {{#each ticketmsgoptn}}{{#ifCond this.cntntTyp "\x3d\x3d" "itm"}}\x3cdiv class\x3d"joe-bottom-section joe-listitem bg-white" style\x3d"display: table-cell; vertical-align: top;  min-width:223px; height: 100%; overflow: auto; -moz-box-sizing: border-box; border-radius: 0 0 5px 5px; border-top: none;"\x3e {{#ifCond this.mtdt.itm.prmryBtnTxt "||" this.mtdt.itm.btn2Txt}}\x3cdiv class\x3d"slider-card-content-section joe-card-border-up bg-white" style\x3d"text-align: right;"\x3e{{#if this.mtdt.itm.prmryBtnTxt}}{{#if ../adhocCallSupported}}\x3cspan class\x3d"joe-prmry-btn"\x3e{{else}}\x3cspan class\x3d"joe-prmry-btn hide-post-sbmt joe-hide"\x3e{{/if}}{{#if this.mtdt.itm.btn2Txt}}\x3cbutton class\x3d"joe-btn joe-itemslider-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "  value\x3d"{{this.id}}" displayText\x3d"{{this.mtdt.itm.nm}}" data-send-private-message\x3d"{{this.mtdt.itm.sndPrvtMsg}}" ref-tm-hash\x3d"{{../ticketMessageHash}}"\x3e{{else}}\x3cbutton class\x3d"joe-btn joe-itemslider-btn joe-bdrds-5 joe-box" style\x3d"width: 100%; margin-top: 0px "  value\x3d"{{this.id}}" displayText\x3d"{{this.mtdt.itm.nm}}" data-send-private-message\x3d"{{this.mtdt.itm.sndPrvtMsg}}" ref-tm-hash\x3d"{{../ticketMessageHash}}"\x3e{{/if}}{{this.mtdt.itm.prmryBtnTxt}} \x3c/button\x3e\x3c/span\x3e {{/if}}{{#if this.mtdt.itm.btn2Txt}}{{#if this.mtdt.itm.prmryBtnTxt}}\x3ca href\x3d"{{this.mtdt.itm.btn2Url}}" target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "\x3e {{this.mtdt.itm.btn2Txt}} \x3c/button\x3e\x3c/a\x3e {{else}}{{#if this.mtdt.itm.btn3Txt}}\x3ca href\x3d"{{this.mtdt.itm.btn2Url}}" target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "\x3e {{this.mtdt.itm.btn2Txt}} \x3c/button\x3e\x3c/a\x3e {{else}}\x3ca href\x3d"{{this.mtdt.itm.btn2Url}}" target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: 100%; margin-top: 0px "\x3e {{this.mtdt.itm.btn2Txt}} \x3c/button\x3e\x3c/a\x3e {{/if}}{{/if}}{{/if}}{{#if this.mtdt.itm.btn3Txt}}\x3ca href\x3d"{{this.mtdt.itm.btn3Url}} " target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "\x3e {{this.mtdt.itm.btn3Txt}} \x3c/button\x3e\x3c/a\x3e {{/if}}\x3c/div\x3e {{/ifCond}}\x3c/div\x3e {{/ifCond}}{{/each}}\x3c/div\x3e\x3c/div\x3e \x3cspan class\x3d"joe-nvgt joe-prev" id\x3d"prev{{ticketMessageHash}}"\x3e\x3c/span\x3e \x3cspan class\x3d"joe-nvgt joe-next" id\x3d"next{{ticketMessageHash}}"\x3e\x3c/span\x3e \x3c/div\x3e{{else ifCond tmorplycntnttyp "\x3d\x3d" "img"}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cspan class\x3d"bold"\x3e\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e {{sndrNm}}\x3c/span\x3e\x3cbr/\x3e\x3cspan class\x3d""\x3e{{linkify response}}\x3c/span\x3e\x3cbr/\x3e\x3cspan class\x3d"font-sm joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e\x3cdiv class\x3d"joe-slider-container" style\x3d"padding-bottom: 10px; position:relative;" msghash\x3d"{{ticketMessageHash}}"\x3e \x3cdiv class\x3d"joe-slider_wrapper" style\x3d"display: table; border-spacing: 5px 0px; table-layout: fixed;"\x3e \x3cdiv class\x3d"joe-image_slider image_slider{{ticketMessageHash}}" style\x3d"display: table-row;" id\x3d"image_slider{{ticketMessageHash}}" crntImg\x3d"0" imgNbr\x3d""\x3e {{#each ticketmsgoptn}}{{#ifCond this.cntntTyp "\x3d\x3d" "img"}}{{#if this.mtdt}}\x3cdiv style\x3d"display:table-cell; vertical-align: top; -moz-box-sizing: border-box; min-width: 223px; border-radius: 5px 5px 0 0; border-bottom: none;" class\x3d"joe-listitem bg-white"\x3e \x3cdiv style\x3d"height: 100%; overflow: auto; -moz-box-sizing: border-box;"\x3e \x3cdiv class\x3d"bg-white" style\x3d"position:relative; height:100%; margin-bottom: 0px; border-radius: 5px 5px 0 0"\x3e {{#if this.mtdt.imgDtl.imgUrl}}\x3cdiv class\x3d"joe-flip" style\x3d"text-align: center; min-height: 1px; max-height: 270px; overflow: hidden; border-radius: 0 0 5px 5px;"\x3e \x3cimg class\x3d"joe-flip" src\x3d"{{this.mtdt.imgDtl.imgUrl}}"\x3e \x3c/div\x3e {{/if}} \x3cdiv class\x3d"slider-card-content-section"\x3e {{#if this.mtdt.imgDtl.lngDscrptn}}\x3cdiv class\x3d"joe-padd-tb-5"\x3e\x3cspan class\x3d"joe-slider-card-desc" title\x3d"{{this.mtdt.imgDtl.lngDscrptn}}"\x3e{{trimString this.mtdt.imgDtl.lngDscrptn 0 50}}\x3c/span\x3e\x3c/div\x3e {{/if}}\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e \x3c/div\x3e {{/if}}{{/ifCond}}{{/each}}\x3c/div\x3e \x3cdiv style\x3d"clear: both;"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-image_slider image_slider{{ticketMessageHash}}" style\x3d"display: table-row;"\x3e {{#each ticketmsgoptn}}{{#ifCond this.cntntTyp "\x3d\x3d" "img"}}\x3cdiv class\x3d"joe-bottom-section joe-listitem bg-white" style\x3d"display: table-cell; vertical-align: top;  min-width:223px; height: 100%; overflow: auto; -moz-box-sizing: border-box; border-radius: 0 0 5px 5px; border-top: none;"\x3e {{#ifCond this.mtdt.imgDtl.prmryBtnTxt "||" this.mtdt.imgDtl.btn2Txt}}\x3cdiv class\x3d"slider-card-content-section joe-card-border-up bg-white" style\x3d"text-align: right;"\x3e {{#if this.mtdt.imgDtl.prmryBtnTxt}}{{#if ../adhocCallSupported}}\x3cspan class\x3d"joe-prmry-btn"\x3e{{else}}\x3cspan class\x3d"joe-prmry-btn hide-post-sbmt joe-hide"\x3e{{/if}}\x3cbutton class\x3d"joe-btn joe-itemslider-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "  value\x3d"{{this.id}}" displayText\x3d"{{this.mtdt.imgDtl.nm}}" ref-tm-hash\x3d"{{../ticketMessageHash}}"\x3e {{this.mtdt.imgDtl.prmryBtnTxt}} \x3c/button\x3e\x3c/span\x3e {{/if}}{{#if this.mtdt.imgDtl.btn2Txt}}\x3ca href\x3d"{{this.mtdt.imgDtl.btn2Url}}" target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "\x3e {{this.mtdt.imgDtl.btn2Txt}} \x3c/button\x3e\x3c/a\x3e {{/if}}{{#if this.mtdt.imgDtl.btn3Txt}}\x3ca href\x3d"{{this.mtdt.imgDtl.btn3Url}} " target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "\x3e {{this.mtdt.imgDtl.btn3Txt}} \x3c/button\x3e\x3c/a\x3e {{/if}}\x3c/div\x3e {{/ifCond}}\x3c/div\x3e {{/ifCond}}{{/each}}\x3c/div\x3e\x3c/div\x3e \x3cspan class\x3d"joe-nvgt joe-prev" id\x3d"prev{{ticketMessageHash}}"\x3e\x3c/span\x3e \x3cspan class\x3d"joe-nvgt joe-next" id\x3d"next{{ticketMessageHash}}"\x3e\x3c/span\x3e \x3c/div\x3e{{else}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-agent-pic" style\x3d"background-image: url({{sndrImg}})"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cdiv class\x3d"joe-agent-name"\x3e\x3cspan class\x3d"bold"\x3e\x3c!--\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e --\x3e{{sndrNm}}\x3c/span\x3e \x26nbsp;\x3cspan class\x3d"font-sm joe-msg-date-time joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d""\x3e{{linkify response}}\x3c/span\x3e\x3cbr/\x3e\x3c/div\x3e\x3c/li\x3e{{/ifCond}}{{/if}}\x3c/script\x3e\x3cscript id\x3d"popup-message-template" type\x3d"text/x-handlebars-template"\x3e{{#if publicNote}}{{#ifCond msgCntntTyp "\x3d\x3d" "img"}}\x3cdiv class\x3d"joe-msg-bubble-container" style\x3d"position:absolute;z-index: 10000; width:100%; right:0; bottom:100%;"\x3e\x3cdiv style\x3d"display:block; padding: 0px; padding-bottom: 6px; font-size: 13px; text-align:right;"\x3e\x3cdiv class\x3d"joe-msg-hovertext"\x3e\x3cspan class\x3d"msg-bubble-btnclose joe-popup-close-btn"\x3e\x3cimg src\x3d"'+
U+'/assets/imgs/g3_icons/close.svg"\x3e\x3c/span\x3e{{#if longDesc}}\x3cspan class\x3d""\x3e{{linkify longDesc}}\x3c/span\x3e\x3cbr/\x3e{{/if}}\x3cimg src\x3d"{{response}}" style\x3d"max-width: 100%; max-height:200px;"/\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{else}}\x3cdiv class\x3d"joe-msg-bubble-container" style\x3d"position:absolute;z-index: 10000; width:100%; right:0; bottom:100%;"\x3e\x3cdiv style\x3d"display:block; padding: 0px; padding-bottom: 6px; font-size: 13px; text-align:right;"\x3e\x3cdiv class\x3d"joe-msg-hovertext"\x3e\x3cspan class\x3d"msg-bubble-btnclose joe-popup-close-btn"\x3e\x3cimg src\x3d"'+
U+'/assets/imgs/g3_icons/close.svg"\x3e\x3c/span\x3e\x3cspan class\x3d""\x3e{{linkify response}}\x3c/span\x3e\x3cbr/\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/ifCond}}{{/if}}\x3c/script\x3e\x3cscript id\x3d"quick-reply-input-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"qck-rply-div"\x3e{{#if quickReplyList}}\x3cdiv style\x3d"text-align:center;"\x3e{{#each quickReplyList}}\x3cbutton class\x3d"font-1x btn-color-main joe-quickReplyList joe-card" value\x3d"{{this.vl}}"\x3e{{this.dsplyTxt}}\x3c/button\x3e{{/each}}\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"faq-item-full-template" type\x3d"text/x-handlebars-template"\x3e{{#each ticketmsgoptn}}\x3cdiv class\x3d"joe-faq-item-full joe-hide" data-target\x3d"{{../ticketMessageHash}}{{this.id}}"\x3e\x3cdiv class\x3d"joe-faq-inner-container"\x3e\x3cdiv class\x3d"bg-header joe-faq-header"\x3e\x3cdiv style\x3d"display:table; height:100%; width:100%;"\x3e\x3cdiv style\x3d"display:table-cell; vertical-align:middle;"\x3e\x3cspan class\x3d"joe-back-arrow"\x3e\x3c/span\x3e {{#if this.mtdt.artcl.url}}\x3ca href\x3d"{{this.mtdt.artcl.url}}" target\x3d"_blank"\x3e\x3cspan class\x3d"joe-open-tab"\x3e\x3c/span\x3e\x3c/a\x3e{{/if}}\x3cdiv class\x3d"joe-clearfix"\x3e\x3c/div\x3e\x3clabel class\x3d"title-chat" style\x3d"color:#ffffff; margin-top:10px; max-height: 60px;overflow: hidden;" title\x3d"{{strip-html this.mtdt.artcl.ttl}}"\x3e{{trimString (strip-html this.mtdt.artcl.ttl) 0 45}}\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-faq-body"\x3e\x3cdiv style\x3d"font-size:14px; padding:20px; line-height:1.71;"\x3e{{linkify this.mtdt.artcl.mnCntnt}}\x3c/div\x3e{{#if this.mtdt.fdbckStngs}}\x3cdiv style\x3d"padding:20px; border-top:1px solid rgba(204, 204, 204, 0.6);"\x3e\x3cdiv class\x3d"tmo-feedback-error joe-red-alert-text text-center hide"\x3e{{getLanguageBasedTerm "unexpected_error_please_try_again"}}. \x3c/div\x3e\x3cdiv style\x3d"text-align:center;" class\x3d"tmo-feedback-div"\x3e \x3clabel class\x3d"joe-fdbk-message"\x3e{{this.mtdt.fdbckStngs.qstn}}\x3c/label\x3e{{#ifCond this.mtdt.fdbckStngs.fdbckTyp "\x3d\x3d" "OPTIONS"}}{{#each this.mtdt.fdbckStngs.optns}}\x3cdiv class\x3d"joe-faq-fdbk-btn" data-value\x3d"{{this.vl}}" data-tmo-id\x3d"{{../this.id}}" ticket-message-hash\x3d"{{../../ticketMessageHash}}"\x3e{{linkify this.dsplyTxt}}\x3c/div\x3e{{/each}}{{/ifCond}}\x3c/div\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/script\x3e\x3cscript id\x3d"agent-msg-submit-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"fbots-chat-footer-main" id\x3d"agent-msg-submit"\x3e\x3cdiv class\x3d"input-widget-loader hide"\x3e\x3c/div\x3e{{#if rstrctInpt}}{{else}}{{#if fdbckStngs.mndtry}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cdiv style\x3d"text-align:center;" class\x3d"text-center"\x3e \x3clabel class\x3d"joe-fdbk-message"\x3e{{fdbckStngs.qstn}}\x3c/label\x3e{{#ifCond fdbckStngs.fdbckTyp "\x3d\x3d" "OPTIONS"}}{{#each fdbckStngs.optns}}\x3cdiv class\x3d"joe-faq-fdbk-btn" data-value\x3d"{{this.vl}}" ticket-message-hash\x3d"{{../ticketMessageHash}}" data-tmo-id\x3d""\x3e{{linkify this.dsplyTxt}}\x3c/div\x3e{{/each}}{{/ifCond}}\x3c/div\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "error_while_sending_please_try_again"}}\x3c/span\x3e\x3c/div\x3e\x3cdiv id\x3d"success-alert" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "thanks_for_feedback"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{#unless fdbckStngs.mndtry}}{{#ifCond tmorplycntnttyp "\x3d\x3d" "itm"}}{{else ifCond tmorplycntnttyp "\x3d\x3d" "img"}}{{else ifCond tmorplycntnttyp "\x3d\x3d" "artcl"}}{{else}}{{#ifCond replyContentType "\x3d\x3d" "opt"}}{{#ifCond mnOptnsFrDrpDwn \'\x3e\' ticketmsgoptn.length}}\x3cdiv class\x3d\'joe-radio-list-btn\'\x3e {{#each ticketmsgoptn}}{{#if this.icnUrl}}\x3cdiv\x3e\x3cinput id\x3d\'joe-radio-{{this.id}}\' name\x3d\'listOptions\' type\x3d\'radio\' data-display\x3d\'{{this.displayText}}\' class\x3d\'with-font\' value\x3d\'{{this.id}}\' /\x3e\x3clabel for\x3d\'joe-radio-{{this.id}}\'\x3e\x3cimg src\x3d\'{{this.icnUrl}}\' width\x3d\'25px\' style\x3d\'vertical-align: middle; margin-right: 5px; margin-bottom: 2px;\'/\x3e{{linkify this.displayText}}\x3c/label\x3e\x3c/div\x3e{{else}}\x3cdiv\x3e\x3cinput id\x3d\'joe-radio-{{this.id}}\' name\x3d\'listOptions\' type\x3d\'radio\' data-display\x3d\'{{this.displayText}}\' class\x3d\'with-font\' value\x3d\'{{this.id}}\' /\x3e\x3clabel for\x3d\'joe-radio-{{this.id}}\'\x3e{{linkify this.displayText}}\x3c/label\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e  {{else}}\x3cselect id\x3d"listOptions"\x3e\x3coption id\x3d"" value\x3d""\x3e{{getLanguageBasedTerm "start_typing_to_see_options"}}...\x3c/option\x3e{{#each ticketmsgoptn}}{{#if this.mtdt}}{{#ifCond this.mtdt.dflt \'\x3d\x3d\' \'true\'}}\x3coption id\x3d\'joe-select-opsn-{{this.id}}\' value\x3d\'{{this.id}}\' selected\x3e{{this.displayText}}\x3c/option\x3e{{else}}\x3coption id\x3d\'joe-select-opsn-{{this.id}}\' value\x3d\'{{this.id}}\'\x3e{{this.displayText}}\x3c/option\x3e{{/ifCond}}{{else}}\x3coption id\x3d\'joe-select-opsn-{{this.id}}\' value\x3d\'{{this.id}}\'\x3e{{this.displayText}}\x3c/option\x3e{{/if}}{{/each}}\x3c/select\x3e{{/ifCond}}{{else ifCond replyContentType "\x3d\x3d" "time"}}\x3cdiv class\x3d"text-center"\x3e \x3cinput id\x3d\'date-rnge\' type\x3d\'hidden\' data-start-date\x3d\'{{startDate}}\' data-end-date\x3d\'{{endDate}}\' date-interval\x3d\'{{interval}}\'/\x3e\x3clabel\x3e{{getLanguageBasedTerm "hours"}}:\x3c/label\x3e \x3cselect class\x3d"joe-select" id\x3d"hrs-to-send"\x3e {{#each hours}}{{#ifCond this \'\x3d\x3d\' ../defaultHours}}\x3coption selected\x3e{{this}}\x3c/option\x3e{{else}}\x3coption\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{/each}} \x3c/select\x3e \x3clabel\x3e{{getLanguageBasedTerm "mins"}}:\x3c/label\x3e \x3cselect class\x3d"joe-select" id\x3d"mins-to-send"\x3e {{#each minutes}}{{#ifCond this \'\x3d\x3d\' ../defaultMinutes}}\x3coption selected\x3e{{this}}\x3c/option\x3e{{else}}\x3coption\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{/each}}\x3c/select\x3e\x3cspan class\x3d\'pull-right joe-send-btn btn-color-main shadow-box\' style\x3d\'display:block !important;\' id\x3d\'msg-send-btn\' fieldType \x3d \'time\'\x3e\x3c/span\x3e\x3c/div\x3e{{else ifCond replyContentType \'\x3d\x3d\' \'date\'}} \x3cdiv class\x3d"text-center"\x3e \x3cinput id\x3d\'date-rnge\' type\x3d\'hidden\' data-start-date\x3d\'{{startDate}}\' data-end-date\x3d\'{{endDate}}\'/\x3e\x3clabel\x3e{{getLanguageBasedTerm \'year\'}}:\x3c/label\x3e \x3cselect class\x3d\'joe-select\' id\x3d\'year-to-send\'\x3e{{#each years}}{{#ifCond this \'\x3d\x3d\' ../defaultYear}}\x3coption selected\x3e{{this}}\x3c/option\x3e{{else}}\x3coption\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{/each}} \x3c/select\x3e\x3clabel\x3e{{getLanguageBasedTerm \'month\'}}:\x3c/label\x3e \x3cselect class\x3d\'joe-select\' id\x3d\'month-to-send\'\x3e {{#each months}}{{#ifCond this \'\x3d\x3d\' ../defaultMonth}}\x3coption selected\x3e{{this}}\x3c/option\x3e{{else}}\x3coption\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{/each}}\x3c/select\x3e \x3clabel\x3e{{getLanguageBasedTerm \'day\'}}:\x3c/label\x3e \x3cselect class\x3d\'joe-select\' id\x3d\'date-to-send\'\x3e{{#each dates}}{{#ifCond this \'\x3d\x3d\' ../defaultDate}}{{#ifCond this \'\x3c\' 10 }} \x3coption selected\x3e0{{this}}\x3c/option\x3e{{else}} \x3coption selected\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{else}}{{#ifCond this \'\x3c\' 10 }} \x3coption\x3e0{{this}}\x3c/option\x3e{{else}} \x3coption\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{/ifCond}}{{/each}} \x3c/select\x3e \x3cspan class\x3d"pull-right joe-send-btn btn-color-main shadow-box" style\x3d"display:block !important;" id\x3d"msg-send-btn" fieldType \x3d "date" \x3e\x3c/span\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "gender"}}{{#if isMob}}{{#each ticketmsgoptn}}{{#if this.icnUrl}}\x3cdiv class\x3d"optionBtn"\x3e\x3cimg src\x3d"{{this.icnUrl}}" class\x3d"option-to-send" name\x3d"cnfrmtn" value\x3d"{{this.displayText}}"/\x3e{{linkify this.displayText}}\x3c/div\x3e{{else}}\x3cdiv class\x3d"optionBtn"\x3e\x3cimg src\x3d"'+
U+'/assets/imgs/yes-icon-v1.png" class\x3d"option-to-send hide" name\x3d"cnfrmtn" value\x3d"{{this.displayText}}"/\x3e{{linkify this.displayText}}\x3c/div\x3e{{/if}}{{/each}}{{else}}\x3cselect id\x3d"listOptions"\x3e\x3coption id\x3d"" value\x3d"" selected\x3e{{getLanguageBasedTerm "male_or_female"}}\x3c/option\x3e{{#each ticketmsgoptn}}\x3coption id\x3d"joe-select-opsn-{{this.id}}" value\x3d"{{this.displayText}}"\x3e{{this.displayText}}\x3c/option\x3e{{/each}}\x3c/select\x3e{{/if}}{{else ifCond replyContentType "\x3d\x3d" "yes_no"}}\x3cdiv class\x3d\'joe-radio-list-btn\' style\x3d\'text-align:center\'\x3e {{#each ticketmsgoptn}}{{#if this.icnUrl}}\x3cdiv class\x3d\'optionBtn\'\x3e\x3cinput id\x3d\'joe-radio-{{this.id}}\' name\x3d\'listOptions\' type\x3d\'radio\' data-display\x3d\'{{this.displayText}}\' class\x3d\'with-font\' value\x3d\'{{this.id}}\' /\x3e\x3clabel for\x3d\'joe-radio-{{this.id}}\'\x3e\x3cimg src\x3d\'{{this.icnUrl}}\' width\x3d\'25px\' style\x3d\'vertical-align: middle; margin-right: 5px; margin-bottom: 2px;\'/\x3e{{linkify this.displayText}}\x3c/label\x3e\x3c/div\x3e{{else}}\x3cdiv class\x3d\'optionBtn\'\x3e\x3cinput id\x3d\'joe-radio-{{this.id}}\' name\x3d\'listOptions\' type\x3d\'radio\' data-display\x3d\'{{this.displayText}}\' class\x3d\'with-font\' value\x3d\'{{this.id}}\' /\x3e\x3clabel for\x3d\'joe-radio-{{this.id}}\'\x3e{{linkify this.displayText}}\x3c/label\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e {{else ifCond replyContentType "\x3d\x3d" "google_address"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" fieldType\x3d"address" id\x3d"message-to-send" style\x3d"position:relative;" autocomplete\x3d"off"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-address"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-city"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-state"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-longitude"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-latitude"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-postalCode"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "mobile"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "enter_mobile_number"}}.." fieldType\x3d"phone" id\x3d"message-to-send" maxlength\x3d"10" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_phone_number"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "name"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "enter_your_name_here"}}" id\x3d"message-to-send" maxlength\x3d"40" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_first_name"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "full_name"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "type_your_full_name_hit_enter"}}" id\x3d"message-to-send" maxlength\x3d"40" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_full_name"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "email"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "enter_mail_id"}}" fieldType\x3d"email" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_mail"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "number"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "enter_number"}}.." fieldType\x3d"number" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_number"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "password"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"password" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "enter_password"}}.." fieldType\x3d"password" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "new_chat"}}\x3cdiv class\x3d"text-box-wrp text-center"\x3e \x3cbutton class\x3d"joe-new-btn shadow-box btn-color-main" id\x3d"strt-new-chat"\x3e{{getLanguageBasedTerm "start_new_conversation"}}\x3c/button\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "image"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" style\x3d"width:65%;" class\x3d"font-1x lt-grsy inputText" placeholder\x3d"{{getLanguageBasedTerm "type_your_message_here"}}" fieldType\x3d"text" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cdiv class\x3d"font-3x pull-right joe-img-btn btn-color-main"\x3e\x3cform method\x3d"post" id\x3d"fileinfo" name\x3d"fileinfo"\x3e\x3cinput class\x3d"" style\x3d"z-index:100; width: 100%; height: 100%; position: absolute; padding:0px !important; cursor: pointer; opacity: 0; left: 0px;" name\x3d"file" type\x3d"file" id\x3d"joeImgInp" accept\x3d"image/*"/\x3e\x3c/form\x3e\x3c/div\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "file"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" style\x3d"width:80%;" class\x3d"font-1x lt-grsy inputText" placeholder\x3d"{{getLanguageBasedTerm "type_your_message_here"}}" fieldType\x3d"text" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cdiv class\x3d"font-3x pull-right joe-file-btn"\x3e\x3cform method\x3d"post" id\x3d"fileupload" name\x3d"fileupload"\x3e\x3ci class\x3d"fa fa-paperclip" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3cinput class\x3d"" style\x3d"font-size:0; z-index:100; width: 100%; display:inline; height: 200%; position: absolute; padding:0px !important; cursor: pointer; opacity: 0; left: 0px; top:-15px" name\x3d"file" type\x3d"file" id\x3d"joeFileInp" accept\x3d"/*"/\x3e\x3c/form\x3e\x3c/div\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "file_and_image"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" style\x3d"width: calc(100% - 35px); box-sizing: border-box;" class\x3d"font-1x lt-grsy inputText" placeholder\x3d"{{getLanguageBasedTerm "type_your_message_here"}}" fieldType\x3d"text" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cdiv class\x3d"font-3x pull-right joe-file-btn"\x3e\x3cform method\x3d"post" id\x3d"fileupload" name\x3d"fileupload"\x3e\x3ci class\x3d"fa fa-paperclip" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3cinput class\x3d"" style\x3d"font-size:0; z-index:100; width: 100%; display:inline; height: 200%; position: absolute; padding:0px !important; cursor: pointer; opacity: 0; left: 0px; top:-15px" name\x3d"file" type\x3d"file" id\x3d"joeFileInp" accept\x3d"/*"/\x3e\x3c/form\x3e\x3c/div\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e{{else}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy inputText" placeholder\x3d"{{getLanguageBasedTerm "type_your_message_here"}}" fieldType\x3d"text" id\x3d"message-to-send" maxlength\x3d"'+
a.maxTextareaCharLength+'" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_message"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/ifCond}}{{/ifCond}}{{/unless}}{{/if}}\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"file-upload-prev-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay" style\x3d"text-align: center;"\x3e\x3cdiv style\x3d"width:100%; display:inline-block; vertical-align: middle; height: 100%; overflow: auto;"\x3e\x3cdiv style\x3d"text-align: right; margin-right: 5px;"\x3e\x3cspan id\x3d"joe-overlay-cross-btn" class\x3d"joe-overlay-cross-btn" style\x3d"margin-right: 5px; color:white;"\x3e\x3ci class\x3d"fa fa-times-circle-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d"joe-helper"\x3e\x3c/span\x3e\x3cdiv class\x3d"text-center joe-end-chat-alert" style\x3d"margin-top:10px; display: inline-block;"\x3e\x3cspan style\x3d"font-weight: bold; font-size: 13px;"\x3e{{fileSrc}}\x3c/span\x3e\x3clable class\x3d"font-2x" style\x3d"display:block;"\x3e{{getLanguageBasedTerm "would_you_want_to_send_this_file"}}\x3c/lable\x3e\x3cbutton id\x3d"joe-chat-send-file-yes" class\x3d"joe-chat-yes-btn"\x3e {{getLanguageBasedTerm "yes"}} \x3c/button\x3e\x3cbutton id\x3d"joe-chat-send-file-no" class\x3d"joe-chat-no-btn"\x3e {{getLanguageBasedTerm "no"}} \x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"img-upload-prev-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay" style\x3d"text-align: center;"\x3e\x3cspan class\x3d"joe-helper"\x3e\x3c/span\x3e\x3cdiv style\x3d"width:100%; display:inline-block; vertical-align: middle; height: 100%; overflow: auto;"\x3e\x3cdiv style\x3d"text-align: right; margin-right: 5px;"\x3e\x3cspan id\x3d"joe-overlay-cross-btn" class\x3d"joe-overlay-cross-btn" style\x3d"margin-right: 5px; color:white;"\x3e\x3ci class\x3d"fa fa-times-circle-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cimg src\x3d"{{imgSrc}}" style\x3d"max-width:100%; vertical-align: middle; max-height: 50%;"/\x3e\x3cdiv class\x3d"text-center joe-end-chat-alert" style\x3d"margin-top:10px;"\x3e\x3clable class\x3d"font-2x" style\x3d"display:block;"\x3e{{getLanguageBasedTerm "would_you_really_want_to_send_this_image"}}\x3c/lable\x3e\x3cbutton id\x3d"joe-chat-send-img-yes" class\x3d"joe-chat-yes-btn"\x3e Yes \x3c/button\x3e\x3cbutton id\x3d"joe-chat-send-img-no" class\x3d"joe-chat-no-btn"\x3e No \x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"widget-header-template" type\x3d"text/x-handlebars-template"\x3e{{#if headerStngs.shw}}\x3cul id\x3d"widget-header"\x3e{{#if headerStngs.lftIcns}}{{#each (reverse headerStngs.lftIcns)}}\x3cli style\x3d"display:inline-block;{{#unless this.actn}}cursor: default;{{/unless}}"class\x3d"left-joe-icon" data-action\x3d"{{JSON2string this.actn}}"\x3e\x3cspan style\x3d"background-image:url({{this.icnUrl}})" class\x3d"left-icon"\x3e\x3c/span\x3e\x3c/li\x3e{{/each}}{{/if}}{{#if headerStngs.ttl}}\x3cli class\x3d"fbots-chat-header-title"\x3e\x3clabel class\x3d"title-chat"\x3e{{headerStngs.ttl}}\x3c/label\x3e\x3c/li\x3e{{/if}}\x3cli class\x3d"pull-right joe-icon" style\x3d"display:inline-block; width:14px;"\x3e\x3c/li\x3e{{#if headerStngs.rghtIcns}}{{#each (reverse headerStngs.rghtIcns)}}{{#ifCond this.typ "\x3d\x3d\x3d" "MENU"}}{{#if this.icns}}\x3cli class\x3d"pull-right joe-icon joe-menu-btn" style\x3d"overflow: visible;" title\x3d"{{this.ttl}}" data-action\x3d"{}"\x3e\x3cspan style\x3d"background-image:url({{this.icnUrl}})"\x3e\x3c/span\x3e\x3cdiv class\x3d"Slsh-list-items" id\x3d"joe-menu-dropdown" style\x3d"background: transparent; margin-left:0px; height: auto; overflow-y:visible; top:42px; right:16px; z-index: 1000; display: none; width:auto; "\x3e\x3cul class\x3d"font-1x joe-shadow joe-menu-list-items" style\x3d"margin-left:10px;display:inline-block;min-width: 150px;max-width: 250px;text-align: left;border-radius: 3px;padding:5px 0px;position: relative;background-color: white;box-shadow: 0 0 13px 0 rgba(0, 0, 0, 0.19) !important;"\x3e{{#each this.icns}}\x3cli class\x3d"menu-joe-icon" style\x3d"border-top: none;padding: 5px 10px!important;font-size: 14px !important;" data-action\x3d"{{JSON2string this.actn}}"\x3e{{this.ttl}}\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/li\x3e{{/if}}{{else ifCond this.typ "\x3d\x3d\x3d" "NORMAL"}}\x3cli class\x3d"pull-right joe-icon" title\x3d"{{this.ttl}}" {{#unless this.actn}}style\x3d"cursor: default;"{{/unless}} data-action\x3d"{{JSON2string this.actn}}"\x3e\x3cspan style\x3d"background-image:url({{this.icnUrl}})"\x3e\x3c/span\x3e\x3c/li\x3e{{/ifCond}}{{/each}}{{/if}}\x3cli style\x3d"padding-bottom: 20px !important; padding-top: 0 !important;"\x3e{{#if headerStngs.sbTtl}}\x3clabel class\x3d"title-chat"\x3e{{headerStngs.sbTtl}}\x3c/label\x3e{{/if}}\x3c/li\x3e\x3c/ul\x3e{{/if}}\x3c/script\x3e\x3cscript id\x3d"widget-menu-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"Slsh-list-items" id\x3d"joe-menu-dropdown" style\x3d"background: transparent; margin-left:0px; height: auto; overflow-y:visible; top:42px; right:16px; z-index: 1000; display: none; width:auto; "\x3e\x3cul class\x3d"font-1x joe-shadow joe-menu-list-items" style\x3d"margin-left:10px;display:inline-block;min-width: 150px;max-width: 250px;text-align: left;border-radius: 3px;padding:5px 0px;position: relative;background-color: white;box-shadow: 0 0 13px 0 rgba(0, 0, 0, 0.19) !important;"\x3e{{#each menuIcns}}\x3cli class\x3d"menu-joe-icon" style\x3d"border-top: none;padding: 5px 10px!important;font-size: 14px !important;" data-action\x3d"{{JSON2string this.actn}}"\x3e{{this.ttl}}\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/script\x3e');
b("body").append(c);return{Template:{agentMessage:a.Handlebars.compile(b("#message-response-template").html()),customerMessage:a.Handlebars.compile(b("#message-template").html()),groupTemplate:a.Handlebars.compile(b("#joe-message-group-template").html()),endChatConfirmation:a.Handlebars.compile(b("#end-chat-confirmation-template").html()),trimMessageConfirmation:a.Handlebars.compile(b("#trim-message-confirmation-template").html()),inputSection:a.Handlebars.compile(b("#agent-msg-submit-template").html()),
rateTemplate:a.Handlebars.compile(b("#chat-rate-template").html()),dateTemplate:a.Handlebars.compile(b("#message-date-template").html()),newMessageTemplate:a.Handlebars.compile(b("#new-message-template").html()),quickReplyInputTemplate:a.Handlebars.compile(b("#quick-reply-input-template").html()),fullBodyInput:a.Handlebars.compile(b("#full-body-input-template").html()),headerMenuListItems:a.Handlebars.compile(b("#header-menu-list-template").html()),faqFullCard:a.Handlebars.compile(b("#faq-item-full-template").html()),
headerMenuIcons:a.Handlebars.compile(b("#header-menu-icons-template").html()),slshCmndsListItems:a.Handlebars.compile(b("#Slsh-Cmnds-List-Items-template").html()),botsListItems:a.Handlebars.compile(b("#Bots-List-Items-template").html()),fullImgFullView:a.Handlebars.compile(b("#full-img-fullview-template").html()),fullImageMobView:a.Handlebars.compile(b("#full-img-mobview-template").html()),imgUploadPrev:a.Handlebars.compile(b("#img-upload-prev-template").html()),fileUploadPrev:a.Handlebars.compile(b("#file-upload-prev-template").html()),
widgetHeader:a.Handlebars.compile(b("#widget-header-template").html()),widgetMenu:a.Handlebars.compile(b("#widget-menu-template").html()),popupMessage:a.Handlebars.compile(b("#popup-message-template").html())}}}()});a.getCssFile(U+"/assets/share/css/combined.min.css?v\x3d0.26",!1,function(){a.Object.isNotNull(a.chatInstance)&&ca.setChatHistoryHeight()});history.onpushstate=function(b){b&&(la=b.url?"/"+b.url:b.state&&b.state.Url?"/"+b.state.Url:"/",ba=f.location.origin+la,a.historyActionEnable&&(b&&
b.state&&void 0!==b.state.turbolinks||Na()))};f.onpopstate=function(b){la=d.location.pathname;a.historyActionEnable&&ca.isUrlChange()&&(b&&b.state&&void 0!==b.state.turbolinks||Na())};(function(a){var b=a.pushState;a.pushState=function(c,d,e){if("function"===typeof a.onpushstate){var f=e;c&&c.turbolinks&&"object"===typeof f&&f.requestURL&&(f=f.requestURL);f&&f.startsWith(location.origin)&&(f=f.replace(location.origin+"/",""));a.onpushstate({state:c,title:d,url:f})}return b.apply(a,arguments)}})(f.history);
(function(){a.Handlebars.registerHelper("ifCond",function(a,b,c,d){switch(b){case "\x3d\x3d":return a==c?d.fn(this):d.inverse(this);case "!\x3d":return a!=c?d.fn(this):d.inverse(this);case "\x3d\x3d\x3d":return a===c?d.fn(this):d.inverse(this);case "\x3c":return a<c?d.fn(this):d.inverse(this);case "\x3c\x3d":return a<=c?d.fn(this):d.inverse(this);case "\x3e":return a>c?d.fn(this):d.inverse(this);case "\x3e\x3d":return a>=c?d.fn(this):d.inverse(this);case "\x26\x26":return a&&c?d.fn(this):d.inverse(this);
case "||":return a||c?d.fn(this):d.inverse(this);default:return d.inverse(this)}});a.Handlebars.registerHelper("math",function(a,b,c,d){a=parseFloat(a);c=parseFloat(c);return{"+":a+c,"-":a-c,"*":a*c,"/":a/c,"%":a%c}[b]});a.Handlebars.registerHelper("linkify",function(b){b&&(b=b.replace(/^@(\w+)/gi,function(a){return'\x3cspan style\x3d"color:#007ab8;"\x3e'+a+"\x3c/span\x3e"}),0>b.indexOf("\x3c/a\x3e")&&(b=b.replace(/(?!(<((?!>).)*))((?:(http|https|Http|Https|rtsp|Rtsp):\/\/(?:(?:[a-zA-Z0-9\$\-\_\.\+\!\*\'\(\)\,\;\?\&\=]|(?:\%[a-fA-F0-9]{2})){1,64}(?:\:(?:[a-zA-Z0-9\$\-\_\.\+\!\*\'\(\)\,\;\?\&\=]|(?:\%[a-fA-F0-9]{2})){1,25})?\@)?)?((?:(?:[a-zA-Z0-9][a-zA-Z0-9\-]{0,64}\.)+(?:(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|com|coop|c[acdfghiklmnoruvxyz])|d[ejkmoz]|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|s[abcdeghijklmnortuvyz]|(?:tel|travel|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|w[fs]|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\:\d{1,5})?)(\/(?:(?:[a-zA-Z0-9\;\/\?\:\@\&\=\#\~\-\.\+\!\*\'\(\)\,\_])|(?:\%[a-fA-F0-9]{2}))*)?(?:\b|$)(?!(((?!<).)*>))/gi,
function(a){return 5<a.length?/^(http|https):\/\//i.test(a)?'\x3ca rel\x3d"noreferrer" target\x3d"_blank" href\x3d"'+a+'"\x3e'+a+"\x3c/a\x3e":'\x3ca rel\x3d"noreferrer" target\x3d"_blank" href\x3d"//'+a+'"\x3e'+a+"\x3c/a\x3e":a})));return new a.Handlebars.SafeString(b)});a.Handlebars.registerHelper("times",function(a,b){for(var c="",d=1;d<a+1;++d)c+=b.fn(d);return c});a.Handlebars.registerHelper("reverse",function(a){return a.reverse()});a.Handlebars.registerHelper("JSON2string",function(a){return JSON.stringify(a)});
a.Handlebars.registerHelper("strip-html",function(a){if(null==a)return"";var b=d.createElement("DIV");b.innerHTML=a;return b.textContent||b.innerText||""});a.Handlebars.registerHelper("formatDate",function(a){return"undefined"==typeof a?"Unknown":(new Date(a)).getDate()});a.Handlebars.registerHelper("formatMonth",function(a){return"undefined"==typeof a?"Unknown":(new Date(a)).getMonth()});a.Handlebars.registerHelper("formatYear",function(a){return"undefined"==typeof a?"Unknown":(new Date(a)).getFullYear()});
a.Handlebars.registerHelper("trimString",function(b,c,d){return b.length>d?(b=b.substring(c,d),new a.Handlebars.SafeString(b+"...")):new a.Handlebars.SafeString(b)});a.Handlebars.registerHelper("getLanguageBasedTerm",function(a){return ka[a]})})();var ca=function(){return{setup:function(){var c='\x3cdiv class\x3d"chat-container shadow-box joe-hide"\x3e\x3cdiv class\x3d"chat-header lg-header bg-header color-white font-2x joe-box"\x3e\x3cspan id\x3d\'unread-ctr\' class\x3d\'fa-stack fa-1x\'\x3e\x3ci class\x3d\'fa fa-comment fa-stack-2x\'\x3e\x3c/i\x3e \x3cstrong class\x3d\'fa-stack-1x fa-stack-text fa-inverse\'\x3e\x3c/strong\x3e\x3c/span\x3e\x3cdiv class\x3d"" id\x3d"min"\x3e\x3c/div\x3e\x3ci class\x3d"fa fa-comments fa-1x"\x3e\x3c/i\x3e '+
a.chatInstance.headerText+' \x3cspan id\x3d"o-c-icons"\x3e\x3ci class\x3d"fa fa-minus pull-right"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mobile-chat-container shadow-box joe-animated joe-slideInUp joe-hide" id\x3d"mobile-chat-container"\x3e\x3cdiv class\x3d"joe-msg-bubble-container joe-hide" style\x3d"position:absolute;z-index: 10000; width:100%; right:0; bottom:100%;"\x3e\x3cdiv style\x3d"display:block; padding: 15px; font-size: 12px; text-align:right;"\x3e\x3cdiv class\x3d"joe-msg-hovertext"\x3e\x3cspan class\x3d"msg-bubble-btnclose" style\x3d"position: absolute; right:0px; top:0px;"\x3e\x3ci class\x3d"fa fa-times-circle" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv style\x3d"position:relative; font-family: inherit; font-size:inherit;"\x3e\x3cspan id\x3d"joe-bubble-unread" class\x3d"joe-hide shadow-box"\x3e\x3c/span\x3e\x3ci class\x3d\'fa fa-comments\'\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e',
d='\x3ca href\x3d"'+a.chatInstance.messengerBubbleLink+'" target\x3d"_blank"\x3e\x3cdiv class\x3d"mobile-chat-container joe-fb-messenger" style\x3d"background-color: transparent;" id\x3d"mobile-chat-container"\x3e\x3cdiv class\x3d"joe-msg-bubble-container joe-hide" style\x3d"position:absolute;z-index: 10000; width:100%; right:0; bottom:100%;"\x3e\x3cdiv style\x3d"display:block; padding: 15px; font-size: 12px; text-align:right;"\x3e\x3cdiv class\x3d"joe-msg-hovertext"\x3e\x3cspan class\x3d"msg-bubble-btnclose" style\x3d"position: absolute; right:0px; top:0px;"\x3e\x3ci class\x3d"fa fa-times-circle" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e';
a.chatInstance.chatContainerBasicHtml='\x3cdiv class\x3d"chat-container shadow-box"\x3e\x3cdiv class\x3d"joe-msg-bubble-container joe-hide" style\x3d"position:absolute;z-index: 10000; width:100%; right:0; bottom:100%; cursor: pointer;"\x3e\x3cdiv style\x3d"display:block; padding: 15px; font-size: 12px; text-align:right;"\x3e\x3cdiv class\x3d"joe-msg-hovertext"\x3e\x3cspan class\x3d"msg-bubble-btnclose" style\x3d"position: absolute; right:0px; top:0px;"\x3e\x3ci class\x3d"fa fa-times-circle" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"chat-header lg-header bg-header color-white font-2x joe-box"\x3e\x3cspan id\x3d\'unread-ctr\' class\x3d\'fa-stack fa-1x\'\x3e\x3ci class\x3d\'fa fa-comment fa-stack-2x\'\x3e\x3c/i\x3e \x3cstrong class\x3d\'fa-stack-1x fa-stack-text fa-inverse\'\x3e\x3c/strong\x3e\x3c/span\x3e\x3cul id\x3d"widget-header"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"chat-body" style\x3d"display:none;"\x3e\x3cdiv class\x3d"joe-chat-icon-header shadow-box" id\x3d"joe-chat-icon-header"\x3e\x3cul\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-chat-body-overlay joe-hide" id\x3d"joe-chat-body-overlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"chat-history"\x3e\x3cul class\x3d"joe-message-list"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"chat-footer" style\x3d"visibility: hidden;"\x3e\x3cdiv class\x3d"qck-rply-div"\x3e\x3c/div\x3e\x3cdiv class\x3d"" style\x3d"display: none; width:8%; text-align: center; vertical-align: bottom;"\x3e\x3c/div\x3e\x3cdiv class\x3d"fbots-chat-footer-main" id\x3d"agent-msg-submit"\x3e\x3cdiv class\x3d"text-box-wrp"\x3e \x3c/div\x3e\x3c/div\x3e'+
(a.chatInstance.uiSettings.rmvJoeBrndng?"":'\x3cdiv class\x3d"title-tag '+(X?"in":"")+'" style\x3d"display: block !important;"\x3e\x3ca href\x3d"https://www.freshworks.com/freddy-bot-builder/" target\x3d"_blank" style\x3d"display:inline-block !important;"\x3e\x3cspan class\x3d"lt-grsy" style\x3d"display:inline-block !important;" charset\x3d\x3e'+ka.powered+" "+ka.by+' \x3c/span style\x3d"display:inline-block !important;"\x3e '+ka.freshworks+"\x3c/a\x3e\x3c/div\x3e")+"\x3c/div\x3e\x3c/div\x3e";this.appendStyleInHead(a.chatInstance.uiThemeCss);
a.chatInstance.widgetFullScreen&&this.appendStyleInHead(".chat-container { right:0px !important; bottom: 0px !important; max-height: 100% !important;border-radius: 0px !important;} .chat-container .chat-footer, .chat-container .chat-header {border-radius: 0px !important;}");if("embedded"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"embedded"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())d=".chat-container { position: absolute !important; left:0px !important; top:0 !important; width:100% !important; display:block !important; box-shadow: none !important; border:none !important } .chat-container .chat-body{ display: block !important; } .chat-container #o-c-icons, .chat-container #unread-ctr{ display: none !important; }",
a.chatInstance.uiSettings.showChatHeader||(d+=".chat-container .chat-header{ display: none !important; }"),this.appendStyleInHead(d),b(a.chatInstance.uiSettings.chatParentSelector).css("position","relative"),b(a.chatInstance.uiSettings.chatParentSelector).html(c);else{if(a.chatInstance.uiSettings.showMessengerBubble){b("body").append(d);b(".joe-fb-messenger").css("bottom",a.chatInstance.uiSettings.initHeightFromBottom+"px");a.chatInstance.headerText&&(c={response:a.chatInstance.headerText,publicNote:!0},
b(a.chatInstance.selectors.joeMsgBubbleContainer).replaceWith(a.HandlebarsHtml.Template.popupMessage(c)),b(".joe-fb-messenger .joe-msg-bubble-container").css("bottom","85%"),b(a.chatInstance.selectors.joeMsgBubbleContainer).css("width","150px"));this.movableMobileContainerBindEvent();return}b("body").append(c)}this.bindWindowEvents();this.bindDocumentEvents();a.RealTimeConnection.realtimeConnectOnInit&&!a.RealTimeConnection.isRealTimeConnectionPresent()?this.initiateRealTimeConnection(this.createSessionIfNeededAndShowWidget):
this.createSessionIfNeededAndShowWidget();a.chatInstance.timestampUpdateTimeIntervalId=setInterval(function(){b(a.chatInstance.selectors.msgTimeElementWithRelativeTime).each(function(){b(this).text(a.Date.getDateString(b(this).attr(a.chatInstance.dataAttributes.msgTimestamp),a.chatInstance.dateFormat,a.chatInstance.timeFormat))})},a.chatInstance.timestampUpdateTimeIntervalPeriod)},addWidgetHeader:function(c){c={headerStngs:c};b("#widget-header").replaceWith(a.HandlebarsHtml.Template.widgetHeader(c))},
addWidgetMenu:function(c){c&&(c={menuIcns:c.icns},b("#joe-menu-dropdown").replaceWith(a.HandlebarsHtml.Template.widgetMenu(c)))},refreshChatHistory:function(){b(a.chatInstance.selectors.chatContainer)&&(b(a.chatInstance.selectors.joeChatBodyOverlay).removeClass("joe-hide"),b(a.chatInstance.selectors.joeChatBodyOverlay).append('\x3cdiv class\x3d"joe-loader joe-full"\x3e\x3c/div\x3e'),ca.loadMorePreviousMsg())},initiateRealTimeConnection:function(b){var c=this;if(a.RealTimeConnection.pusher.active){a.Log.logMessage("pusher is active... connecting",
!0);a.RealTimeConnection.pusher.instance=a.RealTimeConnection.pusher.clusterCode&&""!==a.RealTimeConnection.pusher.clusterCode?new Pusher(a.RealTimeConnection.pusher.apiKey,{cluster:a.RealTimeConnection.pusher.clusterCode}):new Pusher(a.RealTimeConnection.pusher.apiKey);var d=a.RealTimeConnection.pusher.instance.subscribe(a.chatInstance.customerHash);d.bind("pusher:subscription_succeeded",function(){a.Log.logMessage("pusher subscription succeeded");return b.apply(c)});d.bind("MessageOnTicket",function(a){return c.onRealTimeMessageReceive.apply(c,
[a])});d.bind("Typing",function(a){c.onTypingMessageReceive.apply(c,[a])});d.bind("ticketOnChannelSession",function(b){T==b.chnlSnId&&(a.chatInstance.currConversation=b.cnvrstnHsh)})}else a.RealTimeConnection.rts.active&&(a.Log.logMessage("RTS is active... connecting"),a.RealTimeConnection.rts.instance=new RTS({accId:a.RealTimeConnection.rts.accountId,userId:a.chatInstance.customerHash,origin:a.RealTimeConnection.rts.origin,token:a.RealTimeConnection.rts.jwt,serviceId:a.RealTimeConnection.rts.serviceId,
traceId:a.RealTimeConnection.rts.traceId,debug:Ba,onConnect:function(){a.Log.logMessage("onConnect");c.initiateRtsSubscription.apply(c,[b])},onReconnecting:function(){a.Log.logMessage("Reconnecting to RTS")},onReconnect:function(){a.Log.logMessage("Reconnected to RTS");c.initiateRtsSubscription.apply(c,[b])},onDisconnect:function(){a.Log.logMessage("onDisconnect");a.RealTimeConnection.rts.connected=!1;a.RealTimeConnection.rts.instance.unsubscribeAll&&a.RealTimeConnection.rts.instance.close&&(a.RealTimeConnection.rts.instance.unsubscribeAll(),
a.RealTimeConnection.rts.instance.close())},onConnectError:function(){a.Log.logMessage("RTS connect error");a.RealTimeConnection.rts.connected=!1}}))},initiateRtsSubscription:function(b){var c=this;a.Log.logMessage("Subscribing to RTS "+a.chatInstance.customerHash+". Token is "+a.RealTimeConnection.rts.jwt,!0);var d={opt:0,traceId:a.RealTimeConnection.rts.traceId,messageHandler:c.handleRtsMessage.bind(c)};a.RealTimeConnection.rts.instance.subscribe(a.chatInstance.customerHash,function(a,d){c.handleRtsSubscription(a,
d,b)},d)},handleRtsMessage:function(b){a.Log.logMessage("RTS data Received function "+JSON.stringify(b),!0);var c=b.event;if(c&&"send"==c.toLowerCase())switch(c=JSON.parse(b.msg),c.joeEvent){case "MessageOnTicket":this.onRealTimeMessageReceive.apply(this,[c]);break;case "Typing":b.cnvrstnHsh===a.chatInstance.currConversation&&this.onTypingMessageReceive.apply(this,[b]);break;case "ticketOnChannelSession":T==c.chnlSnId&&(a.chatInstance.currConversation=c.cnvrstnHsh);break;default:console.log("Not able to find event type;")}},
handleRtsSubscription:function(b,c,d){b&&(console.log("Error on subscribing RTS "+b),a.RealTimeConnection.rts.connected=!1);if(c&&1===c.status)return a.Log.logMessage("RTS subscription succeeded"),a.RealTimeConnection.rts.connected=!0,d.apply(this)},appendStyleInHead:function(a){var b=d.head||d.getElementsByTagName("head")[0],c=d.createElement("style");c.type="text/css";c.className="fbots-style";c.styleSheet?c.styleSheet.cssText=a:c.appendChild(d.createTextNode(a));b.appendChild(c)},appendToBeProcessedTextMessageToChatHistory:function(c){var d=
this,e=b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").attr("author");c.refTmHash&&""!==c.refTmHash||(c.refTmHash=a.chatInstance.latestAgentMessageHash);b(".joe-typing").remove();a.chatInstance.cacheMessage="";d.scrollToBottom();if(a.Validation.validationEvent(b(a.chatInstance.selectors.inputSection))||c.skipValidation)b(a.chatInstance.selectors.alertTextFooterInput).addClass("hide");else return b(a.chatInstance.selectors.alertTextFooterInput).removeClass("hide"),null;
b(a.chatInstance.selectors.inputSectionParent).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn, .joe-quickReplyList").css("visibility","hidden");b(a.chatInstance.selectors.inputSectionParent).find("input[type\x3d'file']").css("visibility","visible");b(a.chatInstance.selectors.inputSectionParent).find(".inputText").css("visibility","visible");0>=b(a.chatInstance.selectors.inputSectionParent).find(".inputText").length&&b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").removeClass("hide");
c.displayText||(c.displayText=c.messageToSend);c.displayText=d.htmlToString(c.displayText);c.hash=a.String.getHash(c.displayText+(new Date).getTime());c.createDateTimeStamp=(new Date).getTime();c.dateString=a.Date.getDateString(c.createDateTimeStamp,a.chatInstance.dateFormat,a.chatInstance.timeFormat);c.timestampType="absolute";a.Date.isDateStringRelative(c.dateString)&&(c.timestampType="relative");(""==e||"customer"!==e||d.messageTimediff(parseInt(c.createDateTimeStamp),!0))&&b(a.chatInstance.selectors.chatHistoryList).append(a.HandlebarsHtml.Template.groupTemplate({publicNote:!0,
author:"customer"}));e={messageOutput:c.displayText,timestampType:c.timestampType,time:c.dateString,crtDtTmstmp:c.createDateTimeStamp,publicNote:!0,ticketMessageHash:"",hash:c.hash};b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").append(a.HandlebarsHtml.Template.customerMessage(e));1<=b(a.chatInstance.selectors.chatHistoryList).find(".my-message").length&&(b(".chat-container .chat-header.lg-header").removeClass("lg-header"),setTimeout(function(){d.setChatHistoryHeight();
d.scrollToBottom()},150));d.scrollToBottom();b(a.chatInstance.selectors.messageTextarea).val("");return c},appendToBeProcessedFileMessageToChatHistory:function(c){var d=this,e=b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").attr("author");c.refTmHash&&""!==c.refTmHash||(c.refTmHash=a.chatInstance.latestAgentMessageHash);var f=new FileReader;c.hash=a.String.getHash(c.input.files[0]+(new Date).getTime());c.createDateTimeStamp=(new Date).getTime();c.dateString=a.Date.getDateString(c.createDateTimeStamp,
a.chatInstance.dateFormat,a.chatInstance.timeFormat);c.timestampType="absolute";a.Date.isDateStringRelative(c.dateString)&&(c.timestampType="relative");(""==e||"customer"!==e||d.messageTimediff(parseInt(c.createDateTimeStamp),!0))&&b(a.chatInstance.selectors.chatHistoryList).append(a.HandlebarsHtml.Template.groupTemplate({publicNote:!0,author:"customer"}));f.onload=function(e){var f;c.type===a.chatInstance.message.type.image?f={messageOutput:e.target.result,timestampType:c.timestampType,time:c.dateString,
crtDtTmstmp:c.createDateTimeStamp,publicNote:!0,ticketMessageHash:"",hash:c.hash,msgCntntTyp:"img"}:c.type===a.chatInstance.message.type.file&&(f={messageOutput:"",timestampType:c.timestampType,time:c.dateString,crtDtTmstmp:c.createDateTimeStamp,publicNote:!0,ticketMessageHash:"",hash:c.hash,msgCntntTyp:"loader"});b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").append(a.HandlebarsHtml.Template.customerMessage(f));d.scrollToBottom()};f.readAsDataURL(c.input.files[0]);return c},
createConnectionIfNeededAndSendMessage:function(c){if(this.validateXssError(c.messageToSend)){if(c.type===a.chatInstance.message.type.text){if(!c.messageToSend||""===c.messageToSend.trim())return!1;if(c.messageToSend.length>a.maxTextareaCharLength)return this.trimMsgAlert(),!1}else if(c.type===a.chatInstance.message.type.image||c.type===a.chatInstance.message.type.file)if(!c.input.files||!c.input.files[0])return!1;c.type===a.chatInstance.message.type.text?c=this.appendToBeProcessedTextMessageToChatHistory(c):
c.type===a.chatInstance.message.type.image||c.type===a.chatInstance.message.type.file?c=this.appendToBeProcessedFileMessageToChatHistory(c):c.type===a.chatInstance.message.type["private"]?c.refTmHash&&""!==c.refTmHash||(c.refTmHash=a.chatInstance.latestAgentMessageHash):c.feedback===a.chatInstance.message.type.feedback?c.refTmHash&&""!==c.refTmHash||(c.refTmHash=a.chatInstance.latestAgentMessageHash):c.feedbackTmo!==a.chatInstance.message.type.feedbackTmo||c.refTmHash&&""!==c.refTmHash||(c.refTmHash=
a.chatInstance.latestAgentMessageHash);if(!c)return!1;a.chatInstance.pendingMessageQueue.push(c);a.RealTimeConnection.isRealTimeConnectionPresent()?this.processPendingMessageQueue():this.initiateRealTimeConnection(this.processPendingMessageQueue)}else b(a.chatInstance.selectors.alertTextFooterInput).removeClass("hide")},processPendingMessageQueue:function(){if(a.RealTimeConnection.pusher.active&&a.RealTimeConnection.pusher.instance.connection.state===a.RealTimeConnection.pusher.connectedState||a.RealTimeConnection.rts.active&&
a.RealTimeConnection.rts.connected)for(var b;0<a.chatInstance.pendingMessageQueue.length;)b=a.chatInstance.pendingMessageQueue[0],b.type===a.chatInstance.message.type.text?this.sendMessage(b.messageToSend,b.displayText,b.hash,b.refTmHash,b.contentType):b.type===a.chatInstance.message.type.file?this.addFile(b.input,b.hash,b.refTmHash):b.type===a.chatInstance.message.type.image?this.addImage(b.input,b.hash,b.refTmHash):b.type===a.chatInstance.message.type["private"]?this.sendPrivateMessage(b.messageToSend,
b.refTmHash):b.type===a.chatInstance.message.type.feedback?this.sendMsgFeedback(b.customerHash,b.refTmhash,b.answr,b.enty,b.tcktMsgOptnId,b.inputRef):b.type===a.chatInstance.message.type.feedbackTmo&&this.sendMsgTmoFeedback(b.customerHash,b.refTmhash,b.answr,b.enty,b.tcktMsgOptnId,b.inputRef),a.chatInstance.pendingMessageQueue.splice(0,1)},sendPrivateMessage:function(c,d){var e=null,f=b("div.joe-message.other-message:last");if(null!==f&&0<f.length&&""!==f.attr("data-node-id")){var e=f.attr("data-node-id"),
g=null;""!==f.attr("data-node-intent")&&(g=f.attr("data-node-intent"))}var h=function(b){a.chatInstance.isButtonEnabled=!0;console.log("Message send failed - ["+JSON.stringify(b)+"]")};a.RemoteCall.postMessageToServer(a.chatInstance.customerHash,c,d,null,!0,e,g,null,function(b){a.chatInstance.isButtonEnabled=!0},function(b){b&&b.status&&401==b.status?a.RemoteCall.postMessageToServer(a.chatInstance.customerHash,c,d,null,!0,e,g,null,function(b){a.chatInstance.isButtonEnabled=!0},function(a){h(a)}):
h(b)})},sendMessage:function(c,d,e,f,g){var h=this,k=null;d=b("div.joe-message.other-message:last");if(null!=d&&0<d.length&&""!=d.attr("data-node-id")){var k=d.attr("data-node-id"),m=null;""!=d.attr("data-node-intent")&&(m=d.attr("data-node-intent"))}var n=function(c){a.chatInstance.isButtonEnabled=!0;c.error?(b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]').find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon),b(a.chatInstance.selectors.inputSectionParent).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn, .joe-quickReplyList").css("visibility",
"visible"),b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").addClass("hide"),console.log("Message send failed - ["+JSON.stringify(c.msgs)+"]")):(c=c.data,h.onTextMessageSendSuccess(e,c.ticketMessage.tcktMsgHsh),1>b(a.chatInstance.selectors.chatHistoryList).find("."+c.ticket.ticketHash).length&&b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]').parent("li").before("\x3chr class\x3d'"+c.ticket.ticketHash+"'/\x3e"))},q=function(c){a.chatInstance.isButtonEnabled=
!0;b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]').find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon);b(a.chatInstance.selectors.inputSectionParent).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn, .joe-quickReplyList").css("visibility","visible");b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").addClass("hide");console.log("Message send failed - ["+JSON.stringify(c)+
"]")};a.RemoteCall.postMessageToServer(a.chatInstance.customerHash,c,f,e,!1,k,m,g,function(a){n(a)},function(b){b&&b.status&&401==b.status?a.RemoteCall.postMessageToServer(a.chatInstance.customerHash,c,f,e,!1,k,m,g,function(a){n(a)},function(a){q(a)}):q(b)})},onTextMessageSendSuccess:function(c,d){var e=b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+c+'"]');e.find(".msg-status").html(ka.delivered+"\x26nbsp;\x26nbsp;");e.attr("ticketMessageHash",d)},addImage:function(c,d,e){var f=
this,g=function(c){var e=b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+d+'"]');c.error?(e.find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon),console.log("Message send failed - ["+c.error.msg+"]")):(c=c.data,f.onTextMessageSendSuccess(d,c.ticketMessage.tcktMsgHsh),1>b(a.chatInstance.selectors.chatHistoryList).find("."+c.ticket.ticketHash).length&&b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+d+'"]').parent("li").before("\x3chr class\x3d'"+
c.ticket.ticketHash+"'/\x3e"))},h=function(c){b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+d+'"]').find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon);console.log("Error while inactivity call response: "+c)};a.RemoteCall.sendFileMessage(a.chatInstance.customerHash,"fileinfo",d,e,function(a){g(a)},function(b){b&&b.status&&401==b.status?a.RemoteCall.sendFileMessage(a.chatInstance.customerHash,"fileinfo",d,e,function(a){g(a)},function(a){h(a)}):
h(b)});b("#joeImgInp").val("")},addFile:function(c,e,f){var g=this,h=function(c){var f=b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]');if(c.excp)f.find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon),f.find(".file_loader").html("\x3cdiv class\x3d'broken_file'\x3e\x3c/div\x3e"),g.scrollToBottom(),console.log("Message send failed - ["+JSON.stringify(c.msgs)+"]");else{c=c.data;f.find(".loader-text").replaceWith(c.ticketMessage.message);
var l=c.ticketMessage.crtDtTmstmp,h=a.Date.getDateString(l,a.chatInstance.dateFormat,a.chatInstance.timeFormat),k="absolute";a.Date.isDateStringRelative(h)&&(k="relative");l={messageOutput:c.ticketMessage.message,timestampType:k,time:h,crtDtTmstmp:l,publicNote:!0,ticketMessageHash:"",hash:e,msgCntntTyp:c.ticketMessage.messageContentType};b(f).parent("li.joe-clearfix").replaceWith(a.HandlebarsHtml.Template.customerMessage(l));g.onTextMessageSendSuccess(e,c.ticketMessage.tcktMsgHsh);1>b(a.chatInstance.selectors.chatHistoryList).find("."+
c.ticket.ticketHash).length&&b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]').parent("li").before("\x3chr class\x3d'"+c.ticket.ticketHash+"'/\x3e");var m=setInterval(function(){var a=d.getElementsByClassName("img-file").length;0<a&&(d.getElementsByClassName("img-file")[a-1].complete?(g.scrollToBottom(),clearInterval(m)):g.scrollToBottom())},300)}},k=function(c){var d=b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]');d.find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon);
d.find(".file_loader").html("\x3cdiv class\x3d'broken_file'\x3e\x3c/div\x3e");g.scrollToBottom();console.log("Error while inactivity call response: "+c)};a.RemoteCall.sendFileMessage(a.chatInstance.customerHash,"fileupload",e,f,function(a){h(a)},function(b){b&&b.status&&401==b.status?a.RemoteCall.sendFileMessage(a.chatInstance.customerHash,"fileupload",e,f,function(a){h(a)},function(a){k(a)}):k(b)});b("#joeFileInp").val("")},addMessage:function(){var c,d;if(b(a.chatInstance.selectors.googlePacContainer).hasClass("joe-pac"))return!1;
"date"==b(a.chatInstance.selectors.messageSendButton).attr("fieldType")?c=b(a.chatInstance.selectors.dateSelect).val()+" "+b(a.chatInstance.selectors.monthSelect).val()+" "+b(a.chatInstance.selectors.yearSelect).val():"time"==b(a.chatInstance.selectors.messageSendButton).attr("fieldType")?c=b(a.chatInstance.selectors.hourSelect).val()+":"+b(a.chatInstance.selectors.minuteSelect).val()+":00":("password"==b(a.chatInstance.selectors.messageTextarea).attr("fieldType")&&(d="************"),c=b(a.chatInstance.selectors.messageTextarea).val());
"/closeChat"==c?this.endChatAlert():this.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:c,displayText:d})},addMessageOnListClick:function(c,d){b(a.chatInstance.selectors.messageTextarea).val("");this.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:c,displayText:d})},addMessageOnRadioClick:function(b){this.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:b})},sendMenuItem:function(c){b(a.chatInstance.selectors.messageTextarea).val("");
this.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:c})},endChatAlert:function(){b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.endChatConfirmation({}))},endChat:function(){var c=this;a.RemoteCall.closeChat(a.chatInstance.customerHash,function(d){if(d.excp)console.log("Message send failed - ["+JSON.stringify(d.msgs)+"]"),b(a.chatInstance.selectors.joeChatBodyOverlay).find(".joe-end-chat-alert *").css("display","block"),
b(a.chatInstance.selectors.joeChatBodyOverlay).find(".joe-end-chat-alert").children(".input-widget-loader").css("display","none");else{var e={replyContentType:"new_chat",message:"Hi",isMob:X};b(a.chatInstance.selectors.inputSection).replaceWith(a.HandlebarsHtml.Template.inputSection(e));c.setChatHistoryHeight();d={tcktHsh:d.tcktHsh};b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.rateTemplate(d))}})},sendAppRating:function(c){a.RemoteCall.rateChat(b("#ticket-hash-rate").attr("data-ticket"),
c,null,function(b){b.excp?console.log("Ticket rating failed - ["+JSON.stringify(b.msgs)+"]"):a.chatInstance.isRated=!0})},sendMsgFeedback:function(c,d,e,f,g,h){var k=this;a.RemoteCall.msgFaqfeedback(c,d,e,f,g,function(c){c.excp?(console.log("Ticket rating failed - ["+JSON.stringify(c.msgs)+"]"),b(a.chatInstance.selectors.alertTextFooterInput).removeClass("hide"),b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").addClass("hide"),b(h).parent("div").css("visibility","visible")):
(b(a.chatInstance.selectors.alertTextFooterInput).addClass("hide"),b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").addClass("hide"),b(h).parent("div").css("visibility","visible").html(ka.thanks_for_feedback),k.setChatHistoryHeight())},function(c){b(a.chatInstance.selectors.alertTextFooterInput).removeClass("hide");b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").addClass("hide");b(h).parent("div").css("visibility","visible")})},sendMsgTmoFeedback:function(c,
d,e,f,g,h){a.RemoteCall.msgFaqfeedback(c,d,e,f,g,function(a){a.excp?(console.log("Ticket rating failed - ["+JSON.stringify(a.msgs)+"]"),b(h).parents(".joe-faq-item-full").find(".tmo-feedback-error").removeClass("hide"),b(h).parent(".tmo-feedback-div").removeClass("hide")):(b(".tmo-feedbadk-error").addClass("hide"),a=b(h).parents(".joe-faq-item-full"),b(h).parents(".joe-faq-item-full").find(".tmo-feedback-div").removeClass("hide").html(ka.thanks_for_feedback),a.clone().prependTo(".chat-container"),
a.remove(),b(".chat-container .joe-faq-item-full").addClass("joe-hide"))},function(a){b(h).parents(".joe-faq-item-full").find(".tmo-feedback-error").removeClass("hide");b(h).parent(".tmo-feedback-div").removeClass("hide")})},sendVisitorActionMessage:function(){null!=a.chatInstance.visitorActionMessageHash&&a.chatInstance.visitorActionMessageHash==a.chatInstance.latestAgentMessageHash&&(this.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type["private"],messageToSend:"WIDGET_OPENED_BY_VISITOR"}),
a.chatInstance.visitorActionMessageHash=null,a.chatInstance.actionType=null)},sendAppFeedback:function(c,d){var e=this;b(a.chatInstance.selectors.inputSection).find(".input-widget-loader").removeClass("hide");b(a.chatInstance.selectors.inputSection).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn").css("visibility","hidden");a.RemoteCall.rateChat(b("#ticket-hash-rate").attr("data-ticket"),c,d,function(c){c.excp?(console.log("Message send failed - ["+
JSON.stringify(c.msgs)+"]"),b(a.chatInstance.selectors.joeChatBodyOverlay).removeClass("hide"),b(a.chatInstance.selectors.inputSection).find(".input-widget-loader").addClass("hide"),b(a.chatInstance.selectors.inputSection).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn").css("visibility","visible")):(setTimeout(function(){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("hide");e.toggleChatOpen()},2500),b(a.chatInstance.selectors.inputSection).find(".input-widget-loader").addClass("hide"),
b(a.chatInstance.selectors.inputSection).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn").css("visibility","visible"),b(a.chatInstance.selectors.joeChatBodyOverlay).html(a.HandlebarsHtml.Template.dateTemplate({key:"Thanks for your feedback."})),e.scrollToBottom())})},onEnterPressOnSelect:function(c){if(!a.chatInstance.selectizeRef.isOpen||!a.chatInstance.selectizeRef.$activeOption){var d=b("div.selectize-dropdown-content div.option.selected");null!=
a.chatInstance.selectizeDefaultVal&&""!=a.chatInstance.selectizeDefaultVal&&1==d.length&&a.chatInstance.selectizeDefaultVal==d.attr("data-value")?a.chatInstance.selectizeRef[0].selectize.setValue(d.attr("data-value")):(b(c.currentTarget).val(""),a.chatInstance.selectizeRef[0].selectize.open())}},frameLooper:function(a){var c=this;0<Xa.length?b("#joe-center-input").attr("placeholder",b("#joe-center-input").attr("placeholder")+Xa.shift()):b("#joe-center-input").attr("placeholder","");setTimeout(function(){c.frameLooper(a)},
150)},isChatMinimized:function(){return!b("div.chat-body").is(":visible")},isTextInput:function(a){return"text"===a||"file"===a||"image"===a||"file_and_image"===a},isChatBubbleHidden:function(){return!b("#mobile-chat-container").is(":visible")},isFooterVisible:function(){return b(a.chatInstance.selectors.inputSectionParent).is(":visible")},validateXssError:function(a){var b=/(<\s*(img|script))|(javascript:)/g;return/<(([a-zA-Z0-9\s'"=])+( href|onload|onerror|onclick))/g.test(a)?!1:b.test(a)?!1:!0},
htmlToString:function(a){return a.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")},resetMonthSelect:function(c){var d=a.Date.getMonthsForYear(parseInt(c.val()),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-start-date")),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-end-date"))),e="";b.each(d,function(a,b){e+="\x3coption\x3e"+d[a]+"\x3c/option\x3e"});b(a.chatInstance.selectors.monthSelect).empty().append(e);this.resetDateSelect(b(a.chatInstance.selectors.monthSelect))},
resetDateSelect:function(c){var d=a.Date.getDatesForYearAndMonth(parseInt(b(a.chatInstance.selectors.yearSelect).val()),c.val(),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-start-date")),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-end-date"))),e="";b.each(d,function(a,b){e+="\x3coption\x3e"+d[a]+"\x3c/option\x3e"});b(a.chatInstance.selectors.dateSelect).empty().append(e)},addHeaderIcons:function(a){return""},toggleChatOpen:function(){var c=
this;b(a.chatInstance.selectors.joeMsgBubbleContainer).addClass("joe-hide");a.chatInstance.forceOpenEnable=!1;c.isChatMinimized()&&"WIDGET_OPENED"===a.chatInstance.actionType&&c.sendVisitorActionMessage();if("embedded"!=a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()&&"embedded"!=a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase()){var d;d={};c.isChatMinimized()?a.setValueForKeyInCookie("wdgtOpnPrf","1","joe-custinfo"):a.setValueForKeyInCookie("wdgtOpnPrf","0","joe-custinfo");if(X){if(c.isChatMinimized()){if(b(a.chatInstance.selectors.unreadCtr).find("strong").text(""),
b(a.chatInstance.selectors.unreadBubbleCtr).text(""),c.resetPageTitle(),b(a.chatInstance.selectors.unreadCtr).addClass("hide"),b(a.chatInstance.selectors.unreadBubbleCtr).addClass("joe-hide"),b(a.chatInstance.selectors.header).find(".fa-ellipsis-v").parents("a").removeClass("hide"),d="100%",b(a.chatInstance.selectors.chatContainer).css({"-webkit-overflow-scrolling":"touch"}),"bubble"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"bubble"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b(a.chatInstance.selectors.chatContainer).show(),
b("#mobile-chat-container").addClass("joe-hide")}else if(b(a.chatInstance.selectors.header).find(".fa-ellipsis-v").parents("a").addClass("hide"),b(a.chatInstance.selectors.chatContainer).css({"-webkit-overflow-scrolling":"auto"}),d="200px","bubble"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"bubble"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b(a.chatInstance.selectors.chatContainer).animate({opacity:"0"},500),b(a.chatInstance.selectors.chatContainer).hide(),b("#mobile-chat-container").removeClass("joe-hide");
d={width:d,maxHeight:"100%",right:0,bottom:0}}else{if(c.isChatMinimized()){if(b(a.chatInstance.selectors.unreadCtr).find("strong").text(""),b(a.chatInstance.selectors.unreadBubbleCtr).text(""),c.resetPageTitle(),b(a.chatInstance.selectors.unreadCtr).addClass("hide"),b(a.chatInstance.selectors.unreadBubbleCtr).addClass("joe-hide"),b(a.chatInstance.selectors.header).find(".fa-ellipsis-v").parents("a").removeClass("hide"),d="390px","bubble"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||
"bubble"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b(a.chatInstance.selectors.chatContainer).show(),b("#mobile-chat-container").addClass("joe-hide")}else if(b(a.chatInstance.selectors.header).find(".fa-ellipsis-v").parents("a").addClass("hide"),d="200px","bubble"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"bubble"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b(a.chatInstance.selectors.chatContainer).animate({opacity:"0"},500),b(a.chatInstance.selectors.chatContainer).hide(),
b("#mobile-chat-container").removeClass("joe-hide");d={width:d}}b(a.chatInstance.selectors.chatContainer).css(d);X&&a.chatInstance.openOnDefault?b(a.chatInstance.selectors.chatContainer).css("opacity","0").animate({opacity:"1"},0):b(a.chatInstance.selectors.chatContainer).css("opacity","0").animate({opacity:"1"},500);b(".chat-body").toggle(0,function(){c.setChatHistoryHeight();c.isOverlayPresent()||X||b(a.chatInstance.selectors.inputSection).find("input").focus();c.scrollToBottom();c.removeNewMessageTag()})}},
isOverlayPresent:function(){return b(a.chatInstance.selectors.joeChatBodyOverlay).is(":visible")},messageTimediff:function(c,d){var e=0,e=d?parseInt(b(a.chatInstance.selectors.chatHistoryList).find(".joe-message:last .joe-msg-time").attr("data-msg-timestamp")):parseInt(b(a.chatInstance.selectors.chatHistoryList).find(".joe-message:first .joe-msg-time").attr("data-msg-timestamp"));return 6E4<Math.abs(c-e)},renderMessageReceivedFromServer:function(c,d){var e;c.publicNote&&(a.chatInstance.lastAuthor=
d?b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").attr("author"):b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:first").attr("author"));if(!a.chatInstance.lastAuthor||a.chatInstance.lastAuthor!==c.author.toLowerCase()||this.messageTimediff(parseInt(c.crtDtTmstmp),d)){var f={publicNote:c.publicNote,author:c.author.toLowerCase()};d?b(a.chatInstance.selectors.chatHistoryList).append(a.HandlebarsHtml.Template.groupTemplate(f)):b(a.chatInstance.selectors.chatHistoryList).prepend(a.HandlebarsHtml.Template.groupTemplate(f));
c.publicNote&&(a.chatInstance.lastAuthor=d?b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").attr("author"):b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:first").attr("author"))}if("customer"===c.author.toLowerCase())e=a.Date.getDateString(c.crtDtTmstmp,a.chatInstance.dateFormat,a.chatInstance.timeFormat),f="absolute",a.Date.isDateStringRelative(e)&&(f="relative"),e={messageOutput:this.htmlToString(c.message),timestampType:f,time:e,publicNote:c.publicNote,
msgCntntTyp:c.messageContentType,ticketMessageHash:c.tcktMsgHsh,crtDtTmstmp:c.crtDtTmstmp,imgSprtd:c.imgSprtd,msgSent:!0},e=a.HandlebarsHtml.Template.customerMessage(e);else if("agent"===c.author.toLowerCase()||"bot"===c.author.toLowerCase()){var g=null;c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&(g=c.ticketMessageOptions[0].cntntTyp);e=a.Date.getDateString(c.crtDtTmstmp,a.chatInstance.dateFormat,a.chatInstance.timeFormat);f="absolute";a.Date.isDateStringRelative(e)&&(f="relative");var h=
null;c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&"artcl"==c.ticketMessageOptions[0].cntntTyp&&(h=c.ticketMessageOptions[0].mtdt.artcl.mrUrl);c.sndrImg||(c.sndrImg=a.Html.agentImgDefaultUrl);e=a.HandlebarsHtml.Template.agentMessage({response:c.message,timestampType:f,time:e,sndrNm:c.sndrNm,sndrImg:c.sndrImg,publicNote:c.publicNote,msgCntntTyp:c.messageContentType,imgSprtd:c.imgSprtd,longDesc:c.mtdt?c.mtdt.lngDscrptn:"",paymentCard:c.mtdt?c.mtdt.pymntDtl:"",orderStatusCard:c.mtdt?c.mtdt.ordrStsDtl:
"",adhocCallSupported:c.rplyMtdt?c.rplyMtdt.adhcClSprtd:"",ticketmsgoptn:c.ticketMessageOptions?c.ticketMessageOptions:null,ticketMessageHash:c.tcktMsgHsh,crtDtTmstmp:c.crtDtTmstmp,mrUrl:h,tmorplycntnttyp:g})}else console.log("Invalid Author: "+c.author);e&&(d?b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").append(e):b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:first").prepend(e));c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&("itm"==
c.ticketMessageOptions[0].cntntTyp||"img"==c.ticketMessageOptions[0].cntntTyp?a.JoeCarousel.init(this,c.tcktMsgHsh):"artcl"==c.ticketMessageOptions[0].cntntTyp&&b(".chat-container").prepend(this.faqFullCardView(c,c.ticketMessageOptions[0].mtdt.artcl.mrUrl)));1<=b(a.chatInstance.selectors.chatHistoryList).find(".my-message").length&&b(".chat-container .chat-header.lg-header").removeClass("lg-header")},addDateInChatHistory:function(c,d){var e=b(a.chatInstance.selectors.chatHistoryList).find("."+c);
d||e.remove();var f={key:c};d?(b(a.chatInstance.selectors.chatHistoryList).append(a.HandlebarsHtml.Template.dateTemplate(f)),1<e.length&&e.last().remove()):b(a.chatInstance.selectors.chatHistoryList).prepend(a.HandlebarsHtml.Template.dateTemplate(f))},clearChatHistory:function(){a.chatInstance.load=!1;b(a.chatInstance.selectors.chatHistoryList).html("");for(b(a.chatInstance.selectors.inputSectionParent).css("visibility","hidden");0<P.length;)P.pop()},loadPreviousMsgAndInitChat:function(){var c=this;
c.clearChatHistory();E=a.Options.getData(a.Options.reservedOptions.clientParams);if(a.chatInstance.metadataClientParams){E||(E={});var d,e="",f="";for(d in a.chatInstance.metadataClientParams)E.hasOwnProperty(d)?a.Log.logMessage("Not getting value for key: "+d+" as per metadata as it already exists in the page params",!0):(e=a.chatInstance.metadataClientParams[d].url,f=a.chatInstance.metadataClientParams[d].prprty,E[d]=a.getValueFromPage(e,f))}b(a.chatInstance.selectors.chatHistory).append('\x3cdiv class\x3d"joe-loader joe-full"\x3e\x3c/div\x3e');
c.setChatHistoryHeight();var h=function(d){a.Log.logMessage("init chat success started",!0);var e;d=d.data;a.chatInstance.currConversation=d.cnvrstnHsh;d.rltmCnctnStngs&&(a.RealTimeConnection.setConnectionParams(d.rltmCnctnStngs),a.RealTimeConnection.realtimeConnectOnInit&&!a.RealTimeConnection.isRealTimeConnectionPresent()&&c.initiateRealTimeConnection(c.loadMorePreviousMsg.bind(c,null,!1)));d.menuIcns&&c.addWidgetMenu(d.menuIcns);d.slshCmnds&&(a.chatInstance.menu.slashCommandList=d.slshCmnds,b(".chat-footer").append(c.getSlshCmndsListItemsHtml(a.chatInstance.menu.slashCommandList)));
a.Log.logMessage("Handling init chat messages",!0);var f=d.dateApiTicketListMap,h=d.initChtMsgs,k=!0;if(h){var m=0;c.addDateInChatHistory("Today",!0);b.each(h,function(b,d){if(h.hasOwnProperty(b)){var e={tcktMsg:h[b]};a.Log.logMessage("Handling init chat message",!0);c.onRealTimeMessageReceive.apply(c,[e]);e.tcktMsg.publicNote&&(k=!1);m++}});(k||b.isEmptyObject(f))&&b(a.chatInstance.selectors.chatHistory).find(".Today").remove();a.Log.logMessage("init chat msg count \x3d "+m,!0)}a.Log.logMessage("Init chat messages handling done",
!0);a.Log.logMessage("Handling history messages",!0);var n=0,q;b.each(f,function(d,g){if(f.hasOwnProperty(d)){var h=b(a.chatInstance.selectors.chatHistoryList).find("."+d);b.each(f[d],function(b,g){-1==P.indexOf(f[d][b].tcktMsgHsh)?(e=f[d][b],P.push(e.tcktMsgHsh),c.renderMessageReceivedFromServer.apply(c,[e,!1]),k&&(q=e,k=!1),a.Log.logMessage("history message prepend",!0),n++):console.log("Skip init history render message \x3d\x3e hash: "+f[d][b].tcktMsgHsh)});h&&0===h.length&&c.addDateInChatHistory(d,
!1)}});d=(new Date).getTime();a.Log.logMessage("History messages handling done and msg count "+n+"\n Time taken from initiating widget to print messages: %c"+(d-g)+" ms",!0,"font-weight: bold");b(a.chatInstance.selectors.sliderContainer).find(".joe-prmry-btn:not(.hide-post-sbmt)").removeClass("joe-hide");a.Log.logMessage("Fetching rest of history messages for msg hash:"+b(a.chatInstance.selectors.chatContainer).find(".joe-message:first").attr("ticketMessageHash"),!0);d=b(a.chatInstance.selectors.chatContainer).find(".joe-message:first").attr("ticketMessageHash");
var r=null;a.String.isBlank(d)&&(r=!0);c.loadMorePreviousMsg(d,r);q?(a.chatInstance.latestAgentMessageHash=q.tcktMsgHsh,c.addInputSection.apply(c,[q]),a.Log.logMessage("init chat success finished",!0),q.publicNote&&(q.ticketMessageOptions&&0<q.ticketMessageOptions.length&&(d=q.ticketMessageOptions[0].cntntTyp,"itm"!==d&&"img"!==d||b(".joe-slider-container:last").find(".joe-prmry-btn").removeClass("joe-hide")),a.Log.logMessage("Calling setChatHistoryHeight",!0),c.setChatHistoryHeight())):a.Log.logMessage("init chat success finished",
!0);b(a.chatInstance.selectors.inputSectionParent).css("visibility","visible");c.scrollToBottom.apply(c)};"opt"===v?(a.Log.logMessage("print history messages from combined response",!0),h(Qa),Qa=null):a.RemoteCall.getHistoryAndInitiateChat(a.chatInstance.customerHash,1,"desc",function(a){h(a);m=!1},function(c){b(".joe-loader").remove();c&&c.status&&401==c.status&&a.RemoteCall.getHistoryAndInitiateChat(a.chatInstance.customerHash,1,"desc",function(a){h(a)});m=!1})},loadMorePreviousMsg:function(c,d){var e=
this,f=!1,g="desc";c||d||(f=!0,g="asc",a.chatInstance.load=!1);var h=function(g){var h=0;b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")&&0<b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").length&&(h=b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")[0].scrollHeight);g=g.data;var k,m=g.dateApiTicketListMap;b.each(m,function(d,g){m.hasOwnProperty(d)&&(b.each(m[d],function(a,b){k=m[d][a];-1==P.indexOf(k.tcktMsgHsh)?(P.push(k.tcktMsgHsh),e.renderMessageReceivedFromServer.apply(e,
[k,f])):console.log("Skip history render message \x3d\x3e hash: "+k.tcktMsgHsh)}),c&&e.addDateInChatHistory(d,!1),a.chatInstance.load=!0)});c||d?(g=0,b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")&&0<b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").length&&(g=b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")[0].scrollHeight),b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").scrollTop(g-h+30)):(e.addInputSection(k),e.scrollToBottom(),
e.setChatHistoryHeight(),b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide"));b(".joe-loader").remove()};a.RemoteCall.getPreviousMessages(a.chatInstance.customerHash,c,a.chatInstance.numberOfMessageToBeLoad,g,function(a){h(a)},function(d){b(".joe-loader").remove();d&&d.status&&401==d.status&&a.RemoteCall.getPreviousMessages(a.chatInstance.customerHash,c,a.chatInstance.numberOfMessageToBeLoad,g,function(a){h(a)})})},addAgentMessageReceivedFromPubnub:function(c){a.chatInstance.latestAgentMessageHash=
c.tcktMsgHsh;var d=b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").attr("author");if(""==d||d!==c.author.toLowerCase()||this.messageTimediff(parseInt(c.crtDtTmstmp),!0))d={publicNote:c.publicNote,author:c.author.toLowerCase()},b(a.chatInstance.selectors.chatHistoryList).append(a.HandlebarsHtml.Template.groupTemplate(d));b(a.chatInstance.selectors.sliderContainer).find(".joe-prmry-btn.hide-post-sbmt").addClass("joe-hide");b(".chat-container .joe-faq-item-full").find(".tmo-feedback-div").addClass("joe-hide");
d=null;c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&(d=c.ticketMessageOptions[0].cntntTyp);var e=a.Date.getDateString(c.crtDtTmstmp,a.chatInstance.dateFormat,a.chatInstance.timeFormat),f="absolute";a.Date.isDateStringRelative(e)&&(f="relative");var g=null;c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&"artcl"==c.ticketMessageOptions[0].cntntTyp&&(g=c.ticketMessageOptions[0].mtdt.artcl.mrUrl);c.sndrImg||(c.sndrImg=a.Html.agentImgDefaultUrl);d={response:c.message,sndrNm:c.sndrNm,
sndrImg:c.sndrImg,timestampType:f,time:e,publicNote:c.publicNote,msgCntntTyp:c.messageContentType,imgSprtd:c.imgSprtd,longDesc:c.mtdt?c.mtdt.lngDscrptn:"",paymentCard:c.mtdt?c.mtdt.pymntDtl:"",orderStatusCard:c.mtdt?c.mtdt.ordrStsDtl:"",adhocCallSupported:c.rplyMtdt?c.rplyMtdt.adhcClSprtd:"",ticketmsgoptn:c.ticketMessageOptions?c.ticketMessageOptions:null,ticketMessageHash:c.tcktMsgHsh,crtDtTmstmp:c.crtDtTmstmp,nodeId:c.ndId,nodeIntent:c.ndIntnt,mrUrl:g,tmorplycntnttyp:d};(this.isChatMinimized()&&
!a.chatInstance.windowActive||this.isChatMinimized())&&c.publicNote&&1>b(a.chatInstance.selectors.chatHistoryList).find(".joe-new-message").length&&b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").append(a.HandlebarsHtml.Template.newMessageTemplate({key:"New Messages"}));b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").append(a.HandlebarsHtml.Template.agentMessage(d));b(a.chatInstance.selectors.chatHistory).find(".joe-typing[typingId\x3d'"+a.chatInstance.typingId+
"']").remove();c.actns&&(!c.rfChnlSnId||T&&c.rfChnlSnId===T.toString())&&this.handleMessageActions(c);b(a.chatInstance.selectors.sliderContainer).find(".joe-prmry-btn:not(.hide-post-sbmt)").removeClass("joe-hide");c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&("itm"==c.ticketMessageOptions[0].cntntTyp||"img"==c.ticketMessageOptions[0].cntntTyp?(a.JoeCarousel.init(this,c.tcktMsgHsh),b(".joe-slider-container:last").find(".joe-prmry-btn").removeClass("joe-hide")):"artcl"==c.ticketMessageOptions[0].cntntTyp&&
b(".chat-container").prepend(this.faqFullCardView(c,c.ticketMessageOptions[0].mtdt.artcl.mrUrl)))},showMessageBubble:function(c){var d=a.Date.getDateString(c.crtDtTmstmp,a.chatInstance.dateFormat,a.chatInstance.timeFormat),e="absolute";a.Date.isDateStringRelative(d)&&(e="relative");c={response:c.message,sndrNm:c.sndrNm,timestampType:e,time:d,publicNote:c.publicNote,msgCntntTyp:c.messageContentType,imgSprtd:c.imgSprtd,longDesc:c.mtdt?c.mtdt.lngDscrptn:"",ticketmsgoptn:c.ticketMessageOptions?c.ticketMessageOptions:
null,ticketMessageHash:c.tcktMsgHsh,crtDtTmstmp:c.crtDtTmstmp,nodeId:c.ndId,nodeIntent:c.ndIntnt};b(a.chatInstance.selectors.joeMsgBubbleContainer).replaceWith(a.HandlebarsHtml.Template.popupMessage(c));"bubble"!=a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()&&"bubble"!=a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase()||b(a.chatInstance.selectors.joeMsgBubbleContainer).css("width","297px")},addInputSection:function(c){if(a.Object.isNotNull(c)&&c.publicNote){"embedded"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||
a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase();c.replyContentType||(c.replyContentType="text");var d=[],e=[],f=[],g=[],h=[],k=null,m=null,n=null,q=null,r=null,s=null;if("date"==c.replyContentType)var t=a.Date.getDateMonthYearTime(c.rplyMtdt.frm),v=a.Date.getDateMonthYearTime(c.rplyMtdt.to),u=a.Date.getDateMonthYearTime(c.rplyMtdt.dflt),f=a.Date.getYears(t,v),e=a.Date.getMonthsForYear(u.year,t,v),d=a.Date.getDatesForYearAndMonth(u.year,u.month,t,v),k=u.date,m=u.month,n=u.year;else"time"==
c.replyContentType&&(t=a.Date.getDateMonthYearTime(c.rplyMtdt.frm),v=a.Date.getDateMonthYearTime(c.rplyMtdt.to),u=a.Date.getDateMonthYearTime(c.rplyMtdt.dflt),h=parseInt(c.rplyMtdt.intrvl),g=a.Date.getHours(t,v,h),h=a.Date.getMinutesForHour(u.hours,t,v,h),q=u.minutes,r=u.hour);c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&(s=c.ticketMessageOptions[0].cntntTyp);d={ticketmsgoptn:c.ticketMessageOptions?c.ticketMessageOptions:null,mnOptnsFrDrpDwn:c.rplyMtdt?c.rplyMtdt.mnOptnsFrDrpDwn:0,replyContentType:c.replyContentType,
message:c.message,isMob:X,sndrNm:c.sndrNm,quickReplyList:c.rplyMtdt?c.rplyMtdt.qckRplyLst:null,startDate:c.rplyMtdt?c.rplyMtdt.frm:null,endDate:c.rplyMtdt?c.rplyMtdt.to:null,interval:c.rplyMtdt?c.rplyMtdt.intrvl:null,fdbckStngs:c.mtdt?c.mtdt.fdbckStngs:null,dates:d,months:e,years:f,minutes:h,hours:g,defaultDate:k,defaultMonth:m,defaultYear:n,defaultMinutes:q,defaultHours:r,tmorplycntnttyp:s,rstrctInpt:c.rstrctInpt,ticketMessageHash:c.tcktMsgHsh,imgSprtd:c.imgSprtd};e={quickReplyList:c.rplyMtdt?c.rplyMtdt.qckRplyLst:
null};b(".qck-rply-div").replaceWith(a.HandlebarsHtml.Template.quickReplyInputTemplate(e));if(c.rstrctInpt||!this.isTextInput(a.chatInstance.lastInputType)||c.replyContentType!==a.chatInstance.lastInputType)b(a.chatInstance.selectors.inputSection).replaceWith(a.HandlebarsHtml.Template.inputSection(d)),a.chatInstance.lastInputType=c.rstrctInpt?null:c.replyContentType;d=b(a.chatInstance.selectors.inputSection).find("select#listOptions");0<d.length?(a.chatInstance.selectizeRef=b(d).selectize({dropdownDirection:"up",
openOnFocus:!1}),a.chatInstance.selectizeDefaultVal=d.val(),b(".chat-container .chat-footer .fbots-chat-footer-main").css("overflow","visible")):(a.chatInstance.selectizeRef=null,b(".chat-container .chat-footer .fbots-chat-footer-main").css("overflow","auto"));d=b("#agent-msg-submit").find('input[fieldType \x3d "address"]');0<d.length?(c=c.rplyMtdt?c.rplyMtdt.optns:null,e={},null!=c&&(e=JSON.parse(c)),a.chatInstance.addressInputRef=b(d).mapify({address:b("#joe-address"),city:b("#joe-city"),state:b("#joe-state"),
longitude:b("#joe-longitude"),latitude:b("#joe-latitude"),postalCode:b("#joe-postalCode"),self:this},e),a.chatInstance.addressInputDefaultVal=d.val()):a.chatInstance.addressInputRef=null;this.isOverlayPresent()||X||(a.chatInstance.selectizeRef?a.chatInstance.selectizeRef[0].selectize.focus():b(a.chatInstance.selectors.inputSection).find("#message-to-send").focus())}},getMenuItemsHtml:function(b){return a.HandlebarsHtml.Template.headerMenuListItems({menuItems:b})},faqFullCardView:function(b,c){return a.HandlebarsHtml.Template.faqFullCard({response:b.message,
sndrNm:b.sndrNm,publicNote:b.publicNote,msgCntntTyp:b.messageContentType,imgSprtd:b.imgSprtd,longDesc:b.mtdt?b.mtdt.lngDscrptn:"",paymentCard:b.mtdt?b.mtdt.pymntDtl:"",orderStatusCard:b.mtdt?b.mtdt.ordrStsDtl:"",fdbckStngs:b.mtdt?b.mtdt.fdbckStngs:"",adhocCallSupported:b.rplyMtdt?b.rplyMtdt.adhcClSprtd:"",ticketmsgoptn:b.ticketMessageOptions?b.ticketMessageOptions:null,ticketMessageHash:b.tcktMsgHsh,mrUrl:c,crtDtTmstmp:b.crtDtTmstmp})},getMenuIconsHtml:function(b,c){return a.HandlebarsHtml.Template.headerMenuIcons({iconItems:b,
whatsappMsg:c.WHATSAPP?c.WHATSAPP:"",fbMsg:c.FACEBOOK?c.FACEBOOK:"",twitterMsg:c.TWITTER?c.TWITTER:""})},getSlshCmndsListItemsHtml:function(b){return a.HandlebarsHtml.Template.slshCmndsListItems({slshCmndsItems:b})},getBotsListItemsHtml:function(b){return a.HandlebarsHtml.Template.botsListItems({bots:b})},handleMessageActions:function(c){var d=this,g=c.actns;a.chatInstance.forceOpenEnable=!0;g&&b.each(g,function(g,h){h.slp||(h.slp=0);setTimeout(function(){if("HIDE_WIDGET"===h.typ)d.hideChatWidget();
else if("MINIMIZE_WIDGET"===h.typ)d.isChatMinimized()||d.toggleChatOpen();else if("SEND_MESSAGE"===h.typ)e.sendTextMessage(h.url,!1);else if("GOTO_NODE"===h.typ)e.sendTextMessage(h.url,!1);else if("FORCE_OPEN_CHAT_WIDGET"===h.typ)d.isChatMinimized()&&a.chatInstance.forceOpenEnable&&d.toggleChatOpen();else if("WIDGET_OPENED_BY_VISITOR"===h.typ||"WIDGET_OPENED"===h.typ)a.chatInstance.visitorActionMessageHash=a.chatInstance.latestAgentMessageHash,a.chatInstance.actionType=h.typ,d.isChatMinimized()||
d.sendVisitorActionMessage();else if("OPEN_URL_IN_SAME_TAB"===h.typ)f.location.href=a.getNewUrl(h.url);else if("OPEN_URL_IN_NEW_TAB"===h.typ)a.openUrlInNewTab(a.getNewUrl(h.url));else if("SHOW_MESSAGE_BUBBLE"===h.typ)d.isChatMinimized()&&d.showMessageBubble(c);else if("TRIGGER_AJAX_GET_CALL"===h.typ){var g=c.tcktMsgHsh,k="undefined",m=b("div.joe-message.other-message:last");a.chatInstance.actionType=h.typ;null!=m&&0<m.length&&""!=m.attr("data-node-id")&&(m.attr("data-node-id"),""!=m.attr("data-node-intent")&&
m.attr("data-node-intent"));k=h.url?h.url:"undefined Json";null!==a.chatInstance.latestAgentMessageHash&&a.chatInstance.latestAgentMessageHash===g&&d.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type["private"],messageToSend:k})}else if("GET_CSS_SELECTOR_VALUE"===h.typ)k="undefined",m=b("div.joe-message.other-message:last"),null!==m&&0<m.length&&""!==m.attr("data-node-id")&&(m.attr("data-node-id"),""!==m.attr("data-node-intent")&&m.attr("data-node-intent")),0<b(h.url).length&&
null!==h.prprty&&(g=null,g="text"===h.prprty?b(h.url).text().trim():b(h.url).attr(h.prprty).trim(),null!==g&&""!==g&&(k=g)),d.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type["private"],messageToSend:k});else if("JS_REMOTE_REQUEST"===h.typ||"CALL_OPTIONS_FUNCTION"===h.typ){k="undefined";m=b("div.joe-message.other-message:last");null!==m&&0<m.length&&""!==m.attr("data-node-id")&&(m.attr("data-node-id"),""!==m.attr("data-node-intent")&&m.attr("data-node-intent"));if(h.url&&(a.Log.logMessage("Received command to call: "+
h.url,!0),h.url.startsWith("options."))){m=h.url.replace("options.","");try{g=a.Options.getDataStr(m,h.prms),a.String.isNotBlank(g)&&(k=g)}catch(n){k="Error while executing options function: "+m+"; error: "+JSON.stringify(n),a.Log.logMessage(k,!0)}}"JS_REMOTE_REQUEST"===h.typ&&d.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type["private"],messageToSend:k})}else if("GET_PAGE_VALUES_ASYNC"===h.typ){g={};if(null!==h.url&&null!==h.prprty){var m=h.url.split(","),q=h.prprty.split(",");
if(m.length==q.length){var r="",s="";for(k in m)s=m[k],r=q[k],g[s]=a.getValueFromPage(s,r)}}a.RemoteCall.updateTicketInfo(c.tcktHsh,a.chatInstance.latestAgentMessageHash,g,function(a){},function(a){console.log("Message send failed - ["+JSON.stringify(a)+"]")})}},h.slp)})},createSessionIfNeededAndShowWidget:function(){if(T&&"opt"!=v)console.log("Session already exists");else{T||(T=a.String.getHash(ba+(new Date).getTime()));b(a.chatInstance.selectors.chatContainer).replaceWith(a.chatInstance.chatContainerBasicHtml);
this.addWidgetHeader(a.chatInstance.uiSettings.widgetHeaderCnfg);"bar"!==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()&&"bar"!==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase()||b(a.chatInstance.selectors.chatContainer).show();X&&b(a.chatInstance.selectors.chatContainer).css("cursor","pointer");if(f)if(a.chatInstance.openOnDefault)if(a.chatInstance.openOnDefaultForDesktopAndMobile)b(a.chatInstance.selectors.unreadCtr).addClass("hide"),b(a.chatInstance.selectors.unreadBubbleCtr).addClass("joe-hide"),
this.toggleChatOpen.apply(this),b(a.chatInstance.selectors.header).find(".fa-ellipsis-v").parents("a").removeClass("hide");else{if("bubble"===a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"bubble"===a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b("#mobile-chat-container").css("bottom",a.chatInstance.uiSettings.initHeightFromBottom+"px"),b("#mobile-chat-container").removeClass("joe-hide"),b(a.chatInstance.selectors.chatContainer).hide()}else if("bubble"===a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||
"bubble"===a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b("#mobile-chat-container").css("bottom",a.chatInstance.uiSettings.initHeightFromBottom+"px"),b("#mobile-chat-container").removeClass("joe-hide"),b(a.chatInstance.selectors.chatContainer).hide();!a.chatInstance.menu.showIcons||"embedded"!=a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()&&"embedded"!=a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase()||b("#joe-chat-icon-header").replaceWith(this.getMenuIconsHtml(a.chatInstance.menu.menuNodeList,
a.chatInstance.menu.shareMessages));!r&&a.chatInstance.bots&&0!==a.chatInstance.bots.length&&b(".chat-footer").append(this.getBotsListItemsHtml(a.chatInstance.bots));"delayed"===v?(this.hideChatWidget(),a.Log.logMessage("Not auto initiating chat and hiding widget: initType: "+v,!0)):this.loadPreviousMsgAndInitChat.apply(this)}y&&b("#mobile-chat-container").addClass("joe-hide");a.isWidgetDeActivated&&e.deActivate();if(a.initiateWidgetParams.successCallback){var c=(new Date).getTime();a.Log.logMessage("Initiate widget success callback. time taken to initiate widget: "+
(c-g)+" ms",!0);a.initiateWidgetParams.successCallback()}},onRealTimeMessageReceive:function(c){var d=this,e=!0,f=c.tcktMsg;!a.chatInstance.currConversation&&T&&f.rfChnlSnId===T.toString()&&(a.chatInstance.currConversation=c.cnvrstnHsh);var g=c.cnvrstnHsh;c.chnlSnId&&T&&c.chnlSnId!==T.toString()&&"customer"!==f.author.toLowerCase()&&(e=!1);e&&a.chatInstance.currConversation&&g&&g!==a.chatInstance.currConversation&&(e=!1);if(e){c.fetch&&a.RemoteCall.getMessageDetails(f.tcktMsgHsh,function(a){a.excp?
(console.log(JSON.stringify(a.msgs)),f=null):f=a.tcktMsg},function(a){console.log(JSON.stringify(a));f=null});if(f)if(-1==P.indexOf(f.tcktMsgHsh))if(P.push(f.tcktMsgHsh),1>b(a.chatInstance.selectors.chatHistoryList).find("."+f.tcktHsh).length&&b(a.chatInstance.selectors.chatHistoryList).append("\x3chr class\x3d'"+f.tcktHsh+"'/\x3e"),"customer"===f.author.toLowerCase()){if(f.publicNote&&c.chnlMsgIdntfr){if((e=b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+c.chnlMsgIdntfr+'"]'))&&
0<e.length)d.onTextMessageSendSuccess(c.chnlMsgIdntfr,f.tcktMsgHsh);else d.renderMessageReceivedFromServer(f,!0);b(a.chatInstance.selectors.joeMsgBubbleContainer).addClass("joe-hide")}}else d.addAgentMessageReceivedFromPubnub(f),d.addInputSection(f),f.publicNote&&(b(a.chatInstance.selectors.inputSection).find(".input-widget-loader").addClass("hide"),b(a.chatInstance.selectors.messageTextarea).val(a.chatInstance.cacheMessage),d.isChatMinimized()||!a.chatInstance.windowActive?(c=""==b(a.chatInstance.selectors.unreadCtr).find("strong").text().trim()?
0:parseInt(b(a.chatInstance.selectors.unreadCtr).find("strong").text().trim()),c+=1,d.isChatMinimized()&&(b(a.chatInstance.selectors.unreadCtr).find("strong").text(c),b(a.chatInstance.selectors.unreadBubbleCtr).text(c),b(a.chatInstance.selectors.unreadCtr).removeClass("hide"),b(a.chatInstance.selectors.unreadBubbleCtr).removeClass("joe-hide")),d.resetPageTitle(c),d.isChatMinimized()&&d.isChatBubbleHidden()||a.Audio.playMessagePing(a.chatInstance.maxMessagePings)):(b(a.chatInstance.selectors.unreadCtr).find("strong").text(""),
b(a.chatInstance.selectors.unreadBubbleCtr).text(""),d.resetPageTitle(),b(a.chatInstance.selectors.unreadCtr).addClass("hide"),b(a.chatInstance.selectors.unreadBubbleCtr).addClass("joe-hide"),d.setChatHistoryHeight(),X&&setTimeout(function(){d.setChatHistoryHeight();d.scrollToBottom()},50)));else"prod"!==M&&console.log("Skip render message \x3d\x3e hash: "+f.tcktMsgHsh);d.scrollToBottom()}},resetPageTitle:function(c){if((!this.isChatMinimized()||!this.isChatBubbleHidden())&&a.chatInstance.updateTitleEnable&&
"faf81e84d29d9efe3f1bf1cc9a17f444"!=q){var d=b("title").text(),e="",f=/^\([0-9]+\) /;c&&null!=c&&0<c&&(e="("+c+") ");c=f.test(d)?d.replace(f,e):e+d;c!=d&&b("title").text(c)}},onTypingMessageReceive:function(c){var d=c.cnvrstnHsh;if(0==b(".typing-container.joe-typing").length){var e=!0,f=b("div.joe-message.other-message:last");0<f.length&&""!=f.attr("data-tm-millis")&&(f=parseInt(f.attr("data-tm-millis")),c.timestamp<=f&&(e=!1));e&&a.chatInstance.currConversation&&d&&d!==a.chatInstance.currConversation&&
(e=!1);e&&(a.chatInstance.typingId=c.typingId,b(a.chatInstance.selectors.chatHistoryList).append(a.uiElementsHtml.getTypingIndicator(a.chatInstance.typingId)),this.scrollToBottom(),setTimeout(function(){b(a.chatInstance.selectors.chatHistory).find(".joe-typing[typingId\x3d'"+a.chatInstance.typingId+"']").remove()},1E4))}},showFullImageView:function(c){X?(c={imgSrc:c},b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.fullImageMobView(c))):(b(d.body).find("#joe-chat-full-body-overlay").remove(),
c={imgSrc:c},b("body").append(a.HandlebarsHtml.Template.fullImgFullView(c)),this.scrollToBottom());this.scrollToBottom()},setupInactivityAlert:function(b){a.chatInstance.currInactivityTimeoutId&&clearTimeout(a.chatInstance.currInactivityTimeoutId);a.chatInstance.currInactivityTimeoutId=setTimeout(function(){a.RemoteCall.sendInactivityAlert(a.chatInstance.customerHash,function(b){a.chatInstance.inactivityAlertPeriod=null},function(a){console.log("Error while inactivity call response: "+a)})},b)},setupMinInactivityAlert:function(b){var c=
this;a.chatInstance.currMinInactivityTimeoutId&&clearTimeout(a.chatInstance.currMinInactivityTimeoutId);a.chatInstance.currMinInactivityTimeoutId=setTimeout(function(){c.isChatMinimized()||X||c.toggleChatOpen()},b)},trimMsgAlert:function(){b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.trimMessageConfirmation({}))},setRemainingTextCount:function(c){0===b("#joe-text-counter").length&&c>Math.round(.9*a.maxTextareaCharLength)&&b(".fbots-chat-footer-main").prepend('\x3cspan id\x3d"joe-text-counter" class\x3d"font-1x lt-grsy" style\x3d"padding-left:15px;"\x3e0/'+
a.maxTextareaCharLength+"\x3c/span\x3e");var d=c+"/"+a.maxTextareaCharLength;c>a.maxTextareaCharLength?(b("#joe-text-counter").addClass("joe-text-red"),d=c+"/"+a.maxTextareaCharLength+ka.max_character_limit_exceeded):(c===a.maxTextareaCharLength&&(d=c+"/"+a.maxTextareaCharLength+ka.max_character_limit_reached),b("#joe-text-counter").removeClass("joe-text-red"),b(a.chatInstance.selectors.messageTextarea).attr("maxlength",a.maxTextareaCharLength));b("#joe-text-counter").html(d)},setChatHistoryHeight:function(c){var d,
e;!this.isChatMinimized()&&0<b(a.chatInstance.selectors.chatHistoryList).scrollTop()&&b(".chat-container .chat-header.lg-header").removeClass("lg-header");"embedded"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"embedded"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase()?(d=b(a.chatInstance.uiSettings.chatParentSelector).innerHeight(),e=0,X&&b("html, body").animate({scrollTop:b(B).offset().top},0)):(d=f.innerHeight,e=a.chatInstance.widgetFullScreen?0:95);var g=30*(d-95)/100;
b(".fbots-chat-footer-main").css("max-height",g+"px");var g=b(".chat-header").outerHeight(!0),h=b(".joe-chat-icon-header").outerHeight(!0),k=b(".chat-footer").outerHeight(!0);d=X?d-g-h-k:800>d||a.chatInstance.widgetFullScreen?d-g-h-k-e:799-g-h-k-e;c?b(a.chatInstance.selectors.chatHistory).outerHeight(c,!0):b(a.chatInstance.selectors.chatHistory).outerHeight(d,!0);c=(c=b("head").find('meta[author\x3d"freshbots"]'))&&c.length&&0<c.length?!0:!1;a.chatInstance.overrideClientHtmlMetadata&&!c&&b("head").prepend(b('\x3cmeta name\x3d"viewport" author\x3d"freshbots" content\x3d"width\x3ddevice-width, initial-scale\x3d1.0, minimum-scale\x3d1.0, maximum-scale\x3d1.0"/\x3e'))},
searchMessageInput:function(a){b("#listOptions li").removeClass("hide");b("#listOptions li:contains("+a+")").addClass("hide")},removeNewMessageTag:function(){1<=b(a.chatInstance.selectors.chatHistory).find(".joe-new-message").length&&(b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").scrollTop(parseInt(b(".joe-new-message").offset().top)),setTimeout(function(){b(a.chatInstance.selectors.chatHistory).find(".joe-new-message").remove()},5E3))},scrollToBottom:function(){0<b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").length&&
b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").scrollTop(b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")[0].scrollHeight)},hideChatWidget:function(){this.toggleChatOpen();b(".chat-container").css("display","none");b(a.chatInstance.selectors.joeMsgBubbleContainer).addClass("joe-hide");this.isChatBubbleHidden()||b("#mobile-chat-container").addClass("joe-hide")},showChatWidget:function(a){b(".chat-body").hide();a?this.isChatMinimized()&&(this.toggleChatOpen(),b("#mobile-chat-container").addClass("joe-hide")):
b("#mobile-chat-container").removeClass("joe-hide")},onPushPopStateChange:function(a){cb(a)?this.isChatMinimized()?this.isChatBubbleHidden()&&this.showChatWidget():b(".chat-container").css("display","block"):this.hideChatWidget()},slshMsgList:function(a,c,d,e){b(c).val()==d?(b("#"+a).removeClass("hide"),b("#"+a+" li").removeClass("hide"),b("#"+a+" li").removeClass("active"),b("#"+a+" li").not(".hide").first().addClass("active"),b("#"+a).scrollTop(0)):b(c).val().charAt(0)==d?(c=b(c).val().trim(),c=
c.substr(1).trim(),b("#"+a+" li:spdCaseInsensitiveContains("+c+")").removeClass("hide"),b("#"+a+" li:not(:spdCaseInsensitiveContains("+c+"))").addClass("hide"),13!==e.keyCode&&(b("#"+a).removeClass("hide"),b("#"+a+" li").removeClass("active"),b("#"+a+" li").not(".hide").first().addClass("active"),b("#"+a+" li").scrollTop(0)),(!b("#"+a+" li.active")||1>b("#"+a+" li.active").length)&&b(".fbot-bottom-list").addClass("hide")):(b("#"+a).addClass("hide"),b(".fbot-bottom-list").addClass("hide"))},keyNavigation:function(a,
c){38===c.keyCode?(c.preventDefault(),b("#"+a+" li.active").prevAll(":not('.hide'):eq(0)").addClass("active"),b("#"+a+" li.active").nextAll().removeClass("active"),b("#"+a).scrollTop(b("#"+a).scrollTop()-b("#"+a).offset().top+b("#"+a+" li.active").offset().top)):40===c.keyCode?(b("#"+a+" li.active").nextAll(":not('.hide'):eq(0)").addClass("active"),b("#"+a+" li.active").prevAll().removeClass("active"),b("#"+a).scrollTop(b("#"+a).scrollTop()-b("#"+a).offset().top+b("#"+a+" li.active").offset().top)):
13===c.keyCode&&(b("#Bots-List-Items").is(":visible")?this.addValueToInput(b("#"+a+" li.active").attr("sendText")):this.addMessageOnListClick(b("#"+a+" li.active").attr("sendText"),b("#Slsh-Cmnds-List-Items li.active").attr("sendText")),b("#"+a).addClass("hide"))},addValueToInput:function(c){b(a.chatInstance.selectors.messageTextarea).val("@"+c+" ")},movableMobileContainerBindEvent:function(){b(d.body).on("touchstart","#mobile-chat-container",function(){var c=this;c.style.position="fixed";d.ontouchmove=
function(d){if(1==d.touches.length){var e=d.touches[0];c.style.position="fixed";e.clientX<=f.innerWidth-25&&26<=e.clientX&&e.clientY<=f.innerHeight-25&&26<=e.clientY&&(c.style.left=e.clientX-25+"px",c.style.bottom=f.innerHeight-e.clientY-25+"px",b(a.chatInstance.selectors.joeMsgBubbleContainer).addClass("joe-hide"));d.preventDefault()}};c.ontouchend=function(a){0<a.changedTouches.length&&(a=a.changedTouches[0],c.style.position="fixed",a.clientX<=f.innerWidth-25&&26<=a.clientX&&a.clientY<=f.innerHeight-
25&&26<=a.clientY&&(c.style.left=a.clientX<=(f.innerWidth-25)/2?"15px":f.innerWidth-50-15+"px"));d.ontouchmove=function(a){return!0}}});b(d.body).on("click",a.chatInstance.selectors.msgBubbleBtnClose,function(c){b(a.chatInstance.selectors.joeMsgBubbleContainer).addClass("joe-hide");c.stopPropagation();return!1})},isUrlChange:function(){var b=!0;f.location.href.split("#")[0]!==ba.split("#")[0]?(a.Log.logMessage("Page url change from "+ba+" to "+f.location.href,!0),ba=f.location.href,b=!0):(a.Log.logMessage("Page url old "+
ba+" and new url "+f.location.href+" is same",!0),b=!1);return b},bindWindowEvents:function(){var c=this;k?a.Log.logMessage("Window events already bind",!0):(b(d).on("visibilitychange",function(){"hidden"==d.visibilityState?a.chatInstance.windowActive=!1:(a.RealTimeConnection.isRealTimeConnectionPresent()||c.refreshChatHistory(),c.isChatMinimized()||(c.resetPageTitle(),c.removeNewMessageTag()),c.setChatHistoryHeight(),a.chatInstance.windowActive=!0)}),b(f).resize(function(){c.setChatHistoryHeight();
c.scrollToBottom()}))},bindDocumentEvents:function(){var c=this;if(k)a.Log.logMessage("Document events already bind",!0);else{y&&b(y).click(function(a){a.preventDefault();c.showChatWidget(!0)});b(d.body).on("click","#fbots-close",function(a){a.preventDefault();c.hideChatWidget()});b(d.body).on("click","#joe-menu-dropdown li",function(){"/closeChat"==b(this).attr("sendText")?c.endChatAlert():c.sendMenuItem(b(this).attr("sendText"));b("#joe-menu-dropdown").css("display","none")});b(d.body).on("focusin",
".chat-container .chat-footer input",function(){b(".chat-container .chat-footer").addClass("joe-input-box-shadow")});b(d.body).on("focusout",".chat-container .chat-footer input",function(){b(".chat-container .chat-footer").removeClass("joe-input-box-shadow")});b(d.body).on("click","#joe-chat-icon-header li .joe-chat-menu-button",function(){"/closeChat"==b(this).attr("sendText")?c.endChatAlert():c.sendMenuItem(b(this).attr("sendText"))});b(d.body).on("click",".chat-container .chat-header .joe-icon, .chat-container .chat-header .left-joe-icon, .chat-container .chat-header .menu-joe-icon",
function(){var a={actns:[JSON.parse(b(this).attr("data-action"))]};a.actns&&a.actns[0]&&c.handleMessageActions(a)});b(d.body).on("click",".joe-itemslider-btn",function(){var d=a.chatInstance.message.type.text;b(this).data("sendPrivateMessage")&&(d=a.chatInstance.message.type["private"]);a.chatInstance.isButtonEnabled&&(a.chatInstance.isButtonEnabled=!1,c.createConnectionIfNeededAndSendMessage({type:d,messageToSend:b(this).val(),displayText:b(this).attr("displayText"),refTmHash:b(this).attr("ref-tm-hash")}))});
b(d.body).on("click","#Slsh-Cmnds-List-Items li",function(a){a.stopPropagation();"/closeChat"==b(this).attr("sendText")?c.endChatAlert():c.addMessageOnListClick(b(this).attr("sendText"),b(this).attr("sendText"));b("#Slsh-Cmnds-List-Items").addClass("hide")});b(d.body).on("click","#Bots-List-Items li",function(a){c.addValueToInput(b(this).attr("sendText"));b("#Bots-List-Items").addClass("hide")});b(d.body).on("click",".chat-container .joe-menu-btn, .chat-container .joe-menu-btn i, .chat-container .joe-menu-btn span",
function(a){a.stopPropagation();b("#joe-menu-dropdown").toggle()});b(d.body).on("click",".chat-container .joe-menu-btn *",function(a){a.stopPropagation()});b(d.body).on("click",".chat-container",function(){b("#joe-menu-dropdown").css("display","none")});b(d.body).on("click","#mobile-chat-container .joe-msg-bubble-container",function(a){a.stopPropagation()});b(d.body).on("click","#min, #o-c-icons, .joe-msg-bubble-container, #mobile-chat-container",function(){a.chatInstance.logChatOpen&&c.isChatMinimized()&&
a.RemoteCall.logChatOpen(a.chatInstance.customerHash,a.chatInstance.latestAgentMessageHash,function(b){a.chatInstance.logChatOpen=!1});c.isChatMinimized()&&"WIDGET_OPENED_BY_VISITOR"===a.chatInstance.actionType&&c.sendVisitorActionMessage();c.toggleChatOpen.apply(c)});b(d.body).on(Ja,a.chatInstance.selectors.messageSendButton,function(){c.addMessage.apply(c)});b(d.body).on("click","#joe-center-input-send",function(){""!=b("#joe-center-input").val()&&(c.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,
messageToSend:"I want "+b("#joe-center-input").val()}),b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide"),b("#joe-chat-icon-header").removeClass("joe-hide"),a.chatInstance.uiSettings.showFullBodyInput=!1)});b(d.body).on("keyup","#joe-center-input",function(d){13===d.keyCode&&""!=b("#joe-center-input").val()&&(c.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:"I want "+b("#joe-center-input").val()}),b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide"),
b("#joe-chat-icon-header").removeClass("joe-hide"),a.chatInstance.uiSettings.showFullBodyInput=!1)});if(!X)b(d.body).on("mousemove",function(){b(".chat-container").outerHeight(!0)>f.innerHeight&&c.setChatHistoryHeight()});b(d.body).on("click",a.chatInstance.selectors.optionRadioButton,function(){c.addMessageOnRadioClick(b(this).find(".option-to-send").attr("value"))});b(d.body).on("click",a.chatInstance.selectors.joeChatBodyOverlay,function(){b(this).hasClass("prevent-hide")||b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide")});
b(d.body).on("click","#joe-chat-body-overlay \x3e",function(a){a.stopPropagation()});b(d.body).on("click",a.chatInstance.selectors.joeChatFullBodyOverlay,function(){b(a.chatInstance.selectors.joeChatFullBodyOverlay).addClass("joe-hide")});b(d.body).on("click","#joe-chat-full-body-overlay \x3e",function(a){a.stopPropagation()});b(d.body).on(Ja,".joe-quickReplyList",function(){c.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:b(this).attr("value"),displayText:b(this).text(),
skipValidation:!0})});b(d.body).on("click","#strt-new-chat",function(){c.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:"Hi"})});b(d.body).on("click",a.chatInstance.selectors.joeChatEndYesBtn,function(){b(a.chatInstance.selectors.joeChatBodyOverlay).find(".joe-end-chat-alert *").css("display","none");b(a.chatInstance.selectors.joeChatBodyOverlay).find(".joe-end-chat-alert").children(".input-widget-loader").css("display","block");c.endChat()});b(d.body).on("click",
"#joe-star-rate i",function(){b(a.chatInstance.selectors.joeStarRate).find("i").removeClass("joe-star-active");b(a.chatInstance.selectors.joeStarRate).find(".joe-text-div").removeClass("joe-red-alert-text");b(this).nextAll("i").addClass("joe-star-active");b(this).addClass("joe-star-active");c.sendAppRating(b(a.chatInstance.selectors.joeStarRate).find("i").length-b(this).index()+1)});b(d.body).on("click",a.chatInstance.selectors.joeFeedbackBtn,function(){0<b(a.chatInstance.selectors.activeStar).length?
c.sendAppFeedback(b(a.chatInstance.selectors.activeStar).length,b(a.chatInstance.selectors.joeFeedbackTxt).val()):b(a.chatInstance.selectors.joeStarRate).find(".joe-text-div").addClass("joe-red-alert-text")});b(d.body).on("click",a.chatInstance.selectors.chatHistoryImg,function(){c.showFullImageView(b(this).attr("src"))});b(d.body).on("click",a.chatInstance.selectors.joeChatEndNoBtn,function(){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("hide")});b(d.body).on("click",a.chatInstance.selectors.joeOverlayCrossBtn,
function(){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("hide");b(this).hasClass("joe-rate-div")&&c.toggleChatOpen()});b(d.body).on("click",a.chatInstance.selectors.joeFullOverlayCrossBtn,function(){b(a.chatInstance.selectors.joeChatFullBodyOverlay).addClass("joe-hide")});b(d.body).keyup(function(c){27===c.keyCode&&b(a.chatInstance.selectors.joeChatFullBodyOverlay).addClass("joe-hide")});c.movableMobileContainerBindEvent();b(d.body).on("change",".joe-radio-list-btn input[name\x3d'listOptions']",
function(){c.addMessageOnListClick(b(this).val(),b(this).attr("data-display"));b("input[type\x3d'radio']#listOptions").addClass("hide")});b(d.body).on("click",".joe-radio-list-btn div",function(a){a.stopPropagation();c.addMessageOnListClick(b(this).find("input[name\x3d'listOptions']").val(),b(this).find("input[name\x3d'listOptions']").attr("data-display"));b("input[type\x3d'radio']#listOptions").addClass("hide")});b(d.body).on("click",".joe-radio-list-btn div \x3e",function(a){a.stopPropagation()});
b(d.body).on("click",".chat-container .joe-faq-items",function(a){b("[data-target\x3d'"+b(this).attr("id")+"']").removeClass("joe-hide")});b(d.body).on("click",".chat-container .joe-back-arrow",function(a){a=b(this).parents(".joe-faq-item-full");a.clone().prependTo(".chat-container");a.remove();b(".chat-container .joe-faq-item-full").addClass("joe-hide")});b(d.body).on("click",".chat-container .joe-faq-fdbk-btn",function(d){""==b(this).attr("data-tmo-id")?(b(this).parent("div").css("visibility","hidden"),
b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").removeClass("hide"),c.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.feedback,customerHash:a.chatInstance.customerHash,refTmhash:b(this).attr("ticket-message-hash"),answr:b(this).attr("data-value"),enty:"TICKET_MESSAGE",tcktMsgOptnId:null,inputRef:this})):(b(this).parent(".tmo-feedback-div").addClass("hide"),c.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.feedbackTmo,customerHash:a.chatInstance.customerHash,
refTmhash:b(this).attr("ticket-message-hash"),answr:b(this).attr("data-value"),enty:"TICKET_MESSAGE_OPTION",tcktMsgOptnId:b(this).attr("data-tmo-id"),inputRef:this}))});b(d.body).on("keyup",a.chatInstance.selectors.selectizeInputText,function(a){if(13===a.keyCode)return c.onEnterPressOnSelect(a)});b(d.body).on("click","#joe-chat-send-img-yes",function(){c.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.image,input:d.getElementById("joeImgInp")});b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide")});
b(d.body).on("click","#joe-chat-send-img-no",function(){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide");b("#joeImgInp").val("")});b(d.body).on("change","#joeImgInp",function(){var d=this.files[0],e=d.type;a.chatInstance.uploadFileProp=d;d=["image/jpeg","image/png","image/jpg"];if(e!=d[0]&&e!=d[1]&&e!=d[2])return!1;X?c.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.image,input:this}):this.files&&this.files[0]&&(e=new FileReader,e.onload=function(c){c={imgSrc:c.target.result};
b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.imgUploadPrev(c))},e.readAsDataURL(this.files[0]))});b(d.body).on("change","#joeFileInp",function(){var c=this.files[0];a.chatInstance.uploadFileProp=c;c.name.substring(c.name.lastIndexOf(".")+1).toLowerCase();if(this.files&&this.files[0]){var d=new FileReader;d.onload=function(d){d={fileSrc:c.name};b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.fileUploadPrev(d))};d.readAsDataURL(this.files[0])}});
b(d.body).on("click","#joe-chat-send-file-yes",function(){c.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.file,input:d.getElementById("joeFileInp")});b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide")});b(d.body).on("click","#joe-chat-send-file-no",function(){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide");b("#joeFileInp").val("")});b(d.body).on("change",a.chatInstance.selectors.yearSelect,function(a){c.resetMonthSelect(b(this))});b(d.body).on("change",
a.chatInstance.selectors.monthSelect,function(a){c.resetDateSelect(b(this))});b(d.body).on("change",a.chatInstance.selectors.hourSelect,function(c){var d=a.Date.getMinutesForHour(parseInt(b(this).val()),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-start-date")),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-end-date")),parseInt(b(a.chatInstance.selectors.rangeHiddenInput).attr("date-interval"))),e="";b.each(d,function(a,b){e+=
"\x3coption\x3e"+d[a]+"\x3c/option\x3e"});b(a.chatInstance.selectors.minuteSelect).empty().append(e)});X&&(b(d.body).on("focusin",a.chatInstance.selectors.messageTextarea,function(c){a.chatInstance.lastChatHistoryHeight=b(a.chatInstance.selectors.chatHistory).outerHeight(!0)}),b(d.body).on("focusout",a.chatInstance.selectors.messageTextarea,function(b){c.setChatHistoryHeight(a.chatInstance.lastChatHistoryHeight);c.scrollToBottom()}));b(d.body).on("click","#joe-trim-yes",function(d){d=b(a.chatInstance.selectors.messageTextarea).val();
d=d.slice(0,a.maxTextareaCharLength);b(a.chatInstance.selectors.messageTextarea).val(d.slice(0,a.maxTextareaCharLength));c.setRemainingTextCount(a.maxTextareaCharLength);b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide")});b(d.body).on("click","#joe-trim-no",function(c){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide")});b(d.body).on("paste",a.chatInstance.selectors.messageTextarea,function(d){d=(d.clipboardData||d.originalEvent.clipboardData||f.clipboardData).getData("text").length+
b(a.chatInstance.selectors.messageTextarea).val().length;b(a.chatInstance.selectors.messageTextarea).attr("maxlength",d);d>=a.maxTextareaCharLength&&(c.trimMsgAlert(),c.setRemainingTextCount(d),c.setChatHistoryHeight(),c.scrollToBottom())});b(d.body).on("keydown",a.chatInstance.selectors.messageTextarea,function(a){if(b("#Slsh-Cmnds-List-Items").is(":visible")||b("#Bots-List-Items").is(":visible"))38!==a.keyCode&&40!==a.keyCode||a.preventDefault()});b(d.body).on("keyup",a.chatInstance.selectors.messageTextarea,
function(d){b(a.chatInstance.selectors.alertTextFooterInput).addClass("hide");b(this).removeClass("joe-text-red");if(38!==d.keyCode&&40!==d.keyCode&&13!==d.keyCode){var e=null,f=null;"/"==b(this).val().charAt(0)?(e="Slsh-Cmnds-List-Items",f="/"):"@"==b(this).val().charAt(0)&&(e="Bots-List-Items",f="@");c.slshMsgList(e,this,f,d)}"/"==b(this).val().charAt(0)&&b("#Slsh-Cmnds-List-Items").is(":visible")?c.keyNavigation("Slsh-Cmnds-List-Items",d):"@"==b(this).val().charAt(0)&&b("#Bots-List-Items").is(":visible")?
c.keyNavigation("Bots-List-Items",d):(13===d.keyCode&&c.addMessage(),a.chatInstance.cacheMessage=b(a.chatInstance.selectors.messageTextarea).val(),c.setRemainingTextCount(a.chatInstance.cacheMessage.length));c.setChatHistoryHeight();c.scrollToBottom()});d.addEventListener("scroll",function(e){b(e.target).is(".joe-message-list")&&"0"==b(e.target).scrollTop()&&a.chatInstance.load&&b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")[0].scrollHeight>b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").height()+
20&&(0===d.getElementsByClassName("joe-loader").length&&b(a.chatInstance.selectors.chatHistoryList).prepend('\x3cdiv class\x3d"joe-loader"\x3e\x3c/div\x3e'),a.chatInstance.load=!1,c.loadMorePreviousMsg(b(this).find(".chat-container .joe-message:first").attr("ticketMessageHash")))},!0);b(d.body).on("keyup",a.chatInstance.selectors.searchList,function(){b(a.chatInstance.selectors.optionList).addClass("hide");b(a.chatInstance.selectors.optionList).find(":spdCaseInsensitiveContains("+b(this).val()+")").removeClass("hide");
""===b(this).val().trim()&&b(a.chatInstance.selectors.optionList).removeClass("hide")});b(d.body).on("change",a.chatInstance.selectors.optionSelect,function(){""!=b(this).val()?(c.addMessageOnListClick(b(this).val(),b(this).text()),a.chatInstance.selectizeRef[0].selectize.close(),b(a.chatInstance.selectors.optionSelect).addClass("hide")):a.chatInstance.selectizeDefaultVal=null});b(d.body).on("mousewheel",a.chatInstance.selectors.chatHistoryList,function(a){var c=-1*a.originalEvent.wheelDelta;a.preventDefault();
b(this).scrollTop(c+b(this).scrollTop())});b(d.body).on("mousewheel",".joe-faq-body",function(a){var c=-1*a.originalEvent.wheelDelta;a.preventDefault();b(this).scrollTop(c+b(this).scrollTop())});b(d.body).on("keydown",function(c){if(!ua&&!va||38!==c.keyCode&&40!==c.keyCode)ua&&9===c.keyCode?ua=!1:va&&9===c.keyCode&&(ua=!1);else{c.preventDefault();var d=null,d=38===c.keyCode?-40:40;ua?b(a.chatInstance.selectors.chatHistoryList).scrollTop(d+b(a.chatInstance.selectors.chatHistoryList).scrollTop()):b(".joe-faq-body").scrollTop(d+
b(".joe-faq-body:visible").scrollTop())}});b(d.body).on("keyup",function(a){!ua&&!va||38!==a.keyCode&&40!==a.keyCode||a.preventDefault()});b(d.body).on("keypress",function(a){!ua&&!va||38!==a.keyCode&&40!==a.keyCode||a.preventDefault()});b(d.body).on("click doubleclick",function(a){b(a.target).is(".joe-message-list")||0<b(a.target).parents().closest(".joe-message-list").length?(ua=!0,va=!1):b(a.target).is(".joe-faq-body")||0<b(a.target).parents().closest(".joe-faq-body").length?(va=!0,ua=!1):va=ua=
!1});a.chatInstance.inactivityAlertPeriod&&(c.setupInactivityAlert(a.chatInstance.inactivityAlertPeriod),b(d.body).on("focus",a.chatInstance.selectors.chatContainer+" *, #mobile-chat-container *",function(){a.chatInstance.inactivityAlertPeriod&&c.setupInactivityAlert(a.chatInstance.inactivityAlertPeriod)}));a.chatInstance.inactivityMinAlertPeriod&&(c.setupMinInactivityAlert(a.chatInstance.inactivityMinAlertPeriod),b(d.body).on("focus, click",a.chatInstance.selectors.chatContainer+" *, #mobile-chat-container *",
function(){a.chatInstance.inactivityMinAlertPeriod&&c.setupMinInactivityAlert(a.chatInstance.inactivityMinAlertPeriod)}),b(d.body).on("keyup",".chat-container input[type\x3d'text']",function(){a.chatInstance.inactivityMinAlertPeriod&&c.setupMinInactivityAlert(a.chatInstance.inactivityMinAlertPeriod)}));k=!0}}}}(),ta=function(c){var d={uiSettings:{mobileChatBoxStyle:"",webChatBoxStyle:"",initHeightFromBottom:c.uiStngs.initHghtChtBbl,openOnDefault:!1,openOnDefaultForDesktopAndMobile:!1,showChatHeader:c.shwChtHdr,
chatParentSelector:c.chtPrntSlctr,showFullBodyInput:!0,showMessengerBubble:c.shwFbCht,widgetHeaderCnfg:c.uiStngs.wdgtHdr,rmvJoeBrndng:c.uiStngs.rmvJoeBrndng},uiTheme:{otherMessageColor:"#c1dede"},uiThemeCss:c.uiStngs.wdgtCss,dataStore:c.dtStr.toLowerCase(),customerHash:c.cstmr?c.cstmr.cstmrHsh:null,pendingMessageQueue:[],metadataClientParams:c.prmSlctrs,menu:{showIcons:!1,menuNodeList:null,shareMessages:null,slashCommandList:null},bots:null,headerText:"",maxMessagePings:null,updateTitleEnable:c.updtTtl,
windowActive:!0,dateFormat:c.dtFrmt,timeFormat:c.tmFrmt,dataAttributes:{msgTimestamp:"data-msg-timestamp"},selectors:{chatContainer:".chat-container",header:".chat-container .chat-header",chatHistory:".chat-history",unreadCtr:"#unread-ctr",unreadBubbleCtr:"#joe-bubble-unread",messageSendButton:"#msg-send-btn",messageTextarea:"#message-to-send",optionRadioButton:".optionBtn",optionSelect:"select#listOptions",optionList:"select#listOptions li",searchList:"#input-search",chatHistoryList:".chat-history .joe-message-list",
chatHistoryImg:".chat-history .joe-message img",inputSectionParent:".chat-footer",inputSection:"#agent-msg-submit",joeStarRate:"#joe-star-rate",joeChatBodyOverlay:"#joe-chat-body-overlay",joeChatFullBodyOverlay:"#joe-chat-full-body-overlay",joeOverlayCrossBtn:"#joe-overlay-cross-btn",joeFullOverlayCrossBtn:"#joe-full-overlay-cross-btn",joeFeedbackTxt:"#joe-feedback-txt",joeFeedbackBtn:"#joe-feedback-btn",joeChatEndYesBtn:"#joe-chat-end-yes",joeChatEndNoBtn:"#joe-chat-end-no",selectizeInputText:".selectize-control input[type\x3dtext]",
yearSelect:"select#year-to-send",monthSelect:"select#month-to-send",dateSelect:"select#date-to-send",hourSelect:"#hrs-to-send",minuteSelect:"#mins-to-send",rangeHiddenInput:"#date-rnge",activeStar:".joe-star-active",joeMsgBubbleContainer:".joe-msg-bubble-container",msgBubbleBtnClose:".joe-msg-bubble-container .msg-bubble-btnclose",sliderContainer:".joe-slider-container",googlePacContainer:".pac-container",msgStatus:".msg-status",msgTimeElementWithRelativeTime:"div.joe-message span.joe-msg-time[data-timestamp-type\x3drelative]",
alertTextFooterInput:".chat-container .chat-footer #alert-text"},customTemplate:{errorMessageIcon:'\x3cspan class\x3d"fa fa-exclamation-triangle icon-error" aria-hidden\x3d"true"\x3e\x3c/span\x3e\x26nbsp;\x26nbsp;'},message:{type:{text:"text",file:"file",image:"image","private":"private",feedback:"feedback",feedbackTmo:"feedbackTmo"}},chatContainerBasicHtml:null,uploadFileProp:{},load:!1,isRated:!1,selectizeRef:null,addressInputRef:null,selectizeDefaultVal:null,addressInputDefaultVal:null,logChatOpen:!0,
cacheMessage:"",typingId:"",latestAgentMessageHash:null,inactivityAlertPeriod:c.inctvtyAlrtPrd,currInactivityTimeoutId:null,inactivityMinAlertPeriod:c.minAftrInctvtyAlrtPrd,currMinInactivityTimeoutId:null,timestampUpdateTimeIntervalPeriod:6E4,timestampUpdateTimeIntervalId:null,visitorActionMessageHash:null,numberOfMessageToBeLoad:X?20:9,forceOpenEnable:!0,actionType:null,lastAuthor:null,currConversation:null,allMessageHash:[],lastInputType:null,lastChatHistoryHeight:null,widgetPauseTime:c.chtBxShwDly,
widgetFullScreen:"fullscreen"===c.uiStngs.chtWdgtSz.toLowerCase(),messengerBubbleLink:c.fbMsngrLnk,overrideClientHtmlMetadata:c.uiStngs.chtWdgtOvrdHtlMtDt,isButtonEnabled:!0};a.String.isNotBlank(c.uiStngs.cstmCssPth)&&a.getCssFile(c.uiStngs.cstmCssPth,!0,function(){a.Object.isNotNull(a.chatInstance)?ca.setChatHistoryHeight():a.Log.logMessage("Chat Instance is null custom css",!0)});d.openOnDefault=c.opnChtOnDsktp;var e=f.location.href.split("#");1<e.length&&"open"===e[1]&&(d.openOnDefault=!0,d.openOnDefaultForDesktopAndMobile=
!0);a.String.isNotBlank(c.chatBoxHeader)&&(d.headerText=c.chatBoxHeader);d.maxMessagePings=c.maxMsgPngs;(a.Object.isNull(d.maxMessagePings)||0!==d.maxMessagePings)&&a.Audio.setAudioFile(U+"/assets/share/audio/ping.mp3");c.menu&&(d.menu.showIcons=c.menu.mnAsIcnHdr,c.menu.menus&&(d.menu.menuNodeList=c.menu.menus),c.shrMsgsRspns.shrMsgs&&(d.menu.shareMessages=c.shrMsgsRspns.socialNetworkToShareDTO),c.menu.slshCmnds&&(d.menu.slashCommandList=c.menu.slshCmnds));c.bots&&(d.bots=c.bots);X?d.uiSettings.mobileChatBoxStyle=
c.uiStngs.mbilChtBxStyl:d.uiSettings.webChatBoxStyle=c.uiStngs.wbChtBxStyl;A&&B&&"embedded"==A.toLowerCase()&&1==b(B).length&&(X?d.uiSettings.mobileChatBoxStyle=A.toLowerCase():d.uiSettings.webChatBoxStyle=A.toLowerCase(),d.uiSettings.chatParentSelector=B,d.uiSettings.showChatHeader=!1);return d},cb=function(a){return null!==a.chatBoxShow&&!a.chatBoxShow||X&&(!a.uiStngs.mbilChtBxStyl||"none"===a.uiStngs.mbilChtBxStyl.toLowerCase())?!1:!0},Qa=null,Ua=function(b){a.Log.logMessage("init combined call done",
!0);var c={data:b.data.intCstmr};Qa={data:b.data.hstryAndIntCht};Ma(c)},Ma=function(c){if(c.error)console.log("Message send failed - ["+c.error.msg+"]");else if(c.data&&c.data.cstmr&&a.LocaleUtils.setLocaleData(c.data.languageTextHolder,c.data.cstmr.language),ka=a.LocaleUtils.getLocaleData(),c=c.data,cb(c)){if(c.cstmr){var d=c.cstmr.cstmrHsh;if("local_storage"===c.dtStr.toLowerCase()){if(!Ea){console.log("Local storage not supported!");return}Z.setItem("spd-custhash",d)}else Ea&&Z.removeItem("spd-custhash");
a.readCookie("spd-custhash")!==d&&a.setCookieWithValidityInDays("spd-custhash",d,365)}b.extend(b.expr[":"],{spdCaseInsensitiveContains:function(a,b,c,d){return 0<=(a.textContent||a.innerText||"").toLowerCase().indexOf((c[3]||"").toLowerCase())}});a.String.isNotBlank(c.googleMpsApiKy)&&a.getJsFile("https://maps.googleapis.com/maps/api/js?libraries\x3dplaces\x26key\x3d"+c.googleMpsApiKy,!0);a.RealTimeConnection.setConnectionParams(c);a.chatInstance=new ta(c);a.chatInstance.widgetPauseTime?setTimeout(function(){ca.setup()},
a.chatInstance.widgetPauseTime):ca.setup();a.historyActionEnable=!0}else a.chatInstance&&a.RealTimeConnection.unsubscribe(a.chatInstance.customerHash)};b(d.body).on("click","#landingSubmit",function(){var b=a.readCookie("spd-custhash");!Ea||"undefined"!==b&&null!=b&&""!==b||(b=Z.getItem("spd-custhash"));a.RemoteCall.logAction(b,"#landingSubmit");return!0});ga=a.readCookie("joe-chnlcustid");!Ea||"undefined"!==ga&&null!=ga&&""!==ga||(ga=Z.getItem("joe-chnlcustid"));if("undefined"===ga||null==ga||""===
ga)ga=a.String.getHash(a.String.getRandomString(6)+q+x+w+a.String.getRandomString(6)),Ea&&Z.setItem("joe-chnlcustid",ga),a.setCookieWithValidityInDays("joe-chnlcustid",ga,365);b.extend(e,{version:"1.0.4",showWidget:function(b){a.Log.logMessage("Show widget called with showAsOpen: "+b,!0);a.Object.isNull(a.chatInstance)?a.Log.logMessage("No chat instance found!"):ca.showChatWidget(b)},hideWidget:function(){a.Log.logMessage("Hide widget called",!0);a.Object.isNull(a.chatInstance)?a.Log.logMessage("No chat instance found!"):
ca.hideChatWidget()},setChatHistoryHeight:function(){return ca.setChatHistoryHeight()},sendTextMessage:function(b,c){var d=a.chatInstance.message.type.text;c&&(d=a.chatInstance.message.type["private"]);ca.createConnectionIfNeededAndSendMessage({type:d,messageToSend:b,displayText:b})},activate:function(b){a.historyActionEnable&&this.deActivate();Na(b);a.isWidgetDeActivated=!1},deActivate:function(){a.isWidgetDeActivated=!0;a.historyActionEnable=!1;b(".chat-container").remove();b(".mobile-chat-container").remove();
this.hideWidget();a.Log.logMessage("Widget deactivated!",!0)},resetCustomer:function(b){console.log("resetting customer");Z.removeItem("spd-custhash");Z.removeItem("joe-custinfo");Z.removeItem("joe-chnlcustid");a.setCookieWithValidityInDays("spd-custhash","",-1);a.setCookieWithValidityInDays("joe-custinfo","",-1);a.setCookieWithValidityInDays("joe-chnlcustid","",-1);b||(console.log("reloading page now"),location.reload(!0))}});var Na=function(d,e){var f=b.extend({clientHash:q,externalClientId:x,productHash:w},
d);a.Log.logMessage("Reset widget called",!0);b(".fbots-style").remove();c=!1;T=null;a.chatInstance&&(q!==f.clientHash||x!==f.externalClientId&&w!==f.productHash||e)&&a.RealTimeConnection.unsubscribe(a.chatInstance.customerHash);q=f.clientHash;x=f.externalClientId;for(w=f.productHash;0<P.length;)P.pop();Ra(a.Options.getObject(),a.initiateWidgetParams.successCallback,a.initiateWidgetParams.errorCallback)},z=function(){var b=a.Options.getData(a.Options.reservedOptions.clientParams),c=a.Options.getObject();
b&&(b["sn::cstmr::id"]||b["sn::auth::id"])&&this.resetCustomer(!0);Na(c,!0)},Ra=function(d,e,f){g=(new Date).getTime();a.Log.logMessage("Initiate widget called",!0);a.initiateWidgetParams.successCallback=e;a.initiateWidgetParams.errorCallback=f;if(c)a.Log.logMessage("Widget is already initiated!");else if(b(".chat-container").remove(),b(".mobile-chat-container").remove(),e&&"function"!==typeof e)a.Log.logMessage("Only callbacks of type function are supported");else if(f&&"function"!==typeof f)a.Log.logMessage("Only callbacks of type function are supported");
else{var h=function(b){a.Log.logMessage("Initiate widget error callback",!0);f&&f()},k=this;a.Options.setObject(d);var m=a.readCookie("spd-custhash");!Ea||m&&"undefined"!==m&&""!==m||(m=Z.getItem("spd-custhash"));"opt"===v?(a.Log.logMessage("initCombined call start",!0),E=a.Options.getData(a.Options.reservedOptions.clientParams),T=a.String.getHash(ba+(new Date).getTime()),a.RemoteCall.initCombined(m,function(a){Ua.apply(k,[a])},function(b){b&&b.status&&401==b.status?a.RemoteCall.initCombined(m,function(a){Ua.apply(k,
[a])},function(b){a.Log.logMessage("Error while init customer combined. response: "+JSON.stringify(b));h()}):(a.Log.logMessage("Error while init customer combined. response: "+JSON.stringify(b)),h())})):a.RemoteCall.initCustomer(m,function(a){Ma.apply(k,[a])},function(b){b&&b.status&&401==b.status?a.RemoteCall.initCustomer(m,function(a){Ma.apply(k,[a])},function(b){a.Log.logMessage("Error while init customer. response: "+JSON.stringify(b));h()}):(a.Log.logMessage("Error while init customer. response: "+
JSON.stringify(b)),h())});c=!0}},aa=function(){a.Log.logMessage("Initiate chat called",!0);a.Object.isNull(a.chatInstance)?a.Log.logMessage("No chat instance found!"):m?a.Log.logMessage("Initiate Chat blocked as an earlier request is waiting for response",!0):(m=!0,ca.loadPreviousMsgAndInitChat())};u?Ra():(e.initiateWidget=Ra,e.reloadContext=z,"delayed"===v&&(e.initiateChat=aa));d.addEventListener("turbolinks:render",function(){a.Log.logMessage("Turbolinks page loaded");Na();k=!1;ca.bindDocumentEvents()});
d.addEventListener("securitypolicyviolation",function(b){var c=/(.*)rts-(.*)\.freshworksapi.com\/(.*)/i;a.RealTimeConnection.rts.active&&!a.RealTimeConnection.rts.connected&&(a.Log.logMessage(b),b.blockedURI&&c.test(b.blockedURI)&&(a.RealTimeConnection.pusher.active=!0,a.RealTimeConnection.rts.active=!1,a.RealTimeConnection.fallbackToPusherOnCSP=!0,a.RealTimeConnection.realtimeConnectOnInit&&!a.RealTimeConnection.isRealTimeConnectionPresent()?ca.initiateRealTimeConnection(ca.createSessionIfNeededAndShowWidget):
ca.initiateRealTimeConnection(ca.processPendingMessageQueue)))});var Ja;Ja=!0==="ontouchstart"in d.documentElement?"touchstart":"click"}catch(qb){console.log("error \x3d\x3e "+qb)}a.Log.logMessage("Freshbots script completed",!0);return e}(window.jQuery,window,document);